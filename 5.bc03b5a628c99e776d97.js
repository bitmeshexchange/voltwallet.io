(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1106:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return i(e,t);return null},e.exports.format=i,e.exports.parse=s;var a=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},c=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function i(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),c=t&&t.thousandsSeparator||"",i=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var p=(e/o[u.toLowerCase()]).toFixed(s);return l||(p=p.replace(r,"$1")),c&&(p=p.replace(a,c)),p+i+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=c.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(o[a]*t)}},1112:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n.n(a),o=n(139),c=n(1037),i=n.n(c),s=n(16);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props.className||i.a.icon,t=this.props.token||1;return r.a.createElement("div",{className:e},r.a.createElement(o.a,{type:Object(s.j)(t).icon}))}}])&&u(n.prototype,a),c&&u(n,c),t}(a.Component)},1125:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),c=n(165),i=(n(282),n(67)),s=n.n(i),l=n(16),u=n(1085);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(u.c)(),d=Object(c.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){h(e,t,n[t])}))}return e}({},e.wallet)}))(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.price,n=e.value,a=e.usd,r=e.exchangeRate,c=e.token,i=l.o[c||1].name.toLowerCase();if(!t[i])return null;var u=null,p=v.currencyCode.toLowerCase();u=t[i][p]?t[i][p]:s()(t[i].usd).times(r[p]),a&&(u=s()(u).div(t[i].usd).multipliedBy(a));var f=s()(n).div(1e8).times(u).toFixed(2,1);return o.a.createElement("span",null,v.symbol,f," ",v.currencyCode)}}])&&f(n.prototype,a),r&&f(n,r),t}(r.Component))||a;t.a=d},1148:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(569);var a,r=n(289),o=(n(560),n(281)),c=n(1),i=n.n(c),s=n(165),l=n(1085),u=n(84),p=n(139),f=n(1042),m=n.n(f),b=n(19);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){h(o,a,r,c,i,"next",e)}function i(e){h(o,a,r,c,i,"throw",e)}c(void 0)}))}}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Object(s.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){w(e,t,n[t])}))}return e}({},t,n,{partiesLoading:a["wallet/queryParties"]||a["wallet/checkOnline"]||!1})}))(a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,O(t).call(this,e))).state={loading:!1},n}var n,a,c,s,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:(f=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkStatus();case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"checkStatus",value:(s=v(regeneratorRuntime.mark((function e(){var t,n,a,r,o,c,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,this.setState({loading:!0}),n.parties){e.next=5;break}return e.next=5,a({type:"wallet/queryParties",payload:{id:n.id}});case 5:if(0!==n.status){e.next=8;break}return e.next=8,a({type:"wallet/checkOnline",payload:{id:n.id,users:n.parties}});case 8:if(r=this.props,o=r.approve,c=r.txid,i=n.parties,!(o&&o.length>0)){e.next=15;break}return e.next=13,u.a.querySignDetail(c);case 13:s=e.sent,i.forEach((function(e,t){i[t].time="";for(var n=0;n<s.length;n++)e.uid===s[n].uid&&(i[t].time=s[n].createtime,i[t].status=s[n].status)}));case 15:this.setState({parties:i}),this.setState({loading:!1});case 17:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.currentWallet,n=e.visible,a=e.partiesLoading,c=e.cancel,s=e.approve,u=t.name,f=t.share,y=t.status,h=t.createtime,v=this.state,d=v.parties,g=v.loading;return i.a.createElement(r.a,{width:600,title:null,visible:n,footer:null,onCancel:c},i.a.createElement("div",{className:m.a.body},i.a.createElement("div",{className:m.a.title},"".concat(u," - ").concat(Object(b.a)("key_share_members"))),i.a.createElement("div",{className:m.a.desc},Object(b.a)("created_on")," ",Object(l.a)(h)," | ",f," ",Object(b.a)("members")," ",s&&"| ".concat(s.length," ").concat(Object(b.a)("signee_signed"))),i.a.createElement(o.a,{spinning:a||g},d&&d.map((function(e,t){var n=e.user,a=e.online,r=e.uid,o=e.time;if(n)return 0===y?i.a.createElement("div",{className:m.a.item,key:n},i.a.createElement(p.a,{type:a?"iconicon-keyshare-member-online":"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:m.a.no},t+1),i.a.createElement("span",{className:m.a.email},n),1===e.status?i.a.createElement("span",{className:m.a.joined},"JOINED"):i.a.createElement("span",{className:m.a.pending},"PENDING")):i.a.createElement("div",{className:m.a.item,key:n},a?i.a.createElement(p.a,{type:"iconicon-keyshare-member-online"}):i.a.createElement(p.a,{type:"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:m.a.no},t+1),i.a.createElement("span",{className:m.a.email},n),s&&i.a.createElement("span",{className:m.a.time},Object(l.a)(o)),s&&(s.indexOf(r)>-1?i.a.createElement("span",{className:m.a.signed},"SIGNED"):i.a.createElement("span",{className:m.a.pending},"UNSIGNED")))})))))}}])&&d(n.prototype,a),c&&d(n,c),t}(c.Component))||a},296:function(e,t,n){"use strict";n.r(t);n(560);var a,r,o,c=n(281),i=n(1),s=n.n(i),l=n(165),u=n(1034),p=n.n(u),f=n(283),m=(n(559),n(138)),b=(n(561),n(166)),y=(n(1098),n(1099)),h=n(74),v=n(1125),d=n(139),g=n(1112),O=n(1054),E=n.n(O),w=n(19),j=n(1085),k=n(16),_=n(1148);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){S(o,a,r,c,i,"next",e)}function i(e){S(o,a,r,c,i,"throw",e)}c(void 0)}))}}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=(a=y.a.create(),r=Object(l.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){D(e,t,n[t])}))}return e}({},t,n,{loading:a["wallet/query"]||a["service/updateWallet"],loadingParties:a["wallet/queryParties"]||!1,visible:!1})})),Object(h.withRouter)(o=a(o=r(o=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=C(t).call(this,e),n=!r||"object"!==N(r)&&"function"!=typeof r?T(a):r,D(T(n),"gotoTransfer",(function(e){var t=n.props.match.params.type;n.props.history.push({pathname:"/money/transfer/".concat(t,"/").concat(e),state:{id:e}})})),D(T(n),"gotoInfoPage",(function(e){var t=n.props.match.params.type;t||(t=1),n.props.history.push({pathname:"/money/walletinfo/".concat(t,"/").concat(e),state:{id:e}})})),D(T(n),"gotoReceive",(function(e){var t=n.props.match.params.type;t||(t=1),n.props.history.push({pathname:"/money/receive/".concat(t,"/").concat(e),state:{id:e}})})),D(T(n),"switchDisplay",(function(){var e=n.state.hideAmount;n.props.dispatch({type:"user/switchDisplay"}),n.setState({hideAmount:!e})})),D(T(n),"showMembers",(function(){n.setState({visible:!0})})),D(T(n),"hideMembers",(function(){n.setState({visible:!1})})),D(T(n),"archived",P(regeneratorRuntime.mark((function e(){var t,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.currentWallet,a=t.id,r=t.type,e.next=3,n.props.dispatch({type:"service/archive",payload:{wid:parseInt(a)}});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")));case 6:if(401!==o.code){e.next=8;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("archiveWithoutPermission")));case 8:if(402!==o.code){e.next=10;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("hasBalance")));case 10:if(403!==o.code){e.next=12;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("hasPaymail")));case 12:return b.a.success(Object(w.a)("archived_success")),e.next=15,n.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(r)}});case 15:n.props.history.push({pathname:"/money/home/0"});case 16:case"end":return e.stop()}}),e)})))),n.state={joining:!1,hideAmount:window.localStorage.getItem(k.a.HIDEAMOUNT)||0},n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(a=[{key:"joinWallet",value:(i=P(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({joining:!0}),e.next=3,this.props.dispatch({type:"service/joinWallet",payload:{wid:t}});case 3:(n=e.sent)&&n.success?this.updateWallet():this.setState({joining:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"updateWallet",value:(o=P(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,n=t.type,a=t.id,e.next=3,this.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(n)}});case 3:return e.next=5,this.props.dispatch({type:"wallet/save",payload:{currentWallet:this.props.allWallets[a]}});case 5:this.setState({joining:!1});case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.loading)return s.a.createElement(f.a,null);var t=this.props,n=t.currentWallet;if(t.match,!n||!n.id)return null;var a=n.id,r=n.share,o=(n.threshold,n.name),i=(n.type,n.founderId,n.balance),l=n.joinStatus,u=n.founder,p=n.status,b=n.token,y=this.state,h=y.joining,O=y.hideAmount,N=y.visible,S=Object(k.b)(b),P=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:E.a.join_warn},Object(w.a)("owne_by",u)),s.a.createElement("div",{className:E.a.join_tips},Object(w.a)("member_tips",r-1))),x=null;if(0===l&&(P=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:E.a.join_warn},Object(w.a)("join_wallet_warn",u)),s.a.createElement("div",{className:E.a.join_tips},Object(w.a)("join_wallet_tips",r-1))),x=s.a.createElement("div",{className:E.a.btns},s.a.createElement(c.a,{spinning:h},s.a.createElement(m.a,{className:E.a.join_btn,onClick:function(){return e.joinWallet(a)}},h?Object(w.a)("processing"):Object(w.a)("join"))))),0===parseInt(p))return s.a.createElement("div",{className:E.a.join_box},s.a.createElement(g.a,{token:n.token}),s.a.createElement("div",{className:E.a.wallet_name},o),P,s.a.createElement("div",{className:E.a.check_status,onClick:this.showMembers,style:{cursor:"pointer"}},Object(w.a)("check_status")," ",s.a.createElement(d.a,{type:"iconicon-keyshare-member-online"})),x,s.a.createElement("div",{className:E.a.archive},s.a.createElement("span",{className:E.a.archived,onClick:this.archived},Object(w.a)("archived_account"))),N&&s.a.createElement(_.a,{visible:N,cancel:this.hideMembers}));var C=O?s.a.createElement(d.a,{type:"iconhide"}):s.a.createElement(d.a,{type:"iconshow"});return s.a.createElement("div",{className:E.a.info_box},s.a.createElement(g.a,{token:n.token}),s.a.createElement("div",{className:E.a.wallet_name,onClick:function(){return e.gotoInfoPage(a)}},o," ",s.a.createElement("span",null,s.a.createElement(d.a,{type:"iconwallet-info"}))),s.a.createElement("div",{className:E.a.total},O?k.m:Object(j.b)(i)," ",s.a.createElement("span",null,S)),s.a.createElement("div",{className:E.a.total_assets},s.a.createElement("span",{className:E.a.balance},O?k.m:s.a.createElement(v.a,{value:i,token:b})),s.a.createElement("span",{onClick:this.switchDisplay,className:E.a.show_balance},C)),s.a.createElement("div",{className:E.a.action},s.a.createElement("span",{className:E.a.transfer,onClick:function(){return e.gotoTransfer(a)}},s.a.createElement(d.a,{type:"iconicon-send"})," ",Object(w.a)("transfer")),s.a.createElement("span",{className:E.a.receive,onClick:function(){return e.gotoReceive(a)}},s.a.createElement(d.a,{type:"iconreceive"})," ",Object(w.a)("collection"))))}}])&&x(n.prototype,a),r&&x(n,r),t}(i.Component))||o)||o)||o),I=(n(66),n(1055),n(38)),A=n(545),L=n(23),M=n(93),B=n(161),q=n(26);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},J=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=G(t).call(this,e),(n=!r||"object"!==V(r)&&"function"!=typeof r?U(a):r).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(U(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(U(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,r=a.okButtonProps,o=a.cancelButtonProps,c=a.title,s=a.cancelText,l=a.okText,u=a.okType,p=a.icon;return i.createElement("div",null,i.createElement("div",{className:"".concat(e,"-inner-content")},i.createElement("div",{className:"".concat(e,"-message")},p,i.createElement("div",{className:"".concat(e,"-message-title")},c)),i.createElement("div",{className:"".concat(e,"-buttons")},i.createElement(m.a,Y({onClick:n.onCancel,size:"small"},o),s||t.cancelText),i.createElement(m.a,Y({onClick:n.onConfirm,type:u,size:"small"},r),l||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,o=a.placement,c=H(a,["prefixCls","placement"]),s=t("popover",r),l=i.createElement(M.a,{componentName:"Popconfirm",defaultLocale:B.a.Popconfirm},(function(e){return n.renderOverlay(s,e)}));return i.createElement(A.a,Y({},c,{prefixCls:s,placement:o,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:l,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),n=t,r=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return i.createElement(q.a,null,this.renderConfirm)}}])&&F(n.prototype,a),r&&F(n,r),t}(i.Component);J.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i.createElement(L.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(I.polyfill)(J);var X,$=J,K=n(1056),Q=n.n(K);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){ee(o,a,r,c,i,"next",e)}function i(e){ee(o,a,r,c,i,"throw",e)}c(void 0)}))}}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,se=Object(l.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ce(e,t,n[t])}))}return e}({},t,n,{loading:a["service/queryWallet"]||a["service/queryTransaction"]})}))(X=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=ae(t).call(this,e),n=!r||"object"!==Z(r)&&"function"!=typeof r?re(a):r,ce(re(n),"showSignee",(function(e){n.setState({visible:!0,currentTx:e})})),ce(re(n),"hideSignee",(function(){n.setState({visible:!1})})),n.state={showArr:[],hideAmount:window.localStorage.getItem(k.a.HIDEAMOUNT)||0,visible:!1},n}var n,a,r,o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,e),n=t,(a=[{key:"approveTransaction",value:(i=te(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/approveTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"cancelTransaction",value:(c=te(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/cancelTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"refresh",value:(o=te(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,n.id){e.next=3;break}return e.abrupt("return");case 3:return a({type:"service/queryTransaction",payload:{wid:n.id}}),e.next=6,a({type:"service/updateWallet",payload:{type:parseInt(n.type)}});case 6:a({type:"wallet/saveCurrent",payload:this.props.allWallets[n.id]});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"switchDetail",value:function(e){var t=this.state.showArr;t[e]=!t[e],this.setState({showArr:t})}},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.props.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this,t=this.props,n=t.transactions,a=(t.loading,t.userid),r=t.currentWallet,o=this.state,c=o.hideAmount,i=o.currentTx,l=o.visible;return r?s.a.createElement("div",{className:Q.a.history},n&&n.map((function(t,n){var o=t.id,i=t.type,l=t.value,u=t.status,p=t.user_status,f=t.txid,b=t.createtime,y=t.note,h=t.uid,g=t.parties,O=t.price,E=Object(j.b)(l),_=null,N=null,S=null,P="-",x="",C=null;2===i?2===u?(_=Object(w.a)("sent"),N=s.a.createElement(d.a,{type:"iconicon-send"}),S=s.a.createElement("label",{className:Q.a.success},"SUCCESS"),x=Object(w.a)("success_desc","".concat(r.share))):3===u?(_=Object(w.a)("tran_cancel"),N=s.a.createElement(d.a,{type:"iconcancelled-red"}),C=Q.a.cancel_item):1===u&&(parseInt(h)===parseInt(a)?(_=Object(w.a)("pending_transaction"),N=s.a.createElement(d.a,{type:"iconoutgoing-cancel"}),S=s.a.createElement("label",{className:Q.a.pending},"RECALL TX?"),x=Object(w.a)("pending_desc")):p.approve.indexOf(a)>-1?(_=Object(w.a)("signed"),N=s.a.createElement(d.a,{type:"iconicon-send"}),S=s.a.createElement("label",{className:Q.a.signed},"SIGNED"),x=Object(w.a)("signed_desc","".concat(r.share-p.approve.length))):(_=Object(w.a)("not_signed_out"),N=s.a.createElement(d.a,{type:"iconpending-signed"}),S=s.a.createElement("label",{className:Q.a.unsigned},"UNSIGNED"),x=Object(w.a)("unsigned_desc"))):(_=Object(w.a)("collection"),N=s.a.createElement(d.a,{type:"iconreceive"}),P="+");var T=null;g&&g.forEach((function(e){e.uid===h&&(T=e.user)}));var R=null;1===u&&(t.action||(R=s.a.createElement(m.a,{type:"primary",className:Q.a.agree_btn,onClick:function(){e.approveTransaction(o)}},s.a.createElement(d.a,{type:"iconpendingsigning",style:{marginRight:10}}),Object(w.a)("sign_tx"))),String(h)===String(a)&&(R=s.a.createElement($,{title:Object(w.a)("doubleCheckCancel"),onConfirm:function(){return e.cancelTransaction(o)},okText:Object(w.a)("ok"),cancelText:Object(w.a)("cancel")},s.a.createElement(m.a,{type:"primary",className:Q.a.cancel_btn},s.a.createElement(d.a,{type:"iconcancel",style:{marginRight:10}})," ",Object(w.a)("recall_cancel")))));var D=e.state,W=D.showArr,I=(D.visible,W[n]?s.a.createElement(d.a,{type:"iconchevron",style:{transform:"rotateX(180deg)"}}):s.a.createElement(d.a,{type:"iconchevron"})),A=W[n]?Q.a.showDetail:Q.a.hideDetail,L=Object(k.b)(r.token);return s.a.createElement("div",{className:Object(j.d)(Q.a.item_wrap,A,C),key:t.id},s.a.createElement("div",{className:Q.a.item},s.a.createElement("div",{className:Q.a.type},N," ",_),s.a.createElement("div",{className:Q.a.date},Object(j.a)(b,"MM.DD.YYYY")),s.a.createElement("div",{className:Q.a.amount},P," ",c?k.m:E),s.a.createElement("div",{className:Q.a.token},L),s.a.createElement("div",{className:Q.a.arrow,onClick:function(){return e.switchDetail(n)}},I)),2===r.type&&x&&s.a.createElement("div",{className:Q.a.item_desc},s.a.createElement("div",{className:Q.a.label},S),s.a.createElement("div",{className:Q.a.desc},x)),s.a.createElement("div",{className:Q.a.item_content},s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("address")),s.a.createElement("span",{className:Q.a.value},t.biz_data)),s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("time")),s.a.createElement("span",{className:Q.a.value},Object(j.a)(b,"MM.DD.YYYY @ HH:mm"))),T&&s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("originator")),s.a.createElement("span",{className:Q.a.value},T)),p&&p.approve.length>0&&s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("signees")),s.a.createElement("span",{className:Q.a.value},p.approve.length," ",Object(w.a)("signed"),". ",s.a.createElement("span",{className:Q.a.link,onClick:function(){return e.showSignee(t)}},Object(w.a)("check_signee")))),y&&s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("memo")),s.a.createElement("span",{className:Q.a.value},y)),s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},"TX Link"),s.a.createElement("span",{className:Q.a.value},Object(j.e)(f)," ",2===u?s.a.createElement("a",{href:"https://".concat(k.o[r.token].website,"/").concat(f),target:"_blank"},s.a.createElement(d.a,{type:"iconink"})):null)),s.a.createElement("div",{className:Q.a.m_item},s.a.createElement("span",{className:Q.a.label},Object(w.a)("amount")),s.a.createElement("span",{className:Q.a.value},P," ",c?k.m:E," ",L," | ",P,c?k.m:s.a.createElement(v.a,{token:r.token,value:l,usd:O}))),s.a.createElement("div",{className:Q.a.action},R)))})),l&&s.a.createElement(_.a,{visible:l,cancel:this.hideSignee,approve:i.user_status.approve,txid:i.id})):s.a.createElement("div",{className:Q.a.nodata},Object(w.a)("nodata"))}}])&&ne(n.prototype,a),r&&ne(n,r),t}(i.Component))||X,le=n(1133);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return ve}));var ve=Object(l.connect)((function(e){var t=e.wallet,n=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){he(e,t,n[t])}))}return e}({},t,{walletLoading:n["service/queryWallet"],txLoading:n["service/queryTransaction"]})}))(ie=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return a=this,r=(e=me(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==ue(r)&&"function"!=typeof r?be(a):r,he(be(n),"goList",(function(){var e=n.props.match.params.type;n.props.history.push({pathname:"/money/home/".concat(e)})})),n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,e),n=t,(a=[{key:"ready",value:(o=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),this.loadTransactions(t),e.next=4,this.getWalletDetail(t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=o.apply(e,t);function c(e){pe(r,n,a,c,i,"next",e)}function i(e){pe(r,n,a,c,i,"throw",e)}c(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.currentWallet,a=t.walletLoading,r=t.txLoading;return e=n&&0==n.status?null:r?s.a.createElement(c.a,null):s.a.createElement("div",{className:p.a.history},s.a.createElement(se,null)),s.a.createElement("div",{className:p.a.container},this.renderSidebar(),s.a.createElement("div",{className:p.a.detail},s.a.createElement(c.a,{spinning:a||this.state.loading},s.a.createElement("div",{className:p.a.wallet_info},s.a.createElement(W,{history:this.props.history}))),s.a.createElement("span",{className:p.a.goback,onClick:this.goList}," ",Object(w.a)("back")),e))}}])&&fe(n.prototype,a),r&&fe(n,r),t}(le.a))||ie}}]);