(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1091:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return h}));n(1103);var a=n(3),r=n.n(a),o=n(66),c=n.n(o),i=n(281);window.location;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?("string"==typeof e&&/^\d+$/.test(e)&&(e=parseInt(e,10)),r()(e).format(t)):e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!e)return"";var n=e;"number"==typeof e?n=new Date(e):"string"==typeof e&&(n=new Date(+e));var a={"y+":n.getFullYear(),"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var r in a)if(new RegExp("("+r+")").test(t))if("y+"===r)t=t.replace(RegExp.$1,(""+a[r]).substr(4-RegExp.$1.length));else if("S+"===r){var o=RegExp.$1.length;o=1===o?3:o,t=t.replace(RegExp.$1,("00"+a[r]).substr((""+a[r]).length-1,o))}else t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length));return t}var u=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;function p(e){return!!e&&u.test(e)}function m(){return Array.prototype.slice.call(arguments).join(" ")}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,7];if(e)return e.length<t[0]+t[1]?e:e.substr(0,t[0])+"****"+e.substr(-t[1],t[1])}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.toString().split(".");return n[1]&&n[1].length>t?c()(e).toFixed(t):e},b=function(e){return c()(e).div(1e8).toString()},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return c()(e).div(Math.pow(10,t)).toString()},h=function(){var e=i.a.findIndex((function(e){return"usd"===e.currencyCode.toLowerCase()})),t=window.localStorage.getItem("VoltLocalCurrencyIndex")||e,n=i.a[t];return n||(window.localStorage.removeItem("VoltLocalCurrencyIndex"),n=i.a[e]),n}},1103:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return i(e,t);return null},e.exports.format=i,e.exports.parse=s;var a=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},c=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function i(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),c=t&&t.thousandsSeparator||"",i=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var p=(e/o[u.toLowerCase()]).toFixed(s);return l||(p=p.replace(r,"$1")),c&&(p=p.replace(a,c)),p+i+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=c.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(o[a]*t)}},1106:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1),r=n.n(a),o=n(138),c=n(1038),i=n.n(c),s=n(15);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props.className||i.a.icon,t=this.props.token||1;return r.a.createElement("div",{className:e},r.a.createElement(o.a,{type:Object(s.m)(t).icon}))}}])&&u(n.prototype,a),c&&u(n,c),t}(a.Component)},1116:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),c=n(165),i=(n(281),n(66)),s=n.n(i),l=n(15),u=n(1091);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(u.f)(),v=Object(c.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){d(e,t,n[t])}))}return e}({},e.wallet)}))(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,y(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.price,n=e.value,a=e.usd,r=e.exchangeRate,c=e.token,i=l.r[c||1].name.toLowerCase();if(!t[i])return null;var u=null,p=h.currencyCode.toLowerCase();u=t[i][p]?t[i][p]:s()(t[i].usd).times(r[p]),a&&(u=s()(u).div(t[i].usd).multipliedBy(a));var m=0;return m=3===c?s()(n).times(u).toFixed(2,1):s()(n).div(1e8).times(u).toFixed(2,1),o.a.createElement("span",null,h.symbol,m," ",h.currencyCode)}}])&&m(n.prototype,a),r&&m(n,r),t}(r.Component))||a;t.a=v},1131:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1),r=n.n(a),o=n(1037),c=n.n(o);n(19),n(1100);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){s(o,a,r,c,i,"next",e)}function i(e){s(o,a,r,c,i,"throw",e)}c(void 0)}))}}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,m(t).call(this,e))).state={ready:!1},n}var n,a,o,i,s,y,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:(b=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentWallet();case 1:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getWalletId",value:function(e,t){if(void 0===t)for(var n=0;n<e.length;n++){t=e[n].id;break}return t}},{key:"currentWallet",value:(y=l(regeneratorRuntime.mark((function e(){var t,n,a,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.dispatch,a=t.match,r=this.props.currentWallet,o=a.params.id,r.id&&r.id===parseInt(o)){e.next=7;break}return e.next=6,n({type:"service/queryWalletById",payload:{wid:parseInt(o)}});case 6:r=e.sent;case 7:if(1!==r.type){e.next=13;break}if(r.address||r.deposit){e.next=13;break}return e.next=11,n({type:"service/createSingleWalletAddress",payload:{wid:o}});case 11:(c=e.sent)&&n({type:"wallet/saveCurrentAddress",payload:{address:c}});case 13:this.ready&&this.ready(parseInt(o));case 14:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"saveCurrentWallet",value:(s=l(regeneratorRuntime.mark((function e(t,n){var a,r,o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.dispatch,t=parseInt(t)||1,(r=this.props.wallets[t])&&!(r.length<1)){e.next=8;break}return e.next=6,a({type:"service/queryWallet",payload:{type:t}});case 6:(r=e.sent).length>0&&r.forEach(function(){var e=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==parseInt(t.type)||t.deposit&&t.deposit.address){e.next=3;break}return e.next=3,a({type:"service/createSingleWalletAddress",payload:{wid:t.id}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return o=-1,r&&r.length>0&&(o=this.getWalletId(r,n)),c=this.props.allWallets[o],e.next=13,this.props.dispatch({type:"wallet/save",payload:{currentId:o,currentWallet:c}});case 13:if(!c||1!==parseInt(c.type)||c.deposit&&c.deposit.address){e.next=16;break}return e.next=16,a({type:"service/createSingleWalletAddress",payload:{wid:o}});case 16:this.setState({ready:!0}),(i=document.getElementById("J_currentWallet"))&&i.scrollIntoView(),this.ready&&this.ready(parseInt(o));case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getWalletDetail",value:(i=l(regeneratorRuntime.mark((function e(t){var n,a,r,o,c,i,s,l,u,p,m,f,y,b,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.dispatch,r=n.allWallets,o=n.currentWallet,c=n.ercTokenTimestamp,i=n.ercToken,s=r[t],o&&o.id==t&&(s=o),s){e.next=5;break}return e.abrupt("return");case 5:if(3===o.token&&i.length<1&&a({type:"wallet/queryErcToken",payload:{timestamp:c}}),s.parties&&!(s.parties.length<1)){e.next=11;break}return e.next=9,a({type:"wallet/queryParties",payload:{id:t}});case 9:l=e.sent,s.parties=l;case 11:if(s.paymail&&!(s.paymail.length<1)){e.next=16;break}return e.next=14,a({type:"service/queryPaymailById",payload:{wid:t}});case 14:u=e.sent,s.paymail=u;case 16:if(!(s.parties&&s.parties.length>0)){e.next=36;break}for(p=!0,m=!1,f=void 0,e.prev=20,y=s.parties[Symbol.iterator]();!(p=(b=y.next()).done);p=!0)(d=b.value).uid===s.uid&&(s.founder=d.user,s.founderId=d.uid);e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),m=!0,f=e.t0;case 28:e.prev=28,e.prev=29,p||null==y.return||y.return();case 31:if(e.prev=31,!m){e.next=34;break}throw f;case 34:return e.finish(31);case 35:return e.finish(28);case 36:a({type:"wallet/saveCurrent",payload:s});case 37:case"end":return e.stop()}}),e,this,[[20,24,28,36],[29,,31,35]])}))),function(e){return i.apply(this,arguments)})},{key:"loadTransactions",value:function(e){if(e&&-1!==e){var t=this.props,n=t.currentWallet,a=t.match.params.tk,r={wid:e};3===n.token&&(r.token=a||"eth"),this.props.dispatch({type:"service/queryTransaction",payload:r})}else this.props.dispatch({type:"wallet/saveTransaction",payload:{transactions:[]}})}},{key:"render",value:function(){return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.detail}))}}])&&u(n.prototype,a),o&&u(n,o),t}(a.Component)},1168:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(568);var a,r=n(289),o=(n(561),n(282)),c=n(1),i=n.n(c),s=n(165),l=n(1091),u=n(74),p=n(138),m=n(1049),f=n.n(m),y=n(19);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){d(o,a,r,c,i,"next",e)}function i(e){d(o,a,r,c,i,"throw",e)}c(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Object(s.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){E(e,t,n[t])}))}return e}({},t,n,{partiesLoading:a["wallet/queryParties"]||a["wallet/checkOnline"]||!1})}))(a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,O(t).call(this,e))).state={loading:!1},n}var n,a,c,s,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:(m=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkStatus();case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"checkStatus",value:(s=h(regeneratorRuntime.mark((function e(){var t,n,a,r,o,c,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,this.setState({loading:!0}),n.parties){e.next=5;break}return e.next=5,a({type:"wallet/queryParties",payload:{id:n.id}});case 5:if(0!==n.status){e.next=8;break}return e.next=8,a({type:"wallet/checkOnline",payload:{id:n.id,users:n.parties}});case 8:if(r=this.props,o=r.approve,c=r.txid,i=n.parties,!(o&&o.length>0)){e.next=15;break}return e.next=13,u.a.querySignDetail(c);case 13:s=e.sent,i.forEach((function(e,t){i[t].time="";for(var n=0;n<s.length;n++)e.uid===s[n].uid&&(i[t].time=s[n].createtime,i[t].status=s[n].status)}));case 15:this.setState({parties:i}),this.setState({loading:!1});case 17:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.currentWallet,n=e.visible,a=e.partiesLoading,c=e.cancel,s=e.approve,u=e.st,m=t.name,b=t.share,d=t.status,h=t.createtime,v=this.state,g=v.parties,O=v.loading;return i.a.createElement(r.a,{width:600,title:null,visible:n,footer:null,onCancel:c},i.a.createElement("div",{className:f.a.body},i.a.createElement("div",{className:f.a.title},"".concat(m," - ").concat(Object(y.a)("key_share_members"))),i.a.createElement("div",{className:f.a.desc},Object(y.a)("created_on")," ",Object(l.b)(h)," | ",b," ",Object(y.a)("members")," ",s&&"| ".concat(s.length," ").concat(Object(y.a)("signee_signed"))),i.a.createElement(o.a,{spinning:a||O},g&&g.map((function(e,t){var n=e.user,a=e.online,r=e.uid,o=e.time;if(n)return 0===d?i.a.createElement("div",{className:f.a.item,key:n},i.a.createElement(p.a,{type:a?"iconicon-keyshare-member-online":"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:f.a.no},t+1),i.a.createElement("span",{className:f.a.email},n),1===e.status?i.a.createElement("span",{className:f.a.joined},Object(y.a)("joined").toUpperCase()):i.a.createElement("span",{className:f.a.pending},Object(y.a)("pending").toUpperCase())):i.a.createElement("div",{className:f.a.item,key:n},a?i.a.createElement(p.a,{type:"iconicon-keyshare-member-online"}):i.a.createElement(p.a,{type:"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:f.a.no},t+1),i.a.createElement("span",{className:f.a.email},n),s&&i.a.createElement("span",{className:f.a.time},Object(l.b)(o)),s&&(s.indexOf(r)>-1?i.a.createElement("span",{className:f.a.signed},Object(y.a)("signed").toUpperCase()):i.a.createElement("span",{className:f.a.pending},Object(y.a)(2===u?"unsigned2":"unsigned").toUpperCase())))})))))}}])&&v(n.prototype,a),c&&v(n,c),t}(c.Component))||a},297:function(e,t,n){"use strict";n.r(t);n(561);var a,r,o,c=n(282),i=n(1),s=n.n(i),l=n(165),u=n(1037),p=n.n(u),m=n(283),f=(n(560),n(139)),y=(n(562),n(166)),b=(n(1109),n(1115)),d=n(75),h=n(1116),v=n(138),g=n(1106),O=n(1061),w=n.n(O),E=n(19),j=n(1091),k=n(15),_=n(1168);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){x(o,a,r,c,i,"next",e)}function i(e){x(o,a,r,c,i,"throw",e)}c(void 0)}))}}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=(a=b.a.create(),r=Object(l.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){W(e,t,n[t])}))}return e}({},t,n,{loading:a["service/queryWalletById"]||a["service/updateWallet"]||a["wallet/save"]})})),Object(d.withRouter)(o=a(o=r(o=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=C(t).call(this,e),n=!r||"object"!==N(r)&&"function"!=typeof r?T(a):r,W(T(n),"gotoTransfer",(function(e,t){var a=n.props,r=a.history,o=a.match;3===e?r.push({pathname:"/money/sendeth/".concat(t,"/").concat(o.params.tk||"eth")}):r.push({pathname:"/money/transfer/".concat(t)})})),W(T(n),"gotoInfoPage",(function(e){n.props.history.push({pathname:"/money/walletinfo/".concat(e)})})),W(T(n),"gotoReceive",(function(e){n.props.history.push({pathname:"/money/receive/".concat(e)})})),W(T(n),"switchDisplay",(function(){var e=n.state.hideAmount;n.props.dispatch({type:"user/switchDisplay"}),n.setState({hideAmount:!e})})),W(T(n),"showMembers",(function(){n.setState({visible:!0})})),W(T(n),"hideMembers",(function(){n.setState({visible:!1})})),W(T(n),"archived",S(regeneratorRuntime.mark((function e(){var t,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.currentWallet,a=t.id,r=t.type,e.next=3,n.props.dispatch({type:"service/archive",payload:{wid:parseInt(a)}});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",y.a.error(Object(E.a)("failure")));case 6:if(401!==o.code){e.next=8;break}return e.abrupt("return",y.a.error(Object(E.a)("failure")+Object(E.a)("archiveWithoutPermission")));case 8:if(402!==o.code){e.next=10;break}return e.abrupt("return",y.a.error(Object(E.a)("failure")+Object(E.a)("hasBalance")));case 10:if(403!==o.code){e.next=12;break}return e.abrupt("return",y.a.error(Object(E.a)("failure")+Object(E.a)("hasPaymail")));case 12:return y.a.success(Object(E.a)("archived_success")),n.props.history.push({pathname:"/money/home/0"}),e.next=16,n.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(r)}});case 16:case"end":return e.stop()}}),e)})))),W(T(n),"getCurrentToken",(function(){var e=n.props,t=e.currentWallet,a=e.match,r=e.ercToken,o=a.params.tk,c=void 0===o?"eth":o;if(t.balance){var i=t.balance.balance,s=r.find((function(e){return e.symbol.toLowerCase()==c})),l=i.find((function(e){return e.token===c}));return!s&&l?l:(s&&l&&Object.assign(s,l),s)}})),n.state={joining:!1,visible:!1,hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0},n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(a=[{key:"joinWallet",value:(i=S(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({joining:!0}),e.next=3,this.props.dispatch({type:"service/joinWallet",payload:{wid:t}});case 3:(n=e.sent)&&n.success?(this.props.dispatch({type:"service/queryWalletById",payload:{wid:t}}),this.updateWallet()):this.setState({joining:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"updateWallet",value:(o=S(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n=this.props.currentWallet.type,e.next=4,this.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(n)}});case 4:return e.next=6,this.props.dispatch({type:"wallet/save",payload:{currentWallet:this.props.allWallets[t]}});case 6:this.setState({joining:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.currentWallet,a=t.match;if(t.loading)return s.a.createElement(m.a,null);if(!n||!n.id)return null;var r,o,i=n.id,l=n.share,u=(n.threshold,n.name),p=(n.type,n.founderId,n.joinStatus),y=n.founder,b=n.status,d=this.state,O=d.joining,N=d.hideAmount,x=d.visible,S=a.params.tk,P=n.token,C=n.total,T=null;if(3===P){var R=this.getCurrentToken();C=Object(j.a)(R.value,8),S&&"eth"!==S?(o=R.name,r=s.a.createElement("div",null,s.a.createElement("img",{src:R.logoURI,width:50,height:50}))):(o=Object(k.e)(P),r=s.a.createElement(g.a,{token:P}))}else C=Object(j.d)(C),o=Object(k.e)(P),r=s.a.createElement(g.a,{token:P});0===p&&(W=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:w.a.join_warn},Object(E.a)("join_wallet_warn",y)),s.a.createElement("div",{className:w.a.join_tips},Object(E.a)("join_wallet_tips",l-1))),T=s.a.createElement("div",{className:w.a.btns},s.a.createElement(c.a,{spinning:O},s.a.createElement(f.a,{className:w.a.join_btn,onClick:function(){return e.joinWallet(i)}},O?Object(E.a)("processing"):Object(E.a)("join")))));var W=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:w.a.join_warn},Object(E.a)("owne_by",y)),s.a.createElement("div",{className:w.a.join_tips},Object(E.a)("member_tips",l-1)));if(0===parseInt(b))return s.a.createElement("div",{className:w.a.join_box},r,s.a.createElement("div",{className:w.a.wallet_name},u),W,s.a.createElement("div",{className:w.a.check_status,onClick:this.showMembers,style:{cursor:"pointer"}},Object(E.a)("check_status")," ",s.a.createElement(v.a,{type:"iconicon-keyshare-member-online"})),T,s.a.createElement("div",{className:w.a.archive},s.a.createElement("span",{className:w.a.archived,onClick:this.archived},Object(E.a)("archived_account"))),x&&s.a.createElement(_.a,{visible:x,cancel:this.hideMembers}));var D=N?s.a.createElement(v.a,{type:"iconhide"}):s.a.createElement(v.a,{type:"iconshow"});return s.a.createElement("div",{className:w.a.info_box},r,3!==P&&s.a.createElement("div",{className:w.a.wallet_name,onClick:function(){return e.gotoInfoPage(i)}},u," ",s.a.createElement("span",null,s.a.createElement(v.a,{type:"iconwallet-info"}))),s.a.createElement("div",{className:w.a.total},N?k.p:C," ",s.a.createElement("span",null,o),3===P&&"eth"!==S&&s.a.createElement("span",{onClick:this.switchDisplay,className:w.a.show_balance},D)),("eth"===S||3!==P)&&s.a.createElement("div",{className:w.a.total_assets},s.a.createElement("span",{className:w.a.balance},N?k.p:s.a.createElement(h.a,{value:n.total,token:P})),s.a.createElement("span",{onClick:this.switchDisplay,className:w.a.show_balance},D)),s.a.createElement("div",{className:w.a.action},s.a.createElement("span",{className:w.a.transfer,onClick:function(){return e.gotoTransfer(P,i)}},s.a.createElement(v.a,{type:"iconicon-send"})," ",Object(E.a)("transfer")),s.a.createElement("span",{className:w.a.receive,onClick:function(){return e.gotoReceive(i)}},s.a.createElement(v.a,{type:"iconreceive"})," ",Object(E.a)("collection"))))}}])&&P(n.prototype,a),r&&P(n,r),t}(i.Component))||o)||o)||o),I=(n(67),n(1062),n(38)),A=n(545),M=n(23),Y=n(93),L=n(161),q=n(26);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},X=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=F(t).call(this,e),(n=!r||"object"!==B(r)&&"function"!=typeof r?H(a):r).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(H(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(H(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,r=a.okButtonProps,o=a.cancelButtonProps,c=a.title,s=a.cancelText,l=a.okText,u=a.okType,p=a.icon;return i.createElement("div",null,i.createElement("div",{className:"".concat(e,"-inner-content")},i.createElement("div",{className:"".concat(e,"-message")},p,i.createElement("div",{className:"".concat(e,"-message-title")},c)),i.createElement("div",{className:"".concat(e,"-buttons")},i.createElement(f.a,V({onClick:n.onCancel,size:"small"},o),s||t.cancelText),i.createElement(f.a,V({onClick:n.onConfirm,type:u,size:"small"},r),l||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,o=a.placement,c=z(a,["prefixCls","placement"]),s=t("popover",r),l=i.createElement(Y.a,{componentName:"Popconfirm",defaultLocale:L.a.Popconfirm},(function(e){return n.renderOverlay(s,e)}));return i.createElement(A.a,V({},c,{prefixCls:s,placement:o,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:l,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),n=t,r=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return i.createElement(q.a,null,this.renderConfirm)}}])&&U(n.prototype,a),r&&U(n,r),t}(i.Component);X.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i.createElement(M.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(I.polyfill)(X);var J,G,K=X,Q=n(1050),Z=n.n(Q);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){te(o,a,r,c,i,"next",e)}function i(e){te(o,a,r,c,i,"throw",e)}c(void 0)}))}}function ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se,le,ue=(J=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ie(e,t,n[t])}))}return e}({},e.user,e.wallet,{loading:e.loading.effects["service/queryTransaction"]})})),Object(d.withRouter)(G=J(G=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=re(t).call(this,e),n=!r||"object"!==ee(r)&&"function"!=typeof r?oe(a):r,ie(oe(n),"showSignee",(function(e){n.setState({visible:!0,currentTx:e})})),ie(oe(n),"hideSignee",(function(){n.setState({visible:!1})})),ie(oe(n),"gotoDetail",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;n.props.history.push({pathname:"/money/tx/".concat(t,"/").concat(e),state:{index:a}})})),n.state={showArr:[],hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0,visible:!1},n}var n,a,r,o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(a=[{key:"approveTransaction",value:(i=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/approveTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"cancelTransaction",value:(c=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/cancelTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"refresh",value:(o=ne(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,n.id){e.next=3;break}return e.abrupt("return");case 3:return a({type:"service/queryTransaction",payload:{wid:n.id}}),e.next=6,a({type:"service/updateWallet",payload:{type:parseInt(n.type)}});case 6:a({type:"wallet/saveCurrent",payload:this.props.allWallets[n.id]});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"switchDetail",value:function(e){var t=this.state.showArr;t[e]=!t[e],this.setState({showArr:t})}},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.props.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this,t=this.props,n=t.transactions,a=(t.loading,t.userid),r=t.currentWallet,o=this.state,c=o.hideAmount,i=o.currentTx,l=o.visible;return r.id?s.a.createElement("div",{className:Z.a.history},n&&n.map((function(t,n){var o=t.id,i=t.type,l=t.value,u=t.status,p=t.user_status,m=t.txid,y=t.createtime,b=t.note,d=t.uid,g=t.parties,O=t.price,w=Object(j.d)(l),_=null,N=null,x=null,S="-",P="",C=null;2===i?2===u?(_=Object(E.a)("sent"),N=s.a.createElement(v.a,{type:"iconicon-send"}),x=s.a.createElement("label",{className:Z.a.success},Object(E.a)("tx_success")),P=Object(E.a)("success_desc","".concat(r.share))):3===u?(_=Object(E.a)("tran_cancel"),N=s.a.createElement(v.a,{type:"iconcancelled-red"}),C=Z.a.cancel_item):1===u&&(parseInt(d)===parseInt(a)?(_=Object(E.a)("pending_transaction"),N=s.a.createElement(v.a,{type:"iconoutgoing-cancel"}),x=s.a.createElement("label",{className:Z.a.pending},Object(E.a)("recall_tx")),P=Object(E.a)("pending_desc")):p.approve.indexOf(a)>-1?(_=Object(E.a)("signed"),N=s.a.createElement(v.a,{type:"iconicon-send"}),x=s.a.createElement("label",{className:Z.a.signed},Object(E.a)("signed").toUpperCase()),P=Object(E.a)("signed_desc","".concat(r.share-p.approve.length))):(_=Object(E.a)("not_signed_out"),N=s.a.createElement(v.a,{type:"iconpending-signed"}),x=s.a.createElement("label",{className:Z.a.unsigned},Object(E.a)("unsigned")),P=Object(E.a)("unsigned_desc"))):(_=Object(E.a)("collection"),N=s.a.createElement(v.a,{type:"iconreceive"}),S="+");var T=null;g&&g.forEach((function(e){e.uid===d&&(T=e.user)}));var R=null;1===u&&(t.action||(R=s.a.createElement(f.a,{type:"primary",className:Z.a.agree_btn,onClick:function(){e.approveTransaction(o)}},s.a.createElement(v.a,{type:"iconpendingsigning",style:{marginRight:10}}),Object(E.a)("sign_tx"))),String(d)===String(a)&&(R=s.a.createElement(K,{title:Object(E.a)("doubleCheckCancel"),onConfirm:function(){return e.cancelTransaction(o)},okText:Object(E.a)("ok"),cancelText:Object(E.a)("cancel")},s.a.createElement(f.a,{type:"primary",className:Z.a.cancel_btn},s.a.createElement(v.a,{type:"iconcancel",style:{marginRight:10}})," ",Object(E.a)("recall_cancel")))));var W=e.state,D=W.showArr,I=(W.visible,D[n]?s.a.createElement(v.a,{type:"iconchevron",style:{transform:"rotateX(180deg)"}}):s.a.createElement(v.a,{type:"iconchevron"})),A=D[n]?Z.a.showDetail:Z.a.hideDetail,M=Object(k.e)(r.token);return s.a.createElement("div",{className:Object(j.g)(Z.a.item_wrap,A,C),key:t.id},s.a.createElement("div",{className:Z.a.item},s.a.createElement("div",{className:Z.a.type},N," ",_),s.a.createElement("div",{className:Z.a.date},Object(j.b)(y,"MM.DD.YYYY")),s.a.createElement("div",{className:Z.a.amount},S," ",c?k.p:w),s.a.createElement("div",{className:Z.a.token},M),s.a.createElement("div",{className:Z.a.arrow,onClick:function(){return e.switchDetail(n)}},I)),2===r.type&&P&&s.a.createElement("div",{className:Z.a.item_desc},s.a.createElement("div",{className:Z.a.label},x),s.a.createElement("div",{className:Z.a.desc},P)),s.a.createElement("div",{className:Z.a.item_content},s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("address")),s.a.createElement("span",{className:Z.a.value},t.biz_data)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("time")),s.a.createElement("span",{className:Z.a.value},Object(j.b)(y,"MM.DD.YYYY @ HH:mm"))),T&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("originator")),s.a.createElement("span",{className:Z.a.value},T)),p&&p.approve.length>0&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("signees")),s.a.createElement("span",{className:Z.a.value},p.approve.length," ",Object(E.a)("signed"),". ",s.a.createElement("span",{className:Z.a.link,onClick:function(){return e.showSignee(t)}},Object(E.a)("check_signee")))),b&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("memo")),s.a.createElement("span",{className:Z.a.value},b)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},"TX Link"),s.a.createElement("span",{className:Z.a.value},Object(j.h)(m)," ",2===u?s.a.createElement("span",{onClick:function(){return e.gotoDetail(m,r.token,n)}},s.a.createElement(v.a,{type:"iconink"})):null)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("amount")),s.a.createElement("span",{className:Z.a.value},S," ",c?k.p:w," ",M," | ",S,c?k.p:s.a.createElement(h.a,{token:r.token,value:l,usd:O}))),s.a.createElement("div",{className:Z.a.action},R)))})),l&&s.a.createElement(_.a,{visible:l,cancel:this.hideSignee,approve:i.user_status.approve,txid:i.id,st:i.status})):s.a.createElement("div",{className:Z.a.nodata},Object(E.a)("nodata"))}}])&&ae(n.prototype,a),r&&ae(n,r),t}(i.Component))||G)||G);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){me(o,a,r,c,i,"next",e)}function i(e){me(o,a,r,c,i,"throw",e)}c(void 0)}))}}function ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge,Oe=(se=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ve(e,t,n[t])}))}return e}({},e.user,e.wallet,{loading:e.loading.effects["service/queryTransaction"]})})),Object(d.withRouter)(le=se(le=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=be(t).call(this,e),n=!r||"object"!==pe(r)&&"function"!=typeof r?de(a):r,ve(de(n),"showSignee",(function(e){n.setState({visible:!0,currentTx:e})})),ve(de(n),"hideSignee",(function(){n.setState({visible:!1})})),ve(de(n),"gotoDetail",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;n.props.history.push({pathname:"/money/tx/".concat(t,"/").concat(e),state:{index:a,tk:n.props.match.params.tk}})})),n.state={showArr:[],hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0,visible:!1},n}var n,a,r,o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),n=t,(a=[{key:"approveTransaction",value:(i=fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/approveTransaction",payload:{id:t,token:"eth"}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"cancelTransaction",value:(c=fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/cancelTransaction",payload:{id:t,token:"eth"}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"refresh",value:(o=fe(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,r=t.match,n.id){e.next=3;break}return e.abrupt("return");case 3:return a({type:"service/queryTransaction",payload:{wid:n.id,token:r.params.tk||"eth"}}),e.next=6,a({type:"service/updateWallet",payload:{type:parseInt(n.type)}});case 6:a({type:"wallet/saveCurrent",payload:this.props.allWallets[n.id]});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"switchDetail",value:function(e){var t=this.state.showArr;t[e]=!t[e],this.setState({showArr:t})}},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.props.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this,t=this.props,n=t.transactions,a=(t.loading,t.userid),r=t.currentWallet,o=t.match,c=this.state,i=c.hideAmount,l=c.currentTx,u=c.visible,p=o.params.tk,m=void 0===p?"eth":p;return!r.id||n.length<1?s.a.createElement("div",{className:Z.a.nodata},Object(E.a)("nodata")):s.a.createElement("div",{className:Z.a.history},n&&n.map((function(t,n){var o=t.id,c=t.type,l=t.value,u=t.status,p=t.user_status,y=t.txid,b=t.createtime,d=t.note,g=t.uid,O=t.parties,w=t.price,_=t.gas,N=Object(j.a)(l),x=null,S=null,P=null,C="-",T="",R=null;2===c?2===u?(x=Object(E.a)("sent"),S=s.a.createElement(v.a,{type:"iconicon-send"}),P=s.a.createElement("label",{className:Z.a.success},Object(E.a)("tx_success")),T=Object(E.a)("success_desc","".concat(r.share))):3===u?(x=1===r.type?Object(E.a)("tx_failed"):Object(E.a)("tran_cancel"),S=s.a.createElement(v.a,{type:"iconcancelled-red"}),R=Z.a.cancel_item):1===u&&(1===r.type?(x=Object(E.a)("tx_confirming"),S=s.a.createElement(v.a,{type:"iconoutgoing-cancel"})):parseInt(g)===parseInt(a)?(x=Object(E.a)("pending_transaction"),S=s.a.createElement(v.a,{type:"iconoutgoing-cancel"}),P=s.a.createElement("label",{className:Z.a.pending},Object(E.a)("recall_tx")),T=Object(E.a)("pending_desc")):p&&p.approve.indexOf(a)>-1?(x=Object(E.a)("signed"),S=s.a.createElement(v.a,{type:"iconicon-send"}),P=s.a.createElement("label",{className:Z.a.signed},Object(E.a)("signed").toUpperCase()),T=Object(E.a)("signed_desc","".concat(r.share-p.approve.length))):(x=Object(E.a)("not_signed_out"),S=s.a.createElement(v.a,{type:"iconpending-signed"}),P=s.a.createElement("label",{className:Z.a.unsigned},Object(E.a)("unsigned")),T=Object(E.a)("unsigned_desc"))):(x=Object(E.a)("collection"),S=s.a.createElement(v.a,{type:"iconreceive"}),C="+");var W=null;O&&O.forEach((function(e){e.uid===g&&(W=e.user)}));var D=null;1===u&&(t.action||(D=s.a.createElement(f.a,{type:"primary",className:Z.a.agree_btn,onClick:function(){e.approveTransaction(o)}},s.a.createElement(v.a,{type:"iconpendingsigning",style:{marginRight:10}}),Object(E.a)("sign_tx"))),String(g)===String(a)&&(D=s.a.createElement(K,{title:Object(E.a)("doubleCheckCancel"),onConfirm:function(){return e.cancelTransaction(o)},okText:Object(E.a)("ok"),cancelText:Object(E.a)("cancel")},s.a.createElement(f.a,{type:"primary",className:Z.a.cancel_btn},s.a.createElement(v.a,{type:"iconcancel",style:{marginRight:10}})," ",Object(E.a)("recall_cancel")))));var I=e.state,A=I.showArr,M=(I.visible,A[n]?s.a.createElement(v.a,{type:"iconchevron",style:{transform:"rotateX(180deg)"}}):s.a.createElement(v.a,{type:"iconchevron"})),Y=A[n]?Z.a.showDetail:Z.a.hideDetail;return s.a.createElement("div",{className:Object(j.g)(Z.a.item_wrap,Y,R),key:t.id},s.a.createElement("div",{className:Z.a.item},s.a.createElement("div",{className:Z.a.type},S," ",x),s.a.createElement("div",{className:Z.a.date},Object(j.b)(b,"MM.DD.YYYY")),s.a.createElement("div",{className:Z.a.amount},C," ",i?k.p:N),s.a.createElement("div",{className:Z.a.token},m.toUpperCase()),s.a.createElement("div",{className:Z.a.arrow,onClick:function(){return e.switchDetail(n)}},M)),2===r.type&&T&&s.a.createElement("div",{className:Z.a.item_desc},s.a.createElement("div",{className:Z.a.label},P),s.a.createElement("div",{className:Z.a.desc},T)),s.a.createElement("div",{className:Z.a.item_content},s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("eth_from")),s.a.createElement("span",{className:Z.a.value},t.from)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("eth_to")),s.a.createElement("span",{className:Z.a.value},t.to)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("time")),s.a.createElement("span",{className:Z.a.value},Object(j.b)(b,"MM.DD.YYYY @ HH:mm"))),W&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("originator")),s.a.createElement("span",{className:Z.a.value},W)),p&&p.approve.length>0&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("signees")),s.a.createElement("span",{className:Z.a.value},p.approve.length," ",Object(E.a)("signed"),". ",s.a.createElement("span",{className:Z.a.link,onClick:function(){return e.showSignee(t)}},Object(E.a)("check_signee")))),d&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("memo")),s.a.createElement("span",{className:Z.a.value},d)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},"TX Link"),s.a.createElement("span",{className:Z.a.value},Object(j.h)(y)," ",2===u||1===r.type?s.a.createElement("span",{onClick:function(){return e.gotoDetail(y,r.token,n)}},s.a.createElement(v.a,{type:"iconink"})):null)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("amount")),s.a.createElement("span",{className:Z.a.value},C," ",i?k.p:N," ",m.toUpperCase(),"eth"===m&&s.a.createElement(s.a.Fragment,null,"| ",C,i?k.p:s.a.createElement(h.a,{token:r.token,value:l,usd:w})))),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(E.a)("gas")),s.a.createElement("span",{className:Z.a.value},_," ETH")),2===r.type&&s.a.createElement("div",{className:Z.a.action},D)))})),u&&s.a.createElement(_.a,{visible:u,cancel:this.hideSignee,approve:l.user_status.approve,txid:l.id,st:l.status}))}}])&&ye(n.prototype,a),r&&ye(n,r),t}(i.Component))||le)||le),we=n(1131);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return Pe}));var Pe=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Se(e,t,n[t])}))}return e}({},e.wallet,{txLoading:e.loading.effects["service/queryTransaction"]})}))(ge=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return a=this,r=(e=_e(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==Ee(r)&&"function"!=typeof r?Ne(a):r,Se(Ne(n),"goList",(function(){var e=n.props,t=e.currentWallet,a=e.history,r=t.type,o=t.token,c=t.id,i=t.status;3===o&&1===i?a.push({pathname:"/money/eth/".concat(c)}):a.push({pathname:"/money/home/".concat(r)})})),n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(a=[{key:"ready",value:(o=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),this.loadTransactions(t),e.next=4,this.getWalletDetail(t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=o.apply(e,t);function c(e){je(r,n,a,c,i,"next",e)}function i(e){je(r,n,a,c,i,"throw",e)}c(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.currentWallet,a=t.txLoading;return e=n&&0==n.status?null:a?s.a.createElement(c.a,null):s.a.createElement("div",{className:p.a.history},3===n.token?s.a.createElement(Oe,null):s.a.createElement(ue,null)),s.a.createElement("div",{className:p.a.container},s.a.createElement("div",{className:p.a.detail},s.a.createElement(c.a,{spinning:this.state.loading},s.a.createElement("div",{className:p.a.wallet_info},s.a.createElement(D,{history:this.props.history}))),s.a.createElement("span",{className:p.a.goback,onClick:this.goList}," ",Object(E.a)("back")),e))}}])&&ke(n.prototype,a),r&&ke(n,r),t}(we.a))||ge}}]);