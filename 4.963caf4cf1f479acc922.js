(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1087:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return m}));n(1102);var r=n(3),a=n.n(r),o=n(66),i=n.n(o),c=n(282);window.location;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?("string"==typeof e&&/^\d+$/.test(e)&&(e=parseInt(e,10)),a()(e).format(t)):e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!e)return"";var n=e;"number"==typeof e?n=new Date(e):"string"==typeof e&&(n=new Date(+e));var r={"y+":n.getFullYear(),"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var a in r)if(new RegExp("("+a+")").test(t))if("y+"===a)t=t.replace(RegExp.$1,(""+r[a]).substr(4-RegExp.$1.length));else if("S+"===a){var o=RegExp.$1.length;o=1===o?3:o,t=t.replace(RegExp.$1,("00"+r[a]).substr((""+r[a]).length-1,o))}else t=t.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length));return t}var l=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;function p(e){return!!e&&l.test(e)}function f(){return Array.prototype.slice.call(arguments).join(" ")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,7];if(e)return e.length<t[0]+t[1]?e:e.substr(0,t[0])+"****"+e.substr(-t[1],t[1])}var d=function(e){return i()(e).div(1e8).toString()},m=function(){var e=c.a.findIndex((function(e){return"usd"===e.currencyCode.toLowerCase()})),t=window.localStorage.getItem("VoltLocalCurrencyIndex")||e,n=c.a[t];return n||(window.localStorage.removeItem("VoltLocalCurrencyIndex"),n=c.a[e]),n}},1137:function(e,t,n){"use strict";var r,a,o=n(1),i=n.n(o),c=n(165),s=n(1035),u=n.n(s),l=(n(283),n(19)),p=(n(568),n(290)),f=n(1040),y=n.n(f),d=(n(560),n(281)),m=n(1041),h=n.n(m),v=n(74),b=n(1087),g=n(16);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,I,P=(r=Object(c.connect)((function(e){var t=e.wallet;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},e.user,t,{loading:e.loading.effects["service/queryWallet"]})})),Object(v.withRouter)(a=r(a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,k(t).call(this,e))).bgcs=[],n.state={joining:0,hideAmount:window.localStorage.getItem(g.a.HIDEAMOUNT)||0},n}var n,r,a,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"getWalletId",value:function(){var e=this.props,t=e.match,n=e.wallets,r=t.params.id,a=n[t.params.type];if(void 0===r)for(var o=0;o<a.length;o++){var i=a[o];i.join,i.status,r=i.id;break}return r}},{key:"joinWallet",value:(o=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),this.setState({joining:t}),e.next=4,this.props.dispatch({type:"service/joinWallet",payload:{wid:t}});case 4:n=e.sent,this.setState({joining:0}),n&&n.success&&this.props.dispatch({type:"service/updateWallet"});case 7:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){O(a,n,r,i,c,"next",e)}function c(e){O(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return c.apply(this,arguments)})},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.state.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.match,r=e.wallets,a=parseInt(n.params.type)||1,o=r[a];if(0===o.length)return i.a.createElement("div",{className:h.a.nodata},Object(l.a)("nodata"));var c=this.state.hideAmount,s=this.getWalletId();return i.a.createElement(d.a,{spinning:t},i.a.createElement("div",{className:h.a.list,id:"J_walletList"},i.a.createElement("div",{className:h.a.list_content},o.map((function(e){var t=e.name,n=e.id,r=e.type,o=e.joinStatus,u=e.founder,l=e.status,p=e.balance,f=e.share,y=e.waitJoin,d=e.token,m=e.threshold,w=parseInt(n)===parseInt(s)?Object(b.e)(h.a.item_contrainer,h.a.current_item):h.a.item_contrainer,O=(c?g.n:Object(b.b)(p),null);Object(g.c)(d),0===o?O=i.a.createElement("span",{className:h.a.join},"JOIN WALLET"):0===parseInt(l)&&(O=i.a.createElement("span",{className:h.a.wait_join},y," MEMBERS TO JOIN"));var j=i.a.createElement("div",{className:h.a.list_item},i.a.createElement("div",{className:h.a.wallet_name},i.a.createElement("span",{className:h.a.name,title:t},t," "),2===r&&i.a.createElement("span",{className:h.a.wallet_no},m," | ",f)),2===r&&i.a.createElement("div",{className:h.a.wallet_info},O),0===parseInt(l)&&i.a.createElement("div",{className:h.a.wallet_desc},u));return i.a.createElement(v.Link,{to:"/message/list/".concat(a,"/").concat(n),key:n,className:w,id:parseInt(n)===parseInt(s)?"J_currentWallet":null},j)})))))}}])&&j(n.prototype,r),a&&j(n,a),t}(o.Component))||a)||a),W=n(138);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x=Object(c.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}({},e.wallet)})),Object(v.withRouter)(I=x(I=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=this,a=(e=M(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==R(a)&&"function"!=typeof a?C(r):a,T(C(n),"renderWalletMenu",(function(){var e=parseInt(n.props.match.params.type);return e||(e=1),i.a.createElement("div",{className:y.a.wallet_type},g.q.map((function(t,r){return 2===r&&n.props.newMsg?i.a.createElement("div",{key:t.key,className:r===e?y.a.selected:""},i.a.createElement(v.Link,{to:"/message/list/".concat(r)},i.a.createElement(p.a,{dot:!0},t.text))):r>0?i.a.createElement("div",{key:t.key,className:r===e?y.a.selected:""},i.a.createElement(v.Link,{to:"/message/list/".concat(r)},t.text)):void 0})))})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=parseInt(this.props.match.params.type);return e||(e=1),i.a.createElement("div",{className:y.a.list_container},this.renderWalletMenu(),i.a.createElement(P,{history:this.props.history}),i.a.createElement("div",{className:y.a.create_wallet},i.a.createElement(W.a,{type:"iconcreatewallet"}),i.a.createElement(v.Link,{to:"/message/createWallet/".concat(e)},Object(l.a)("create_wallet"))))}}])&&N(n.prototype,r),a&&N(n,a),t}(o.Component))||I);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,c,"next",e)}function c(e){L(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return B}));var B=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=q(this,Y(t).call(this,e))).state={ready:!1},n}var n,r,a,o,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(s=J(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params,n=t.type,r=t.id,this.saveCurrentWallet(n,r);case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getWalletId",value:function(e,t){if(void 0===t)for(var n=0;n<e.length;n++){t=e[n].id;break}return t}},{key:"saveCurrentWallet",value:(c=J(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.dispatch,t=parseInt(t)||1,(o=this.props.wallets[t])&&!(o.length<1)){e.next=8;break}return e.next=6,a({type:"service/queryWallet",payload:{type:t}});case 6:(o=e.sent).length>0&&o.forEach(function(){var e=J(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==parseInt(t.type)||t.deposit&&t.deposit.address){e.next=3;break}return e.next=3,a({type:"service/createSingleWalletAddress",payload:{wid:t.id}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return i=-1,o&&o.length>0&&(i=this.getWalletId(o,n)),c=this.props.allWallets[i],e.next=13,this.props.dispatch({type:"wallet/save",payload:{currentId:i,currentWallet:c}});case 13:if(!c||1!==parseInt(c.type)||c.deposit&&c.deposit.address){e.next=16;break}return e.next=16,a({type:"service/createSingleWalletAddress",payload:{wid:i}});case 16:this.setState({ready:!0}),(s=document.getElementById("J_currentWallet"))&&s.scrollIntoView(),this.ready&&this.ready(parseInt(i));case 20:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"getWalletDetail",value:(o=J(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s,u,l,p,f,y,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.dispatch,a=n.allWallets,o=n.currentWallet,i=a[t],o&&o.id==t&&(i=o),i){e.next=5;break}return e.abrupt("return");case 5:if(i.parties&&!(i.parties.length<1)){e.next=10;break}return e.next=8,r({type:"wallet/queryParties",payload:{id:t}});case 8:c=e.sent,i.parties=c;case 10:if(i.paymail&&!(i.paymail.length<1)){e.next=15;break}return e.next=13,r({type:"service/queryPaymailById",payload:{wid:t}});case 13:s=e.sent,i.paymail=s;case 15:if(!(i.parties&&i.parties.length>0)){e.next=35;break}for(u=!0,l=!1,p=void 0,e.prev=19,f=i.parties[Symbol.iterator]();!(u=(y=f.next()).done);u=!0)(d=y.value).uid===i.uid&&(i.founder=d.user,i.founderId=d.uid);e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),l=!0,p=e.t0;case 27:e.prev=27,e.prev=28,u||null==f.return||f.return();case 30:if(e.prev=30,!l){e.next=33;break}throw p;case 33:return e.finish(30);case 34:return e.finish(27);case 35:r({type:"wallet/saveCurrent",payload:i});case 36:case"end":return e.stop()}}),e,this,[[19,23,27,35],[28,,30,34]])}))),function(e){return o.apply(this,arguments)})},{key:"loadTransactions",value:function(e){e&&-1!==e?this.props.dispatch({type:"service/queryTransaction",payload:{wid:e}}):this.props.dispatch({type:"wallet/saveTransaction",payload:{transactions:[]}})}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.type,n=e.match.params.id,r=this.props.match.params.type,a=this.props.match.params.id;t===r&&void 0===n&&void 0===a||t===r&&n===a||this.props.currentId!==n&&this.saveCurrentWallet(t,n,t===r)}},{key:"renderSidebar",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:u.a.container},this.renderSidebar(),i.a.createElement("div",{className:u.a.detail}))}}])&&$(n.prototype,r),a&&$(n,a),t}(o.Component)}}]);