(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1176:function(t,e,r){(function(t,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",f="[object Boolean]",h="[object Date]",p="[object Error]",l="[object Function]",d="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",S="[object Symbol]",I="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",x="[object Uint16Array]",B="[object Uint32Array]",N=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,F=RegExp(H.source),K=RegExp(L.source),D=/<%-([\s\S]+?)%>/g,M=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(G.source),q=/^\s+|\s+$/g,Z=/^\s+/,X=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",gt="["+lt+"]",vt="["+pt+"]",mt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+lt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",St="\\ud83c[\\udffb-\\udfff]",It="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+_t+"|"+bt+")",Pt="(?:"+Ot+"|"+bt+")",At="(?:"+vt+"|"+St+")"+"?",Tt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[It,wt,Et].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),Rt="(?:"+[yt,wt,Et].join("|")+")"+Tt,xt="(?:"+[It+vt+"?",vt,wt,Et,dt].join("|")+")",Bt=RegExp("['’]","g"),Nt=RegExp(vt,"g"),Ct=RegExp(St+"(?="+St+")|"+xt+Tt,"g"),Ut=RegExp([Ot+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[gt,Ot,"$"].join("|")+")",Pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[gt,Ot+kt,"$"].join("|")+")",Ot+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Rt].join("|"),"g"),Ht=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kt=-1,Dt={};Dt[O]=Dt[k]=Dt[P]=Dt[A]=Dt[T]=Dt[R]=Dt["[object Uint8ClampedArray]"]=Dt[x]=Dt[B]=!0,Dt[a]=Dt[c]=Dt[w]=Dt[f]=Dt[E]=Dt[h]=Dt[p]=Dt[l]=Dt[g]=Dt[v]=Dt[m]=Dt[y]=Dt[_]=Dt[b]=Dt[I]=!1;var Mt={};Mt[a]=Mt[c]=Mt[w]=Mt[E]=Mt[f]=Mt[h]=Mt[O]=Mt[k]=Mt[P]=Mt[A]=Mt[T]=Mt[g]=Mt[v]=Mt[m]=Mt[y]=Mt[_]=Mt[b]=Mt[S]=Mt[R]=Mt["[object Uint8ClampedArray]"]=Mt[x]=Mt[B]=!0,Mt[p]=Mt[l]=Mt[I]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,zt=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,Gt="object"==typeof self&&self&&self.Object===Object&&self,Yt=Wt||Gt||Function("return this")(),qt=e&&!e.nodeType&&e,Zt=qt&&"object"==typeof n&&n&&!n.nodeType&&n,Xt=Zt&&Zt.exports===qt,Qt=Xt&&Wt.process,Jt=function(){try{var t=Zt&&Zt.require&&Zt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,re=Jt&&Jt.isRegExp,ne=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function se(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function oe(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function ue(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function ae(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function fe(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function he(t,e){return!!(null==t?0:t.length)&&Se(t,e,0)>-1}function pe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function le(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function de(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function ge(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function ve(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function me(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ye=Oe("length");function _e(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function be(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Se(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):be(t,we,r)}function Ie(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function we(t){return t!=t}function Ee(t,e){var r=null==t?0:t.length;return r?Ae(t,e)/r:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function ke(t){return function(e){return null==t?void 0:t[e]}}function Pe(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function Ae(t,e){for(var r,n=-1,i=t.length;++n<i;){var s=e(t[n]);void 0!==s&&(r=void 0===r?s:r+s)}return r}function Te(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Re(t){return function(e){return t(e)}}function xe(t,e){return le(e,(function(e){return t[e]}))}function Be(t,e){return t.has(e)}function Ne(t,e){for(var r=-1,n=t.length;++r<n&&Se(e,t[r],0)>-1;);return r}function Ce(t,e){for(var r=t.length;r--&&Se(e,t[r],0)>-1;);return r}function Ue(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var He=ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Le=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+jt[t]}function Ke(t){return Ht.test(t)}function De(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Me(t,e){return function(r){return t(e(r))}}function je(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var u=t[r];u!==e&&u!==o||(t[r]=o,s[i++]=r)}return s}function Ve(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function ze(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function We(t){return Ke(t)?function(t){var e=Ct.lastIndex=0;for(;Ct.test(t);)++e;return e}(t):ye(t)}function Ge(t){return Ke(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.split("")}(t)}var Ye=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qe=function t(e){var r,n=(e=null==e?Yt:qe.defaults(Yt.Object(),e,qe.pick(Yt,Ft))).Array,i=e.Date,pt=e.Error,lt=e.Function,dt=e.Math,gt=e.Object,vt=e.RegExp,mt=e.String,yt=e.TypeError,_t=n.prototype,bt=lt.prototype,St=gt.prototype,It=e["__core-js_shared__"],wt=bt.toString,Et=St.hasOwnProperty,Ot=0,kt=(r=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Pt=St.toString,At=wt.call(gt),Tt=Yt._,Rt=vt("^"+wt.call(Et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=Xt?e.Buffer:void 0,Ct=e.Symbol,Ht=e.Uint8Array,jt=xt?xt.allocUnsafe:void 0,Wt=Me(gt.getPrototypeOf,gt),Gt=gt.create,qt=St.propertyIsEnumerable,Zt=_t.splice,Qt=Ct?Ct.isConcatSpreadable:void 0,Jt=Ct?Ct.iterator:void 0,ye=Ct?Ct.toStringTag:void 0,ke=function(){try{var t=$i(gt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ze=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Xe=i&&i.now!==Yt.Date.now&&i.now,Qe=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Je=dt.ceil,$e=dt.floor,tr=gt.getOwnPropertySymbols,er=xt?xt.isBuffer:void 0,rr=e.isFinite,nr=_t.join,ir=Me(gt.keys,gt),sr=dt.max,or=dt.min,ur=i.now,ar=e.parseInt,cr=dt.random,fr=_t.reverse,hr=$i(e,"DataView"),pr=$i(e,"Map"),lr=$i(e,"Promise"),dr=$i(e,"Set"),gr=$i(e,"WeakMap"),vr=$i(gt,"create"),mr=gr&&new gr,yr={},_r=ks(hr),br=ks(pr),Sr=ks(lr),Ir=ks(dr),wr=ks(gr),Er=Ct?Ct.prototype:void 0,Or=Er?Er.valueOf:void 0,kr=Er?Er.toString:void 0;function Pr(t){if(zo(t)&&!No(t)&&!(t instanceof xr)){if(t instanceof Rr)return t;if(Et.call(t,"__wrapped__"))return Ps(t)}return new Rr(t)}var Ar=function(){function t(){}return function(e){if(!Vo(e))return{};if(Gt)return Gt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Tr(){}function Rr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function xr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Br(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Nr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Cr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ur(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Cr;++e<r;)this.add(t[e])}function Hr(t){var e=this.__data__=new Nr(t);this.size=e.size}function Lr(t,e){var r=No(t),n=!r&&Bo(t),i=!r&&!n&&Lo(t),s=!r&&!n&&!i&&Jo(t),o=r||n||i||s,u=o?Te(t.length,mt):[],a=u.length;for(var c in t)!e&&!Et.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||os(c,a))||u.push(c);return u}function Fr(t){var e=t.length;return e?t[Hn(0,e-1)]:void 0}function Kr(t,e){return ws(mi(t),qr(e,0,t.length))}function Dr(t){return ws(mi(t))}function Mr(t,e,r){(void 0!==r&&!To(t[e],r)||void 0===r&&!(e in t))&&Gr(t,e,r)}function jr(t,e,r){var n=t[e];Et.call(t,e)&&To(n,r)&&(void 0!==r||e in t)||Gr(t,e,r)}function Vr(t,e){for(var r=t.length;r--;)if(To(t[r][0],e))return r;return-1}function zr(t,e,r,n){return $r(t,(function(t,i,s){e(n,t,r(t),s)})),n}function Wr(t,e){return t&&yi(e,bu(e),t)}function Gr(t,e,r){"__proto__"==e&&ke?ke(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Yr(t,e){for(var r=-1,i=e.length,s=n(i),o=null==t;++r<i;)s[r]=o?void 0:gu(t,e[r]);return s}function qr(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}function Zr(t,e,r,n,i,s){var o,u=1&e,c=2&e,p=4&e;if(r&&(o=i?r(t,n,i,s):r(t)),void 0!==o)return o;if(!Vo(t))return t;var I=No(t);if(I){if(o=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Et.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return mi(t,o)}else{var N=rs(t),C=N==l||N==d;if(Lo(t))return hi(t,u);if(N==m||N==a||C&&!i){if(o=c||C?{}:is(t),!u)return c?function(t,e){return yi(t,es(t),e)}(t,function(t,e){return t&&yi(e,Su(e),t)}(o,t)):function(t,e){return yi(t,ts(t),e)}(t,Wr(o,t))}else{if(!Mt[N])return i?t:{};o=function(t,e,r){var n=t.constructor;switch(e){case w:return pi(t);case f:case h:return new n(+t);case E:return function(t,e){var r=e?pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case O:case k:case P:case A:case T:case R:case"[object Uint8ClampedArray]":case x:case B:return li(t,r);case g:return new n;case v:case b:return new n(t);case y:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new n;case S:return i=t,Or?gt(Or.call(i)):{}}var i}(t,N,u)}}s||(s=new Hr);var U=s.get(t);if(U)return U;s.set(t,o),Zo(t)?t.forEach((function(n){o.add(Zr(n,e,r,n,t,s))})):Wo(t)&&t.forEach((function(n,i){o.set(i,Zr(n,e,r,i,t,s))}));var H=I?void 0:(p?c?Gi:Wi:c?Su:bu)(t);return ue(H||t,(function(n,i){H&&(n=t[i=n]),jr(o,i,Zr(n,e,r,i,t,s))})),o}function Xr(t,e,r){var n=r.length;if(null==t)return!n;for(t=gt(t);n--;){var i=r[n],s=e[i],o=t[i];if(void 0===o&&!(i in t)||!s(o))return!1}return!0}function Qr(t,e,r){if("function"!=typeof t)throw new yt(s);return _s((function(){t.apply(void 0,r)}),e)}function Jr(t,e,r,n){var i=-1,s=he,o=!0,u=t.length,a=[],c=e.length;if(!u)return a;r&&(e=le(e,Re(r))),n?(s=pe,o=!1):e.length>=200&&(s=Be,o=!1,e=new Ur(e));t:for(;++i<u;){var f=t[i],h=null==r?f:r(f);if(f=n||0!==f?f:0,o&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;a.push(f)}else s(e,h,n)||a.push(f)}return a}Pr.templateSettings={escape:D,evaluate:M,interpolate:j,variable:"",imports:{_:Pr}},Pr.prototype=Tr.prototype,Pr.prototype.constructor=Pr,Rr.prototype=Ar(Tr.prototype),Rr.prototype.constructor=Rr,xr.prototype=Ar(Tr.prototype),xr.prototype.constructor=xr,Br.prototype.clear=function(){this.__data__=vr?vr(null):{},this.size=0},Br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Br.prototype.get=function(t){var e=this.__data__;if(vr){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Et.call(e,t)?e[t]:void 0},Br.prototype.has=function(t){var e=this.__data__;return vr?void 0!==e[t]:Et.call(e,t)},Br.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vr&&void 0===e?"__lodash_hash_undefined__":e,this},Nr.prototype.clear=function(){this.__data__=[],this.size=0},Nr.prototype.delete=function(t){var e=this.__data__,r=Vr(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Nr.prototype.get=function(t){var e=this.__data__,r=Vr(e,t);return r<0?void 0:e[r][1]},Nr.prototype.has=function(t){return Vr(this.__data__,t)>-1},Nr.prototype.set=function(t,e){var r=this.__data__,n=Vr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Cr.prototype.clear=function(){this.size=0,this.__data__={hash:new Br,map:new(pr||Nr),string:new Br}},Cr.prototype.delete=function(t){var e=Qi(this,t).delete(t);return this.size-=e?1:0,e},Cr.prototype.get=function(t){return Qi(this,t).get(t)},Cr.prototype.has=function(t){return Qi(this,t).has(t)},Cr.prototype.set=function(t,e){var r=Qi(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Ur.prototype.add=Ur.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ur.prototype.has=function(t){return this.__data__.has(t)},Hr.prototype.clear=function(){this.__data__=new Nr,this.size=0},Hr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Hr.prototype.get=function(t){return this.__data__.get(t)},Hr.prototype.has=function(t){return this.__data__.has(t)},Hr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Nr){var n=r.__data__;if(!pr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Cr(n)}return r.set(t,e),this.size=r.size,this};var $r=Si(an),tn=Si(cn,!0);function en(t,e){var r=!0;return $r(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function rn(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],o=e(s);if(null!=o&&(void 0===u?o==o&&!Qo(o):r(o,u)))var u=o,a=s}return a}function nn(t,e){var r=[];return $r(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function sn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=ss),i||(i=[]);++s<o;){var u=t[s];e>0&&r(u)?e>1?sn(u,e-1,r,n,i):de(i,u):n||(i[i.length]=u)}return i}var on=Ii(),un=Ii(!0);function an(t,e){return t&&on(t,e,bu)}function cn(t,e){return t&&un(t,e,bu)}function fn(t,e){return fe(e,(function(e){return Do(t[e])}))}function hn(t,e){for(var r=0,n=(e=ui(e,t)).length;null!=t&&r<n;)t=t[Os(e[r++])];return r&&r==n?t:void 0}function pn(t,e,r){var n=e(t);return No(t)?n:de(n,r(t))}function ln(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in gt(t)?function(t){var e=Et.call(t,ye),r=t[ye];try{t[ye]=void 0;var n=!0}catch(t){}var i=Pt.call(t);n&&(e?t[ye]=r:delete t[ye]);return i}(t):function(t){return Pt.call(t)}(t)}function dn(t,e){return t>e}function gn(t,e){return null!=t&&Et.call(t,e)}function vn(t,e){return null!=t&&e in gt(t)}function mn(t,e,r){for(var i=r?pe:he,s=t[0].length,o=t.length,u=o,a=n(o),c=1/0,f=[];u--;){var h=t[u];u&&e&&(h=le(h,Re(e))),c=or(h.length,c),a[u]=!r&&(e||s>=120&&h.length>=120)?new Ur(u&&h):void 0}h=t[0];var p=-1,l=a[0];t:for(;++p<s&&f.length<c;){var d=h[p],g=e?e(d):d;if(d=r||0!==d?d:0,!(l?Be(l,g):i(f,g,r))){for(u=o;--u;){var v=a[u];if(!(v?Be(v,g):i(t[u],g,r)))continue t}l&&l.push(g),f.push(d)}}return f}function yn(t,e,r){var n=null==(t=gs(t,e=ui(e,t)))?t:t[Os(Fs(e))];return null==n?void 0:se(n,t,r)}function _n(t){return zo(t)&&ln(t)==a}function bn(t,e,r,n,i){return t===e||(null==t||null==e||!zo(t)&&!zo(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var o=No(t),u=No(e),l=o?c:rs(t),d=u?c:rs(e),I=(l=l==a?m:l)==m,O=(d=d==a?m:d)==m,k=l==d;if(k&&Lo(t)){if(!Lo(e))return!1;o=!0,I=!1}if(k&&!I)return s||(s=new Hr),o||Jo(t)?Vi(t,e,r,n,i,s):function(t,e,r,n,i,s,o){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!s(new Ht(t),new Ht(e)));case f:case h:case v:return To(+t,+e);case p:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var u=De;case _:var a=1&n;if(u||(u=Ve),t.size!=e.size&&!a)return!1;var c=o.get(t);if(c)return c==e;n|=2,o.set(t,e);var l=Vi(u(t),u(e),n,i,s,o);return o.delete(t),l;case S:if(Or)return Or.call(t)==Or.call(e)}return!1}(t,e,l,r,n,i,s);if(!(1&r)){var P=I&&Et.call(t,"__wrapped__"),A=O&&Et.call(e,"__wrapped__");if(P||A){var T=P?t.value():t,R=A?e.value():e;return s||(s=new Hr),i(T,R,r,n,s)}}if(!k)return!1;return s||(s=new Hr),function(t,e,r,n,i,s){var o=1&r,u=Wi(t),a=u.length,c=Wi(e).length;if(a!=c&&!o)return!1;var f=a;for(;f--;){var h=u[f];if(!(o?h in e:Et.call(e,h)))return!1}var p=s.get(t),l=s.get(e);if(p&&l)return p==e&&l==t;var d=!0;s.set(t,e),s.set(e,t);var g=o;for(;++f<a;){h=u[f];var v=t[h],m=e[h];if(n)var y=o?n(m,v,h,e,t,s):n(v,m,h,t,e,s);if(!(void 0===y?v===m||i(v,m,r,n,s):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,i,s)}(t,e,r,n,bn,i))}function Sn(t,e,r,n){var i=r.length,s=i,o=!n;if(null==t)return!s;for(t=gt(t);i--;){var u=r[i];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var a=(u=r[i])[0],c=t[a],f=u[1];if(o&&u[2]){if(void 0===c&&!(a in t))return!1}else{var h=new Hr;if(n)var p=n(c,f,a,t,e,h);if(!(void 0===p?bn(f,c,3,n,h):p))return!1}}return!0}function In(t){return!(!Vo(t)||(e=t,kt&&kt in e))&&(Do(t)?Rt:ot).test(ks(t));var e}function wn(t){return"function"==typeof t?t:null==t?Gu:"object"==typeof t?No(t)?Tn(t[0],t[1]):An(t):ea(t)}function En(t){if(!hs(t))return ir(t);var e=[];for(var r in gt(t))Et.call(t,r)&&"constructor"!=r&&e.push(r);return e}function On(t){if(!Vo(t))return function(t){var e=[];if(null!=t)for(var r in gt(t))e.push(r);return e}(t);var e=hs(t),r=[];for(var n in t)("constructor"!=n||!e&&Et.call(t,n))&&r.push(n);return r}function kn(t,e){return t<e}function Pn(t,e){var r=-1,i=Uo(t)?n(t.length):[];return $r(t,(function(t,n,s){i[++r]=e(t,n,s)})),i}function An(t){var e=Ji(t);return 1==e.length&&e[0][2]?ls(e[0][0],e[0][1]):function(r){return r===t||Sn(r,t,e)}}function Tn(t,e){return as(t)&&ps(e)?ls(Os(t),e):function(r){var n=gu(r,t);return void 0===n&&n===e?vu(r,t):bn(e,n,3)}}function Rn(t,e,r,n,i){t!==e&&on(e,(function(s,o){if(i||(i=new Hr),Vo(s))!function(t,e,r,n,i,s,o){var u=ms(t,r),a=ms(e,r),c=o.get(a);if(c)return void Mr(t,r,c);var f=s?s(u,a,r+"",t,e,o):void 0,h=void 0===f;if(h){var p=No(a),l=!p&&Lo(a),d=!p&&!l&&Jo(a);f=a,p||l||d?No(u)?f=u:Ho(u)?f=mi(u):l?(h=!1,f=hi(a,!0)):d?(h=!1,f=li(a,!0)):f=[]:Yo(a)||Bo(a)?(f=u,Bo(u)?f=ou(u):Vo(u)&&!Do(u)||(f=is(a))):h=!1}h&&(o.set(a,f),i(f,a,n,s,o),o.delete(a));Mr(t,r,f)}(t,e,o,r,Rn,n,i);else{var u=n?n(ms(t,o),s,o+"",t,e,i):void 0;void 0===u&&(u=s),Mr(t,o,u)}}),Su)}function xn(t,e){var r=t.length;if(r)return os(e+=e<0?r:0,r)?t[e]:void 0}function Bn(t,e,r){e=e.length?le(e,(function(t){return No(t)?function(e){return hn(e,1===t.length?t[0]:t)}:t})):[Gu];var n=-1;return e=le(e,Re(Xi())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(Pn(t,(function(t,r,i){return{criteria:le(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,s=e.criteria,o=i.length,u=r.length;for(;++n<o;){var a=di(i[n],s[n]);if(a){if(n>=u)return a;var c=r[n];return a*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)}))}function Nn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],u=hn(t,o);r(u,o)&&Mn(s,ui(o,t),u)}return s}function Cn(t,e,r,n){var i=n?Ie:Se,s=-1,o=e.length,u=t;for(t===e&&(e=mi(e)),r&&(u=le(t,Re(r)));++s<o;)for(var a=0,c=e[s],f=r?r(c):c;(a=i(u,f,a,n))>-1;)u!==t&&Zt.call(u,a,1),Zt.call(t,a,1);return t}function Un(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;os(i)?Zt.call(t,i,1):$n(t,i)}}return t}function Hn(t,e){return t+$e(cr()*(e-t+1))}function Ln(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=$e(e/2))&&(t+=t)}while(e);return r}function Fn(t,e){return bs(ds(t,e,Gu),t+"")}function Kn(t){return Fr(Tu(t))}function Dn(t,e){var r=Tu(t);return ws(r,qr(e,0,r.length))}function Mn(t,e,r,n){if(!Vo(t))return t;for(var i=-1,s=(e=ui(e,t)).length,o=s-1,u=t;null!=u&&++i<s;){var a=Os(e[i]),c=r;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(i!=o){var f=u[a];void 0===(c=n?n(f,a,u):void 0)&&(c=Vo(f)?f:os(e[i+1])?[]:{})}jr(u,a,c),u=u[a]}return t}var jn=mr?function(t,e){return mr.set(t,e),t}:Gu,Vn=ke?function(t,e){return ke(t,"toString",{configurable:!0,enumerable:!1,value:Vu(e),writable:!0})}:Gu;function zn(t){return ws(Tu(t))}function Wn(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(r=r>s?s:r)<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=n(s);++i<s;)o[i]=t[i+e];return o}function Gn(t,e){var r;return $r(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function Yn(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!Qo(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return qn(t,e,Gu,r)}function qn(t,e,r,n){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var o=(e=r(e))!=e,u=null===e,a=Qo(e),c=void 0===e;i<s;){var f=$e((i+s)/2),h=r(t[f]),p=void 0!==h,l=null===h,d=h==h,g=Qo(h);if(o)var v=n||d;else v=c?d&&(n||p):u?d&&p&&(n||!l):a?d&&p&&!l&&(n||!g):!l&&!g&&(n?h<=e:h<e);v?i=f+1:s=f}return or(s,4294967294)}function Zn(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],u=e?e(o):o;if(!r||!To(u,a)){var a=u;s[i++]=0===o?0:o}}return s}function Xn(t){return"number"==typeof t?t:Qo(t)?NaN:+t}function Qn(t){if("string"==typeof t)return t;if(No(t))return le(t,Qn)+"";if(Qo(t))return kr?kr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jn(t,e,r){var n=-1,i=he,s=t.length,o=!0,u=[],a=u;if(r)o=!1,i=pe;else if(s>=200){var c=e?null:Li(t);if(c)return Ve(c);o=!1,i=Be,a=new Ur}else a=e?[]:u;t:for(;++n<s;){var f=t[n],h=e?e(f):f;if(f=r||0!==f?f:0,o&&h==h){for(var p=a.length;p--;)if(a[p]===h)continue t;e&&a.push(h),u.push(f)}else i(a,h,r)||(a!==u&&a.push(h),u.push(f))}return u}function $n(t,e){return null==(t=gs(t,e=ui(e,t)))||delete t[Os(Fs(e))]}function ti(t,e,r,n){return Mn(t,e,r(hn(t,e)),n)}function ei(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?Wn(t,n?0:s,n?s+1:i):Wn(t,n?s+1:0,n?i:s)}function ri(t,e){var r=t;return r instanceof xr&&(r=r.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),r)}function ni(t,e,r){var i=t.length;if(i<2)return i?Jn(t[0]):[];for(var s=-1,o=n(i);++s<i;)for(var u=t[s],a=-1;++a<i;)a!=s&&(o[s]=Jr(o[s]||u,t[a],e,r));return Jn(sn(o,1),e,r)}function ii(t,e,r){for(var n=-1,i=t.length,s=e.length,o={};++n<i;){var u=n<s?e[n]:void 0;r(o,t[n],u)}return o}function si(t){return Ho(t)?t:[]}function oi(t){return"function"==typeof t?t:Gu}function ui(t,e){return No(t)?t:as(t,e)?[t]:Es(uu(t))}var ai=Fn;function ci(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Wn(t,e,r)}var fi=Ze||function(t){return Yt.clearTimeout(t)};function hi(t,e){if(e)return t.slice();var r=t.length,n=jt?jt(r):new t.constructor(r);return t.copy(n),n}function pi(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function li(t,e){var r=e?pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function di(t,e){if(t!==e){var r=void 0!==t,n=null===t,i=t==t,s=Qo(t),o=void 0!==e,u=null===e,a=e==e,c=Qo(e);if(!u&&!c&&!s&&t>e||s&&o&&a&&!u&&!c||n&&o&&a||!r&&a||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||u&&r&&i||!o&&i||!a)return-1}return 0}function gi(t,e,r,i){for(var s=-1,o=t.length,u=r.length,a=-1,c=e.length,f=sr(o-u,0),h=n(c+f),p=!i;++a<c;)h[a]=e[a];for(;++s<u;)(p||s<o)&&(h[r[s]]=t[s]);for(;f--;)h[a++]=t[s++];return h}function vi(t,e,r,i){for(var s=-1,o=t.length,u=-1,a=r.length,c=-1,f=e.length,h=sr(o-a,0),p=n(h+f),l=!i;++s<h;)p[s]=t[s];for(var d=s;++c<f;)p[d+c]=e[c];for(;++u<a;)(l||s<o)&&(p[d+r[u]]=t[s++]);return p}function mi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function yi(t,e,r,n){var i=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var u=e[s],a=n?n(r[u],t[u],u,r,t):void 0;void 0===a&&(a=t[u]),i?Gr(r,u,a):jr(r,u,a)}return r}function _i(t,e){return function(r,n){var i=No(r)?oe:zr,s=e?e():{};return i(r,t,Xi(n,2),s)}}function bi(t){return Fn((function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,o&&us(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),e=gt(e);++n<i;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Si(t,e){return function(r,n){if(null==r)return r;if(!Uo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=gt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Ii(t){return function(e,r,n){for(var i=-1,s=gt(e),o=n(e),u=o.length;u--;){var a=o[t?u:++i];if(!1===r(s[a],a,s))break}return e}}function wi(t){return function(e){var r=Ke(e=uu(e))?Ge(e):void 0,n=r?r[0]:e.charAt(0),i=r?ci(r,1).join(""):e.slice(1);return n[t]()+i}}function Ei(t){return function(e){return ge(Du(Bu(e).replace(Bt,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Ar(t.prototype),n=t.apply(r,e);return Vo(n)?n:r}}function ki(t){return function(e,r,n){var i=gt(e);if(!Uo(e)){var s=Xi(r,3);e=bu(e),r=function(t){return s(i[t],t,i)}}var o=t(e,r,n);return o>-1?i[s?e[o]:o]:void 0}}function Pi(t){return zi((function(e){var r=e.length,n=r,i=Rr.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new yt(s);if(i&&!u&&"wrapper"==qi(o))var u=new Rr([],!0)}for(n=u?n:r;++n<r;){var a=qi(o=e[n]),c="wrapper"==a?Yi(o):void 0;u=c&&cs(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[qi(c[0])].apply(u,c[3]):1==o.length&&cs(o)?u[a]():u.thru(o)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&No(n))return u.plant(n).value();for(var i=0,s=r?e[i].apply(this,t):n;++i<r;)s=e[i].call(this,s);return s}}))}function Ai(t,e,r,i,s,o,u,a,c,f){var h=128&e,p=1&e,l=2&e,d=24&e,g=512&e,v=l?void 0:Oi(t);return function m(){for(var y=arguments.length,_=n(y),b=y;b--;)_[b]=arguments[b];if(d)var S=Zi(m),I=Ue(_,S);if(i&&(_=gi(_,i,s,d)),o&&(_=vi(_,o,u,d)),y-=I,d&&y<f){var w=je(_,S);return Ui(t,e,Ai,m.placeholder,r,_,w,a,c,f-y)}var E=p?r:this,O=l?E[t]:t;return y=_.length,a?_=vs(_,a):g&&y>1&&_.reverse(),h&&c<y&&(_.length=c),this&&this!==Yt&&this instanceof m&&(O=v||Oi(O)),O.apply(E,_)}}function Ti(t,e){return function(r,n){return function(t,e,r,n){return an(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function Ri(t,e){return function(r,n){var i;if(void 0===r&&void 0===n)return e;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Qn(r),n=Qn(n)):(r=Xn(r),n=Xn(n)),i=t(r,n)}return i}}function xi(t){return zi((function(e){return e=le(e,Re(Xi())),Fn((function(r){var n=this;return t(e,(function(t){return se(t,n,r)}))}))}))}function Bi(t,e){var r=(e=void 0===e?" ":Qn(e)).length;if(r<2)return r?Ln(e,t):e;var n=Ln(e,Je(t/We(e)));return Ke(e)?ci(Ge(n),0,t).join(""):n.slice(0,t)}function Ni(t){return function(e,r,i){return i&&"number"!=typeof i&&us(e,r,i)&&(r=i=void 0),e=ru(e),void 0===r?(r=e,e=0):r=ru(r),function(t,e,r,i){for(var s=-1,o=sr(Je((e-t)/(r||1)),0),u=n(o);o--;)u[i?o:++s]=t,t+=r;return u}(e,r,i=void 0===i?e<r?1:-1:ru(i),t)}}function Ci(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=su(e),r=su(r)),t(e,r)}}function Ui(t,e,r,n,i,s,o,u,a,c){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var h=[t,e,i,f?s:void 0,f?o:void 0,f?void 0:s,f?void 0:o,u,a,c],p=r.apply(void 0,h);return cs(t)&&ys(p,h),p.placeholder=n,Ss(p,t,e)}function Hi(t){var e=dt[t];return function(t,r){if(t=su(t),(r=null==r?0:or(nu(r),292))&&rr(t)){var n=(uu(t)+"e").split("e");return+((n=(uu(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Li=dr&&1/Ve(new dr([,-0]))[1]==1/0?function(t){return new dr(t)}:Qu;function Fi(t){return function(e){var r=rs(e);return r==g?De(e):r==_?ze(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ki(t,e,r,i,u,a,c,f){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(s);var p=i?i.length:0;if(p||(e&=-97,i=u=void 0),c=void 0===c?c:sr(nu(c),0),f=void 0===f?f:nu(f),p-=u?u.length:0,64&e){var l=i,d=u;i=u=void 0}var g=h?void 0:Yi(t),v=[t,e,r,i,u,l,d,a,c,f];if(g&&function(t,e){var r=t[1],n=e[1],i=r|n,s=i<131,u=128==n&&8==r||128==n&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!s&&!u)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var a=e[3];if(a){var c=t[3];t[3]=c?gi(c,a,e[4]):a,t[4]=c?je(t[3],o):e[4]}(a=e[5])&&(c=t[5],t[5]=c?vi(c,a,e[6]):a,t[6]=c?je(t[5],o):e[6]);(a=e[7])&&(t[7]=a);128&n&&(t[8]=null==t[8]?e[8]:or(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],r=v[2],i=v[3],u=v[4],!(f=v[9]=void 0===v[9]?h?0:t.length:sr(v[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,r){var i=Oi(t);return function s(){for(var o=arguments.length,u=n(o),a=o,c=Zi(s);a--;)u[a]=arguments[a];var f=o<3&&u[0]!==c&&u[o-1]!==c?[]:je(u,c);if((o-=f.length)<r)return Ui(t,e,Ai,s.placeholder,void 0,u,f,void 0,void 0,r-o);var h=this&&this!==Yt&&this instanceof s?i:t;return se(h,this,u)}}(t,e,f):32!=e&&33!=e||u.length?Ai.apply(void 0,v):function(t,e,r,i){var s=1&e,o=Oi(t);return function e(){for(var u=-1,a=arguments.length,c=-1,f=i.length,h=n(f+a),p=this&&this!==Yt&&this instanceof e?o:t;++c<f;)h[c]=i[c];for(;a--;)h[c++]=arguments[++u];return se(p,s?r:this,h)}}(t,e,r,i);else var m=function(t,e,r){var n=1&e,i=Oi(t);return function e(){var s=this&&this!==Yt&&this instanceof e?i:t;return s.apply(n?r:this,arguments)}}(t,e,r);return Ss((g?jn:ys)(m,v),t,e)}function Di(t,e,r,n){return void 0===t||To(t,St[r])&&!Et.call(n,r)?e:t}function Mi(t,e,r,n,i,s){return Vo(t)&&Vo(e)&&(s.set(e,t),Rn(t,e,void 0,Mi,s),s.delete(e)),t}function ji(t){return Yo(t)?void 0:t}function Vi(t,e,r,n,i,s){var o=1&r,u=t.length,a=e.length;if(u!=a&&!(o&&a>u))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var h=-1,p=!0,l=2&r?new Ur:void 0;for(s.set(t,e),s.set(e,t);++h<u;){var d=t[h],g=e[h];if(n)var v=o?n(g,d,h,e,t,s):n(d,g,h,t,e,s);if(void 0!==v){if(v)continue;p=!1;break}if(l){if(!me(e,(function(t,e){if(!Be(l,e)&&(d===t||i(d,t,r,n,s)))return l.push(e)}))){p=!1;break}}else if(d!==g&&!i(d,g,r,n,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function zi(t){return bs(ds(t,void 0,Ns),t+"")}function Wi(t){return pn(t,bu,ts)}function Gi(t){return pn(t,Su,es)}var Yi=mr?function(t){return mr.get(t)}:Qu;function qi(t){for(var e=t.name+"",r=yr[e],n=Et.call(yr,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function Zi(t){return(Et.call(Pr,"placeholder")?Pr:t).placeholder}function Xi(){var t=Pr.iteratee||Yu;return t=t===Yu?wn:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=bu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ps(i)]}return e}function $i(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return In(r)?r:void 0}var ts=tr?function(t){return null==t?[]:(t=gt(t),fe(tr(t),(function(e){return qt.call(t,e)})))}:ia,es=tr?function(t){for(var e=[];t;)de(e,ts(t)),t=Wt(t);return e}:ia,rs=ln;function ns(t,e,r){for(var n=-1,i=(e=ui(e,t)).length,s=!1;++n<i;){var o=Os(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&jo(i)&&os(o,i)&&(No(t)||Bo(t))}function is(t){return"function"!=typeof t.constructor||hs(t)?{}:Ar(Wt(t))}function ss(t){return No(t)||Bo(t)||!!(Qt&&t&&t[Qt])}function os(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&at.test(t))&&t>-1&&t%1==0&&t<e}function us(t,e,r){if(!Vo(r))return!1;var n=typeof e;return!!("number"==n?Uo(r)&&os(e,r.length):"string"==n&&e in r)&&To(r[e],t)}function as(t,e){if(No(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Qo(t))||(z.test(t)||!V.test(t)||null!=e&&t in gt(e))}function cs(t){var e=qi(t),r=Pr[e];if("function"!=typeof r||!(e in xr.prototype))return!1;if(t===r)return!0;var n=Yi(r);return!!n&&t===n[0]}(hr&&rs(new hr(new ArrayBuffer(1)))!=E||pr&&rs(new pr)!=g||lr&&"[object Promise]"!=rs(lr.resolve())||dr&&rs(new dr)!=_||gr&&rs(new gr)!=I)&&(rs=function(t){var e=ln(t),r=e==m?t.constructor:void 0,n=r?ks(r):"";if(n)switch(n){case _r:return E;case br:return g;case Sr:return"[object Promise]";case Ir:return _;case wr:return I}return e});var fs=It?Do:sa;function hs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||St)}function ps(t){return t==t&&!Vo(t)}function ls(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in gt(r)))}}function ds(t,e,r){return e=sr(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=sr(i.length-e,0),u=n(o);++s<o;)u[s]=i[e+s];s=-1;for(var a=n(e+1);++s<e;)a[s]=i[s];return a[e]=r(u),se(t,this,a)}}function gs(t,e){return e.length<2?t:hn(t,Wn(e,0,-1))}function vs(t,e){for(var r=t.length,n=or(e.length,r),i=mi(t);n--;){var s=e[n];t[n]=os(s,r)?i[s]:void 0}return t}function ms(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ys=Is(jn),_s=Qe||function(t,e){return Yt.setTimeout(t,e)},bs=Is(Vn);function Ss(t,e,r){var n=e+"";return bs(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ue(u,(function(r){var n="_."+r[0];e&r[1]&&!he(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split($):[]}(n),r)))}function Is(t){var e=0,r=0;return function(){var n=ur(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ws(t,e){var r=-1,n=t.length,i=n-1;for(e=void 0===e?n:e;++r<e;){var s=Hn(r,i),o=t[s];t[s]=t[r],t[r]=o}return t.length=e,t}var Es=function(t){var e=wo(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,r,n,i){e.push(n?i.replace(et,"$1"):r||t)})),e}));function Os(t){if("string"==typeof t||Qo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ks(t){if(null!=t){try{return wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ps(t){if(t instanceof xr)return t.clone();var e=new Rr(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var As=Fn((function(t,e){return Ho(t)?Jr(t,sn(e,1,Ho,!0)):[]})),Ts=Fn((function(t,e){var r=Fs(e);return Ho(r)&&(r=void 0),Ho(t)?Jr(t,sn(e,1,Ho,!0),Xi(r,2)):[]})),Rs=Fn((function(t,e){var r=Fs(e);return Ho(r)&&(r=void 0),Ho(t)?Jr(t,sn(e,1,Ho,!0),void 0,r):[]}));function xs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:nu(r);return i<0&&(i=sr(n+i,0)),be(t,Xi(e,3),i)}function Bs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=nu(r),i=r<0?sr(n+i,0):or(i,n-1)),be(t,Xi(e,3),i,!0)}function Ns(t){return(null==t?0:t.length)?sn(t,1):[]}function Cs(t){return t&&t.length?t[0]:void 0}var Us=Fn((function(t){var e=le(t,si);return e.length&&e[0]===t[0]?mn(e):[]})),Hs=Fn((function(t){var e=Fs(t),r=le(t,si);return e===Fs(r)?e=void 0:r.pop(),r.length&&r[0]===t[0]?mn(r,Xi(e,2)):[]})),Ls=Fn((function(t){var e=Fs(t),r=le(t,si);return(e="function"==typeof e?e:void 0)&&r.pop(),r.length&&r[0]===t[0]?mn(r,void 0,e):[]}));function Fs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ks=Fn(Ds);function Ds(t,e){return t&&t.length&&e&&e.length?Cn(t,e):t}var Ms=zi((function(t,e){var r=null==t?0:t.length,n=Yr(t,e);return Un(t,le(e,(function(t){return os(t,r)?+t:t})).sort(di)),n}));function js(t){return null==t?t:fr.call(t)}var Vs=Fn((function(t){return Jn(sn(t,1,Ho,!0))})),zs=Fn((function(t){var e=Fs(t);return Ho(e)&&(e=void 0),Jn(sn(t,1,Ho,!0),Xi(e,2))})),Ws=Fn((function(t){var e=Fs(t);return e="function"==typeof e?e:void 0,Jn(sn(t,1,Ho,!0),void 0,e)}));function Gs(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(Ho(t))return e=sr(t.length,e),!0})),Te(e,(function(e){return le(t,Oe(e))}))}function Ys(t,e){if(!t||!t.length)return[];var r=Gs(t);return null==e?r:le(r,(function(t){return se(e,void 0,t)}))}var qs=Fn((function(t,e){return Ho(t)?Jr(t,e):[]})),Zs=Fn((function(t){return ni(fe(t,Ho))})),Xs=Fn((function(t){var e=Fs(t);return Ho(e)&&(e=void 0),ni(fe(t,Ho),Xi(e,2))})),Qs=Fn((function(t){var e=Fs(t);return e="function"==typeof e?e:void 0,ni(fe(t,Ho),void 0,e)})),Js=Fn(Gs);var $s=Fn((function(t){var e=t.length,r=e>1?t[e-1]:void 0;return r="function"==typeof r?(t.pop(),r):void 0,Ys(t,r)}));function to(t){var e=Pr(t);return e.__chain__=!0,e}function eo(t,e){return e(t)}var ro=zi((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return Yr(e,t)};return!(e>1||this.__actions__.length)&&n instanceof xr&&os(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:eo,args:[i],thisArg:void 0}),new Rr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var no=_i((function(t,e,r){Et.call(t,r)?++t[r]:Gr(t,r,1)}));var io=ki(xs),so=ki(Bs);function oo(t,e){return(No(t)?ue:$r)(t,Xi(e,3))}function uo(t,e){return(No(t)?ae:tn)(t,Xi(e,3))}var ao=_i((function(t,e,r){Et.call(t,r)?t[r].push(e):Gr(t,r,[e])}));var co=Fn((function(t,e,r){var i=-1,s="function"==typeof e,o=Uo(t)?n(t.length):[];return $r(t,(function(t){o[++i]=s?se(e,t,r):yn(t,e,r)})),o})),fo=_i((function(t,e,r){Gr(t,r,e)}));function ho(t,e){return(No(t)?le:Pn)(t,Xi(e,3))}var po=_i((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var lo=Fn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&us(t,e[0],e[1])?e=[]:r>2&&us(e[0],e[1],e[2])&&(e=[e[0]]),Bn(t,sn(e,1),[])})),go=Xe||function(){return Yt.Date.now()};function vo(t,e,r){return e=r?void 0:e,Ki(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function mo(t,e){var r;if("function"!=typeof e)throw new yt(s);return t=nu(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var yo=Fn((function(t,e,r){var n=1;if(r.length){var i=je(r,Zi(yo));n|=32}return Ki(t,n,e,r,i)})),_o=Fn((function(t,e,r){var n=3;if(r.length){var i=je(r,Zi(_o));n|=32}return Ki(e,n,t,r,i)}));function bo(t,e,r){var n,i,o,u,a,c,f=0,h=!1,p=!1,l=!0;if("function"!=typeof t)throw new yt(s);function d(e){var r=n,s=i;return n=i=void 0,f=e,u=t.apply(s,r)}function g(t){return f=t,a=_s(m,e),h?d(t):u}function v(t){var r=t-c;return void 0===c||r>=e||r<0||p&&t-f>=o}function m(){var t=go();if(v(t))return y(t);a=_s(m,function(t){var r=e-(t-c);return p?or(r,o-(t-f)):r}(t))}function y(t){return a=void 0,l&&n?d(t):(n=i=void 0,u)}function _(){var t=go(),r=v(t);if(n=arguments,i=this,c=t,r){if(void 0===a)return g(c);if(p)return fi(a),a=_s(m,e),d(c)}return void 0===a&&(a=_s(m,e)),u}return e=su(e)||0,Vo(r)&&(h=!!r.leading,o=(p="maxWait"in r)?sr(su(r.maxWait)||0,e):o,l="trailing"in r?!!r.trailing:l),_.cancel=function(){void 0!==a&&fi(a),f=0,n=c=i=a=void 0},_.flush=function(){return void 0===a?u:y(go())},_}var So=Fn((function(t,e){return Qr(t,1,e)})),Io=Fn((function(t,e,r){return Qr(t,su(e)||0,r)}));function wo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(s);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(wo.Cache||Cr),r}function Eo(t){if("function"!=typeof t)throw new yt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}wo.Cache=Cr;var Oo=ai((function(t,e){var r=(e=1==e.length&&No(e[0])?le(e[0],Re(Xi())):le(sn(e,1),Re(Xi()))).length;return Fn((function(n){for(var i=-1,s=or(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return se(t,this,n)}))})),ko=Fn((function(t,e){return Ki(t,32,void 0,e,je(e,Zi(ko)))})),Po=Fn((function(t,e){return Ki(t,64,void 0,e,je(e,Zi(Po)))})),Ao=zi((function(t,e){return Ki(t,256,void 0,void 0,void 0,e)}));function To(t,e){return t===e||t!=t&&e!=e}var Ro=Ci(dn),xo=Ci((function(t,e){return t>=e})),Bo=_n(function(){return arguments}())?_n:function(t){return zo(t)&&Et.call(t,"callee")&&!qt.call(t,"callee")},No=n.isArray,Co=$t?Re($t):function(t){return zo(t)&&ln(t)==w};function Uo(t){return null!=t&&jo(t.length)&&!Do(t)}function Ho(t){return zo(t)&&Uo(t)}var Lo=er||sa,Fo=te?Re(te):function(t){return zo(t)&&ln(t)==h};function Ko(t){if(!zo(t))return!1;var e=ln(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Yo(t)}function Do(t){if(!Vo(t))return!1;var e=ln(t);return e==l||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mo(t){return"number"==typeof t&&t==nu(t)}function jo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Vo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zo(t){return null!=t&&"object"==typeof t}var Wo=ee?Re(ee):function(t){return zo(t)&&rs(t)==g};function Go(t){return"number"==typeof t||zo(t)&&ln(t)==v}function Yo(t){if(!zo(t)||ln(t)!=m)return!1;var e=Wt(t);if(null===e)return!0;var r=Et.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&wt.call(r)==At}var qo=re?Re(re):function(t){return zo(t)&&ln(t)==y};var Zo=ne?Re(ne):function(t){return zo(t)&&rs(t)==_};function Xo(t){return"string"==typeof t||!No(t)&&zo(t)&&ln(t)==b}function Qo(t){return"symbol"==typeof t||zo(t)&&ln(t)==S}var Jo=ie?Re(ie):function(t){return zo(t)&&jo(t.length)&&!!Dt[ln(t)]};var $o=Ci(kn),tu=Ci((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Uo(t))return Xo(t)?Ge(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Jt]());var e=rs(t);return(e==g?De:e==_?Ve:Tu)(t)}function ru(t){return t?(t=su(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function nu(t){var e=ru(t),r=e%1;return e==e?r?e-r:e:0}function iu(t){return t?qr(nu(t),0,4294967295):0}function su(t){if("number"==typeof t)return t;if(Qo(t))return NaN;if(Vo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Vo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var r=st.test(t);return r||ut.test(t)?zt(t.slice(2),r?2:8):it.test(t)?NaN:+t}function ou(t){return yi(t,Su(t))}function uu(t){return null==t?"":Qn(t)}var au=bi((function(t,e){if(hs(e)||Uo(e))yi(e,bu(e),t);else for(var r in e)Et.call(e,r)&&jr(t,r,e[r])})),cu=bi((function(t,e){yi(e,Su(e),t)})),fu=bi((function(t,e,r,n){yi(e,Su(e),t,n)})),hu=bi((function(t,e,r,n){yi(e,bu(e),t,n)})),pu=zi(Yr);var lu=Fn((function(t,e){t=gt(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&us(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=Su(s),u=-1,a=o.length;++u<a;){var c=o[u],f=t[c];(void 0===f||To(f,St[c])&&!Et.call(t,c))&&(t[c]=s[c])}return t})),du=Fn((function(t){return t.push(void 0,Mi),se(wu,void 0,t)}));function gu(t,e,r){var n=null==t?void 0:hn(t,e);return void 0===n?r:n}function vu(t,e){return null!=t&&ns(t,e,vn)}var mu=Ti((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=r}),Vu(Gu)),yu=Ti((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),Et.call(t,e)?t[e].push(r):t[e]=[r]}),Xi),_u=Fn(yn);function bu(t){return Uo(t)?Lr(t):En(t)}function Su(t){return Uo(t)?Lr(t,!0):On(t)}var Iu=bi((function(t,e,r){Rn(t,e,r)})),wu=bi((function(t,e,r,n){Rn(t,e,r,n)})),Eu=zi((function(t,e){var r={};if(null==t)return r;var n=!1;e=le(e,(function(e){return e=ui(e,t),n||(n=e.length>1),e})),yi(t,Gi(t),r),n&&(r=Zr(r,7,ji));for(var i=e.length;i--;)$n(r,e[i]);return r}));var Ou=zi((function(t,e){return null==t?{}:function(t,e){return Nn(t,e,(function(e,r){return vu(t,r)}))}(t,e)}));function ku(t,e){if(null==t)return{};var r=le(Gi(t),(function(t){return[t]}));return e=Xi(e),Nn(t,r,(function(t,r){return e(t,r[0])}))}var Pu=Fi(bu),Au=Fi(Su);function Tu(t){return null==t?[]:xe(t,bu(t))}var Ru=Ei((function(t,e,r){return e=e.toLowerCase(),t+(r?xu(e):e)}));function xu(t){return Ku(uu(t).toLowerCase())}function Bu(t){return(t=uu(t))&&t.replace(ct,He).replace(Nt,"")}var Nu=Ei((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Cu=Ei((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Uu=wi("toLowerCase");var Hu=Ei((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Lu=Ei((function(t,e,r){return t+(r?" ":"")+Ku(e)}));var Fu=Ei((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ku=wi("toUpperCase");function Du(t,e,r){return t=uu(t),void 0===(e=r?void 0:e)?function(t){return Lt.test(t)}(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Mu=Fn((function(t,e){try{return se(t,void 0,e)}catch(t){return Ko(t)?t:new pt(t)}})),ju=zi((function(t,e){return ue(e,(function(e){e=Os(e),Gr(t,e,yo(t[e],t))})),t}));function Vu(t){return function(){return t}}var zu=Pi(),Wu=Pi(!0);function Gu(t){return t}function Yu(t){return wn("function"==typeof t?t:Zr(t,1))}var qu=Fn((function(t,e){return function(r){return yn(r,t,e)}})),Zu=Fn((function(t,e){return function(r){return yn(t,r,e)}}));function Xu(t,e,r){var n=bu(e),i=fn(e,n);null!=r||Vo(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=fn(e,bu(e)));var s=!(Vo(r)&&"chain"in r&&!r.chain),o=Do(t);return ue(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__),i=r.__actions__=mi(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,de([this.value()],arguments))})})),t}function Qu(){}var Ju=xi(le),$u=xi(ce),ta=xi(me);function ea(t){return as(t)?Oe(Os(t)):function(t){return function(e){return hn(e,t)}}(t)}var ra=Ni(),na=Ni(!0);function ia(){return[]}function sa(){return!1}var oa=Ri((function(t,e){return t+e}),0),ua=Hi("ceil"),aa=Ri((function(t,e){return t/e}),1),ca=Hi("floor");var fa,ha=Ri((function(t,e){return t*e}),1),pa=Hi("round"),la=Ri((function(t,e){return t-e}),0);return Pr.after=function(t,e){if("function"!=typeof e)throw new yt(s);return t=nu(t),function(){if(--t<1)return e.apply(this,arguments)}},Pr.ary=vo,Pr.assign=au,Pr.assignIn=cu,Pr.assignInWith=fu,Pr.assignWith=hu,Pr.at=pu,Pr.before=mo,Pr.bind=yo,Pr.bindAll=ju,Pr.bindKey=_o,Pr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return No(t)?t:[t]},Pr.chain=to,Pr.chunk=function(t,e,r){e=(r?us(t,e,r):void 0===e)?1:sr(nu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,o=0,u=n(Je(i/e));s<i;)u[o++]=Wn(t,s,s+=e);return u},Pr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},Pr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(No(r)?mi(r):[r],sn(e,1))},Pr.cond=function(t){var e=null==t?0:t.length,r=Xi();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new yt(s);return[r(t[0]),t[1]]})):[],Fn((function(r){for(var n=-1;++n<e;){var i=t[n];if(se(i[0],this,r))return se(i[1],this,r)}}))},Pr.conforms=function(t){return function(t){var e=bu(t);return function(r){return Xr(r,t,e)}}(Zr(t,1))},Pr.constant=Vu,Pr.countBy=no,Pr.create=function(t,e){var r=Ar(t);return null==e?r:Wr(r,e)},Pr.curry=function t(e,r,n){var i=Ki(e,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=t.placeholder,i},Pr.curryRight=function t(e,r,n){var i=Ki(e,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=t.placeholder,i},Pr.debounce=bo,Pr.defaults=lu,Pr.defaultsDeep=du,Pr.defer=So,Pr.delay=Io,Pr.difference=As,Pr.differenceBy=Ts,Pr.differenceWith=Rs,Pr.drop=function(t,e,r){var n=null==t?0:t.length;return n?Wn(t,(e=r||void 0===e?1:nu(e))<0?0:e,n):[]},Pr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Wn(t,0,(e=n-(e=r||void 0===e?1:nu(e)))<0?0:e):[]},Pr.dropRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0,!0):[]},Pr.dropWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0):[]},Pr.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&us(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=nu(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:nu(n))<0&&(n+=i),n=r>n?0:iu(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Pr.filter=function(t,e){return(No(t)?fe:nn)(t,Xi(e,3))},Pr.flatMap=function(t,e){return sn(ho(t,e),1)},Pr.flatMapDeep=function(t,e){return sn(ho(t,e),1/0)},Pr.flatMapDepth=function(t,e,r){return r=void 0===r?1:nu(r),sn(ho(t,e),r)},Pr.flatten=Ns,Pr.flattenDeep=function(t){return(null==t?0:t.length)?sn(t,1/0):[]},Pr.flattenDepth=function(t,e){return(null==t?0:t.length)?sn(t,e=void 0===e?1:nu(e)):[]},Pr.flip=function(t){return Ki(t,512)},Pr.flow=zu,Pr.flowRight=Wu,Pr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Pr.functions=function(t){return null==t?[]:fn(t,bu(t))},Pr.functionsIn=function(t){return null==t?[]:fn(t,Su(t))},Pr.groupBy=ao,Pr.initial=function(t){return(null==t?0:t.length)?Wn(t,0,-1):[]},Pr.intersection=Us,Pr.intersectionBy=Hs,Pr.intersectionWith=Ls,Pr.invert=mu,Pr.invertBy=yu,Pr.invokeMap=co,Pr.iteratee=Yu,Pr.keyBy=fo,Pr.keys=bu,Pr.keysIn=Su,Pr.map=ho,Pr.mapKeys=function(t,e){var r={};return e=Xi(e,3),an(t,(function(t,n,i){Gr(r,e(t,n,i),t)})),r},Pr.mapValues=function(t,e){var r={};return e=Xi(e,3),an(t,(function(t,n,i){Gr(r,n,e(t,n,i))})),r},Pr.matches=function(t){return An(Zr(t,1))},Pr.matchesProperty=function(t,e){return Tn(t,Zr(e,1))},Pr.memoize=wo,Pr.merge=Iu,Pr.mergeWith=wu,Pr.method=qu,Pr.methodOf=Zu,Pr.mixin=Xu,Pr.negate=Eo,Pr.nthArg=function(t){return t=nu(t),Fn((function(e){return xn(e,t)}))},Pr.omit=Eu,Pr.omitBy=function(t,e){return ku(t,Eo(Xi(e)))},Pr.once=function(t){return mo(2,t)},Pr.orderBy=function(t,e,r,n){return null==t?[]:(No(e)||(e=null==e?[]:[e]),No(r=n?void 0:r)||(r=null==r?[]:[r]),Bn(t,e,r))},Pr.over=Ju,Pr.overArgs=Oo,Pr.overEvery=$u,Pr.overSome=ta,Pr.partial=ko,Pr.partialRight=Po,Pr.partition=po,Pr.pick=Ou,Pr.pickBy=ku,Pr.property=ea,Pr.propertyOf=function(t){return function(e){return null==t?void 0:hn(t,e)}},Pr.pull=Ks,Pr.pullAll=Ds,Pr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Cn(t,e,Xi(r,2)):t},Pr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Cn(t,e,void 0,r):t},Pr.pullAt=Ms,Pr.range=ra,Pr.rangeRight=na,Pr.rearg=Ao,Pr.reject=function(t,e){return(No(t)?fe:nn)(t,Eo(Xi(e,3)))},Pr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=Xi(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Un(t,i),r},Pr.rest=function(t,e){if("function"!=typeof t)throw new yt(s);return Fn(t,e=void 0===e?e:nu(e))},Pr.reverse=js,Pr.sampleSize=function(t,e,r){return e=(r?us(t,e,r):void 0===e)?1:nu(e),(No(t)?Kr:Dn)(t,e)},Pr.set=function(t,e,r){return null==t?t:Mn(t,e,r)},Pr.setWith=function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:Mn(t,e,r,n)},Pr.shuffle=function(t){return(No(t)?Dr:zn)(t)},Pr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&us(t,e,r)?(e=0,r=n):(e=null==e?0:nu(e),r=void 0===r?n:nu(r)),Wn(t,e,r)):[]},Pr.sortBy=lo,Pr.sortedUniq=function(t){return t&&t.length?Zn(t):[]},Pr.sortedUniqBy=function(t,e){return t&&t.length?Zn(t,Xi(e,2)):[]},Pr.split=function(t,e,r){return r&&"number"!=typeof r&&us(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!qo(e))&&!(e=Qn(e))&&Ke(t)?ci(Ge(t),0,r):t.split(e,r):[]},Pr.spread=function(t,e){if("function"!=typeof t)throw new yt(s);return e=null==e?0:sr(nu(e),0),Fn((function(r){var n=r[e],i=ci(r,0,e);return n&&de(i,n),se(t,this,i)}))},Pr.tail=function(t){var e=null==t?0:t.length;return e?Wn(t,1,e):[]},Pr.take=function(t,e,r){return t&&t.length?Wn(t,0,(e=r||void 0===e?1:nu(e))<0?0:e):[]},Pr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Wn(t,(e=n-(e=r||void 0===e?1:nu(e)))<0?0:e,n):[]},Pr.takeRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!1,!0):[]},Pr.takeWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3)):[]},Pr.tap=function(t,e){return e(t),t},Pr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new yt(s);return Vo(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bo(t,e,{leading:n,maxWait:e,trailing:i})},Pr.thru=eo,Pr.toArray=eu,Pr.toPairs=Pu,Pr.toPairsIn=Au,Pr.toPath=function(t){return No(t)?le(t,Os):Qo(t)?[t]:mi(Es(uu(t)))},Pr.toPlainObject=ou,Pr.transform=function(t,e,r){var n=No(t),i=n||Lo(t)||Jo(t);if(e=Xi(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:Vo(t)&&Do(s)?Ar(Wt(t)):{}}return(i?ue:an)(t,(function(t,n,i){return e(r,t,n,i)})),r},Pr.unary=function(t){return vo(t,1)},Pr.union=Vs,Pr.unionBy=zs,Pr.unionWith=Ws,Pr.uniq=function(t){return t&&t.length?Jn(t):[]},Pr.uniqBy=function(t,e){return t&&t.length?Jn(t,Xi(e,2)):[]},Pr.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jn(t,void 0,e):[]},Pr.unset=function(t,e){return null==t||$n(t,e)},Pr.unzip=Gs,Pr.unzipWith=Ys,Pr.update=function(t,e,r){return null==t?t:ti(t,e,oi(r))},Pr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:ti(t,e,oi(r),n)},Pr.values=Tu,Pr.valuesIn=function(t){return null==t?[]:xe(t,Su(t))},Pr.without=qs,Pr.words=Du,Pr.wrap=function(t,e){return ko(oi(e),t)},Pr.xor=Zs,Pr.xorBy=Xs,Pr.xorWith=Qs,Pr.zip=Js,Pr.zipObject=function(t,e){return ii(t||[],e||[],jr)},Pr.zipObjectDeep=function(t,e){return ii(t||[],e||[],Mn)},Pr.zipWith=$s,Pr.entries=Pu,Pr.entriesIn=Au,Pr.extend=cu,Pr.extendWith=fu,Xu(Pr,Pr),Pr.add=oa,Pr.attempt=Mu,Pr.camelCase=Ru,Pr.capitalize=xu,Pr.ceil=ua,Pr.clamp=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=su(r))==r?r:0),void 0!==e&&(e=(e=su(e))==e?e:0),qr(su(t),e,r)},Pr.clone=function(t){return Zr(t,4)},Pr.cloneDeep=function(t){return Zr(t,5)},Pr.cloneDeepWith=function(t,e){return Zr(t,5,e="function"==typeof e?e:void 0)},Pr.cloneWith=function(t,e){return Zr(t,4,e="function"==typeof e?e:void 0)},Pr.conformsTo=function(t,e){return null==e||Xr(t,e,bu(e))},Pr.deburr=Bu,Pr.defaultTo=function(t,e){return null==t||t!=t?e:t},Pr.divide=aa,Pr.endsWith=function(t,e,r){t=uu(t),e=Qn(e);var n=t.length,i=r=void 0===r?n:qr(nu(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},Pr.eq=To,Pr.escape=function(t){return(t=uu(t))&&K.test(t)?t.replace(L,Le):t},Pr.escapeRegExp=function(t){return(t=uu(t))&&Y.test(t)?t.replace(G,"\\$&"):t},Pr.every=function(t,e,r){var n=No(t)?ce:en;return r&&us(t,e,r)&&(e=void 0),n(t,Xi(e,3))},Pr.find=io,Pr.findIndex=xs,Pr.findKey=function(t,e){return _e(t,Xi(e,3),an)},Pr.findLast=so,Pr.findLastIndex=Bs,Pr.findLastKey=function(t,e){return _e(t,Xi(e,3),cn)},Pr.floor=ca,Pr.forEach=oo,Pr.forEachRight=uo,Pr.forIn=function(t,e){return null==t?t:on(t,Xi(e,3),Su)},Pr.forInRight=function(t,e){return null==t?t:un(t,Xi(e,3),Su)},Pr.forOwn=function(t,e){return t&&an(t,Xi(e,3))},Pr.forOwnRight=function(t,e){return t&&cn(t,Xi(e,3))},Pr.get=gu,Pr.gt=Ro,Pr.gte=xo,Pr.has=function(t,e){return null!=t&&ns(t,e,gn)},Pr.hasIn=vu,Pr.head=Cs,Pr.identity=Gu,Pr.includes=function(t,e,r,n){t=Uo(t)?t:Tu(t),r=r&&!n?nu(r):0;var i=t.length;return r<0&&(r=sr(i+r,0)),Xo(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Se(t,e,r)>-1},Pr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:nu(r);return i<0&&(i=sr(n+i,0)),Se(t,e,i)},Pr.inRange=function(t,e,r){return e=ru(e),void 0===r?(r=e,e=0):r=ru(r),function(t,e,r){return t>=or(e,r)&&t<sr(e,r)}(t=su(t),e,r)},Pr.invoke=_u,Pr.isArguments=Bo,Pr.isArray=No,Pr.isArrayBuffer=Co,Pr.isArrayLike=Uo,Pr.isArrayLikeObject=Ho,Pr.isBoolean=function(t){return!0===t||!1===t||zo(t)&&ln(t)==f},Pr.isBuffer=Lo,Pr.isDate=Fo,Pr.isElement=function(t){return zo(t)&&1===t.nodeType&&!Yo(t)},Pr.isEmpty=function(t){if(null==t)return!0;if(Uo(t)&&(No(t)||"string"==typeof t||"function"==typeof t.splice||Lo(t)||Jo(t)||Bo(t)))return!t.length;var e=rs(t);if(e==g||e==_)return!t.size;if(hs(t))return!En(t).length;for(var r in t)if(Et.call(t,r))return!1;return!0},Pr.isEqual=function(t,e){return bn(t,e)},Pr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:void 0)?r(t,e):void 0;return void 0===n?bn(t,e,void 0,r):!!n},Pr.isError=Ko,Pr.isFinite=function(t){return"number"==typeof t&&rr(t)},Pr.isFunction=Do,Pr.isInteger=Mo,Pr.isLength=jo,Pr.isMap=Wo,Pr.isMatch=function(t,e){return t===e||Sn(t,e,Ji(e))},Pr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:void 0,Sn(t,e,Ji(e),r)},Pr.isNaN=function(t){return Go(t)&&t!=+t},Pr.isNative=function(t){if(fs(t))throw new pt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(t)},Pr.isNil=function(t){return null==t},Pr.isNull=function(t){return null===t},Pr.isNumber=Go,Pr.isObject=Vo,Pr.isObjectLike=zo,Pr.isPlainObject=Yo,Pr.isRegExp=qo,Pr.isSafeInteger=function(t){return Mo(t)&&t>=-9007199254740991&&t<=9007199254740991},Pr.isSet=Zo,Pr.isString=Xo,Pr.isSymbol=Qo,Pr.isTypedArray=Jo,Pr.isUndefined=function(t){return void 0===t},Pr.isWeakMap=function(t){return zo(t)&&rs(t)==I},Pr.isWeakSet=function(t){return zo(t)&&"[object WeakSet]"==ln(t)},Pr.join=function(t,e){return null==t?"":nr.call(t,e)},Pr.kebabCase=Nu,Pr.last=Fs,Pr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=nu(r))<0?sr(n+i,0):or(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):be(t,we,i,!0)},Pr.lowerCase=Cu,Pr.lowerFirst=Uu,Pr.lt=$o,Pr.lte=tu,Pr.max=function(t){return t&&t.length?rn(t,Gu,dn):void 0},Pr.maxBy=function(t,e){return t&&t.length?rn(t,Xi(e,2),dn):void 0},Pr.mean=function(t){return Ee(t,Gu)},Pr.meanBy=function(t,e){return Ee(t,Xi(e,2))},Pr.min=function(t){return t&&t.length?rn(t,Gu,kn):void 0},Pr.minBy=function(t,e){return t&&t.length?rn(t,Xi(e,2),kn):void 0},Pr.stubArray=ia,Pr.stubFalse=sa,Pr.stubObject=function(){return{}},Pr.stubString=function(){return""},Pr.stubTrue=function(){return!0},Pr.multiply=ha,Pr.nth=function(t,e){return t&&t.length?xn(t,nu(e)):void 0},Pr.noConflict=function(){return Yt._===this&&(Yt._=Tt),this},Pr.noop=Qu,Pr.now=go,Pr.pad=function(t,e,r){t=uu(t);var n=(e=nu(e))?We(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Bi($e(i),r)+t+Bi(Je(i),r)},Pr.padEnd=function(t,e,r){t=uu(t);var n=(e=nu(e))?We(t):0;return e&&n<e?t+Bi(e-n,r):t},Pr.padStart=function(t,e,r){t=uu(t);var n=(e=nu(e))?We(t):0;return e&&n<e?Bi(e-n,r)+t:t},Pr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),ar(uu(t).replace(Z,""),e||0)},Pr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&us(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ru(t),void 0===e?(e=t,t=0):e=ru(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=cr();return or(t+i*(e-t+Vt("1e-"+((i+"").length-1))),e)}return Hn(t,e)},Pr.reduce=function(t,e,r){var n=No(t)?ge:Pe,i=arguments.length<3;return n(t,Xi(e,4),r,i,$r)},Pr.reduceRight=function(t,e,r){var n=No(t)?ve:Pe,i=arguments.length<3;return n(t,Xi(e,4),r,i,tn)},Pr.repeat=function(t,e,r){return e=(r?us(t,e,r):void 0===e)?1:nu(e),Ln(uu(t),e)},Pr.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pr.result=function(t,e,r){var n=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++n<i;){var s=null==t?void 0:t[Os(e[n])];void 0===s&&(n=i,s=r),t=Do(s)?s.call(t):s}return t},Pr.round=pa,Pr.runInContext=t,Pr.sample=function(t){return(No(t)?Fr:Kn)(t)},Pr.size=function(t){if(null==t)return 0;if(Uo(t))return Xo(t)?We(t):t.length;var e=rs(t);return e==g||e==_?t.size:En(t).length},Pr.snakeCase=Hu,Pr.some=function(t,e,r){var n=No(t)?me:Gn;return r&&us(t,e,r)&&(e=void 0),n(t,Xi(e,3))},Pr.sortedIndex=function(t,e){return Yn(t,e)},Pr.sortedIndexBy=function(t,e,r){return qn(t,e,Xi(r,2))},Pr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Yn(t,e);if(n<r&&To(t[n],e))return n}return-1},Pr.sortedLastIndex=function(t,e){return Yn(t,e,!0)},Pr.sortedLastIndexBy=function(t,e,r){return qn(t,e,Xi(r,2),!0)},Pr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=Yn(t,e,!0)-1;if(To(t[r],e))return r}return-1},Pr.startCase=Lu,Pr.startsWith=function(t,e,r){return t=uu(t),r=null==r?0:qr(nu(r),0,t.length),e=Qn(e),t.slice(r,r+e.length)==e},Pr.subtract=la,Pr.sum=function(t){return t&&t.length?Ae(t,Gu):0},Pr.sumBy=function(t,e){return t&&t.length?Ae(t,Xi(e,2)):0},Pr.template=function(t,e,r){var n=Pr.templateSettings;r&&us(t,e,r)&&(e=void 0),t=uu(t),e=fu({},e,n,Di);var i,s,o=fu({},e.imports,n.imports,Di),u=bu(o),a=xe(o,u),c=0,f=e.interpolate||ft,h="__p += '",p=vt((e.escape||ft).source+"|"+f.source+"|"+(f===j?rt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),l="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kt+"]")+"\n";t.replace(p,(function(e,r,n,o,u,a){return n||(n=o),h+=t.slice(c,a).replace(ht,Fe),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),u&&(s=!0,h+="';\n"+u+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=a+e.length,e})),h+="';\n";var d=Et.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(N,""):h).replace(C,"$1").replace(U,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Mu((function(){return lt(u,l+"return "+h).apply(void 0,a)}));if(g.source=h,Ko(g))throw g;return g},Pr.times=function(t,e){if((t=nu(t))<1||t>9007199254740991)return[];var r=4294967295,n=or(t,4294967295);t-=4294967295;for(var i=Te(n,e=Xi(e));++r<t;)e(r);return i},Pr.toFinite=ru,Pr.toInteger=nu,Pr.toLength=iu,Pr.toLower=function(t){return uu(t).toLowerCase()},Pr.toNumber=su,Pr.toSafeInteger=function(t){return t?qr(nu(t),-9007199254740991,9007199254740991):0===t?t:0},Pr.toString=uu,Pr.toUpper=function(t){return uu(t).toUpperCase()},Pr.trim=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(q,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t),i=Ge(e);return ci(n,Ne(n,i),Ce(n,i)+1).join("")},Pr.trimEnd=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(X,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t);return ci(n,0,Ce(n,Ge(e))+1).join("")},Pr.trimStart=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(Z,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t);return ci(n,Ne(n,Ge(e))).join("")},Pr.truncate=function(t,e){var r=30,n="...";if(Vo(e)){var i="separator"in e?e.separator:i;r="length"in e?nu(e.length):r,n="omission"in e?Qn(e.omission):n}var s=(t=uu(t)).length;if(Ke(t)){var o=Ge(t);s=o.length}if(r>=s)return t;var u=r-We(n);if(u<1)return n;var a=o?ci(o,0,u).join(""):t.slice(0,u);if(void 0===i)return a+n;if(o&&(u+=a.length-u),qo(i)){if(t.slice(u).search(i)){var c,f=a;for(i.global||(i=vt(i.source,uu(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;a=a.slice(0,void 0===h?u:h)}}else if(t.indexOf(Qn(i),u)!=u){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+n},Pr.unescape=function(t){return(t=uu(t))&&F.test(t)?t.replace(H,Ye):t},Pr.uniqueId=function(t){var e=++Ot;return uu(t)+e},Pr.upperCase=Fu,Pr.upperFirst=Ku,Pr.each=oo,Pr.eachRight=uo,Pr.first=Cs,Xu(Pr,(fa={},an(Pr,(function(t,e){Et.call(Pr.prototype,e)||(fa[e]=t)})),fa),{chain:!1}),Pr.VERSION="4.17.20",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pr[t].placeholder=Pr})),ue(["drop","take"],(function(t,e){xr.prototype[t]=function(r){r=void 0===r?1:sr(nu(r),0);var n=this.__filtered__&&!e?new xr(this):this.clone();return n.__filtered__?n.__takeCount__=or(r,n.__takeCount__):n.__views__.push({size:or(r,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},xr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;xr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ue(["head","last"],(function(t,e){var r="take"+(e?"Right":"");xr.prototype[t]=function(){return this[r](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");xr.prototype[t]=function(){return this.__filtered__?new xr(this):this[r](1)}})),xr.prototype.compact=function(){return this.filter(Gu)},xr.prototype.find=function(t){return this.filter(t).head()},xr.prototype.findLast=function(t){return this.reverse().find(t)},xr.prototype.invokeMap=Fn((function(t,e){return"function"==typeof t?new xr(this):this.map((function(r){return yn(r,t,e)}))})),xr.prototype.reject=function(t){return this.filter(Eo(Xi(t)))},xr.prototype.slice=function(t,e){t=nu(t);var r=this;return r.__filtered__&&(t>0||e<0)?new xr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),void 0!==e&&(r=(e=nu(e))<0?r.dropRight(-e):r.take(e-t)),r)},xr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},xr.prototype.toArray=function(){return this.take(4294967295)},an(xr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=Pr[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);i&&(Pr.prototype[e]=function(){var e=this.__wrapped__,o=n?[1]:arguments,u=e instanceof xr,a=o[0],c=u||No(e),f=function(t){var e=i.apply(Pr,de([t],o));return n&&h?e[0]:e};c&&r&&"function"==typeof a&&1!=a.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,l=s&&!h,d=u&&!p;if(!s&&c){e=d?e:new xr(this);var g=t.apply(e,o);return g.__actions__.push({func:eo,args:[f],thisArg:void 0}),new Rr(g,h)}return l&&d?t.apply(this,o):(g=this.thru(f),l?n?g.value()[0]:g.value():g)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Pr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(No(i)?i:[],t)}return this[r]((function(r){return e.apply(No(r)?r:[],t)}))}})),an(xr.prototype,(function(t,e){var r=Pr[e];if(r){var n=r.name+"";Et.call(yr,n)||(yr[n]=[]),yr[n].push({name:e,func:r})}})),yr[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],xr.prototype.clone=function(){var t=new xr(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},xr.prototype.reverse=function(){if(this.__filtered__){var t=new xr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},xr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=No(t),n=e<0,i=r?t.length:0,s=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=or(e,t+o);break;case"takeRight":t=sr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,u=s.end,a=u-o,c=n?u:o-1,f=this.__iteratees__,h=f.length,p=0,l=or(a,this.__takeCount__);if(!r||!n&&i==a&&l==a)return ri(t,this.__actions__);var d=[];t:for(;a--&&p<l;){for(var g=-1,v=t[c+=e];++g<h;){var m=f[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue t;break t}}d[p++]=v}return d},Pr.prototype.at=ro,Pr.prototype.chain=function(){return to(this)},Pr.prototype.commit=function(){return new Rr(this.value(),this.__chain__)},Pr.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pr.prototype.plant=function(t){for(var e,r=this;r instanceof Tr;){var n=Ps(r);n.__index__=0,n.__values__=void 0,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},Pr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof xr){var e=t;return this.__actions__.length&&(e=new xr(this)),(e=e.reverse()).__actions__.push({func:eo,args:[js],thisArg:void 0}),new Rr(e,this.__chain__)}return this.thru(js)},Pr.prototype.toJSON=Pr.prototype.valueOf=Pr.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Pr.prototype.first=Pr.prototype.head,Jt&&(Pr.prototype[Jt]=function(){return this}),Pr}();Yt._=qe,void 0===(i=function(){return qe}.call(e,r,e,n))||(n.exports=i)}).call(this)}).call(this,r(19),r(141)(t))},1177:function(t,e,r){"use strict";var n=r(1185),i=r(1176);t.exports={checkState:function(t,e){if(!t)throw new n.InvalidState(e)},checkArgument:function(t,e,r,i){if(!t)throw new n.InvalidArgument(e,r,i)},checkArgumentType:function(t,e,s){if(s=s||"(unknown name)",i.isString(e)){if("Buffer"===e){if(!r(22).Buffer.isBuffer(t))throw new n.InvalidArgumentType(t,e,s)}else if(typeof t!==e)throw new n.InvalidArgumentType(t,e,s)}else if(!(t instanceof e))throw new n.InvalidArgumentType(t,e.name,s)}}},1178:function(t,e,r){"use strict";(function(e){var n=r(22),i=(r(300),r(1179),r(1177));function s(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}t.exports={fill:function(t,e){i.checkArgumentType(t,"Buffer","buffer"),i.checkArgumentType(e,"number","value");for(var r=t.length,n=0;n<r;n++)t[n]=e;return t},copy:function(t){var r=e.alloc(t.length);return t.copy(r),r},isBuffer:function(t){return n.Buffer.isBuffer(t)||t instanceof Uint8Array},emptyBuffer:function(t){i.checkArgumentType(t,"number","bytes");for(var r=e.alloc(t),n=0;n<t;n++)r.write("\0",n);return r},concat:n.Buffer.concat,equals:s,equal:s,integerAsSingleByteBuffer:function(t){return i.checkArgumentType(t,"number","integer"),e.from([255&t])},integerAsBuffer:function(t){i.checkArgumentType(t,"number","integer");var r=[];return r.push(t>>24&255),r.push(t>>16&255),r.push(t>>8&255),r.push(255&t),e.from(r)},integerFromBuffer:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t[0]<<24|t[1]<<16|t[2]<<8|t[3]},integerFromSingleByteBuffer:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t[0]},bufferToHex:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t.toString("hex")},reverse:function(t){return e.from(t).reverse()}},t.exports.NULL_HASH=t.exports.fill(e.alloc(32),0),t.exports.EMPTY_BUFFER=e.alloc(0)}).call(this,r(22).Buffer)},1179:function(t,e,r){"use strict";var n=r(1176),i=function(t){return!!n.isString(t)&&/^[0-9a-fA-F]+$/.test(t)};t.exports={isValidJSON:function(t){var e;if(!n.isString(t))return!1;try{e=JSON.parse(t)}catch(t){return!1}return"object"==typeof e},isHexa:i,isHexaString:i,cloneArray:function(t){return[].concat(t)},defineImmutable:function(t,e){return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{configurable:!1,enumerable:!0,value:e[r]})})),t},isNaturalNumber:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&t>=0}}},1180:function(t,e,r){"use strict";(function(e){var n=r(75),i=r(1177),s=r(1176),o=function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n++)r[n]=t[t.length-1-n];return r};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(t){return i.checkArgument(s.isNumber(t)),new n(t)},n.fromString=function(t,e){return i.checkArgument(s.isString(t)),new n(t,e)},n.fromBuffer=function(t,e){void 0!==e&&"little"===e.endian&&(t=o(t));var r=t.toString("hex");return new n(r,16)},n.fromSM=function(t,r){var i;if(0===t.length)return n.fromBuffer(e.from([0]));var s="big";return r&&(s=r.endian),"little"===s&&(t=o(t)),128&t[0]?(t[0]=127&t[0],(i=n.fromBuffer(t)).neg().copy(i)):i=n.fromBuffer(t),i},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(t){var r,i;if(t&&t.size){var s=(i=this.toString(16,2)).length/2;r=e.from(i,"hex"),s===t.size?r=r:s>t.size?r=n.trim(r,s):s<t.size&&(r=n.pad(r,s,t.size))}else i=this.toString(16,2),r=e.from(i,"hex");return void 0!==t&&"little"===t.endian&&(r=o(r)),r},n.prototype.toSMBigEndian=function(){var t;return-1===this.cmp(n.Zero)?128&(t=this.neg().toBuffer())[0]?t=e.concat([e.from([128]),t]):t[0]=128|t[0]:128&(t=this.toBuffer())[0]&&(t=e.concat([e.from([0]),t])),1===t.length&0===t[0]&&(t=e.from([])),t},n.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return"little"===e&&(r=o(r)),r},n.fromScriptNumBuffer=function(t,e,r){var s=r||4;if(i.checkArgument(t.length<=s,new Error("script number overflow")),e&&t.length>0&&0==(127&t[t.length-1])&&(t.length<=1||0==(128&t[t.length-2])))throw new Error("non-minimally encoded script number");return n.fromSM(t,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(t,e){return t.slice(e-t.length,t.length)},n.pad=function(t,r,n){for(var i=e.alloc(n),s=0;s<t.length;s++)i[i.length-1-s]=t[t.length-1-s];for(s=0;s<n-r;s++)i[s]=0;return i},t.exports=n}).call(this,r(22).Buffer)},1181:function(t,e,r){"use strict";(function(e){var n=r(608),i=r(1178),s=r(1177),o=t.exports;o.sha1=function(t){return s.checkArgument(i.isBuffer(t)),n.createHash("sha1").update(t).digest()},o.sha1.blocksize=512,o.sha256=function(t){return s.checkArgument(i.isBuffer(t)),n.createHash("sha256").update(t).digest()},o.sha256.blocksize=512,o.sha256sha256=function(t){return s.checkArgument(i.isBuffer(t)),o.sha256(o.sha256(t))},o.ripemd160=function(t){return s.checkArgument(i.isBuffer(t)),n.createHash("ripemd160").update(t).digest()},o.sha256ripemd160=function(t){return s.checkArgument(i.isBuffer(t)),o.ripemd160(o.sha256(t))},o.sha512=function(t){return s.checkArgument(i.isBuffer(t)),n.createHash("sha512").update(t).digest()},o.sha512.blocksize=1024,o.hmac=function(t,r,n){s.checkArgument(i.isBuffer(r)),s.checkArgument(i.isBuffer(n)),s.checkArgument(t.blocksize);var o=t.blocksize/8;if(n.length>o)n=t(n);else if(n<o){var u=e.alloc(o);u.fill(0),n.copy(u),n=u}var a=e.alloc(o);a.fill(92);var c=e.alloc(o);c.fill(54);for(var f=e.alloc(o),h=e.alloc(o),p=0;p<o;p++)f[p]=a[p]^n[p],h[p]=c[p]^n[p];return t(e.concat([f,t(e.concat([h,r]))]))},o.sha256hmac=function(t,e){return o.hmac(o.sha256,t,e)},o.sha512hmac=function(t,e){return o.hmac(o.sha512,t,e)}}).call(this,r(22).Buffer)},1182:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(300),s=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};s.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce((function(t,e){return t+e.length}),0),this},s.prototype.toBuffer=function(){return this.concat()},s.prototype.concat=function(){return e.concat(this.bufs,this.bufLen)},s.prototype.write=function(t){return i(n.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this},s.prototype.writeReverse=function(t){return i(n.isBuffer(t)),this.bufs.push(n.reverse(t)),this.bufLen+=t.length,this},s.prototype.writeUInt8=function(t){var r=e.alloc(1);return r.writeUInt8(t,0),this.write(r),this},s.prototype.writeUInt16BE=function(t){var r=e.alloc(2);return r.writeUInt16BE(t,0),this.write(r),this},s.prototype.writeUInt16LE=function(t){var r=e.alloc(2);return r.writeUInt16LE(t,0),this.write(r),this},s.prototype.writeUInt32BE=function(t){var r=e.alloc(4);return r.writeUInt32BE(t,0),this.write(r),this},s.prototype.writeInt32LE=function(t){var r=e.alloc(4);return r.writeInt32LE(t,0),this.write(r),this},s.prototype.writeUInt32LE=function(t){var r=e.alloc(4);return r.writeUInt32LE(t,0),this.write(r),this},s.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this},s.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this},s.prototype.writeVarintNum=function(t){var e=s.varintBufNum(t);return this.write(e),this},s.prototype.writeVarintBN=function(t){var e=s.varintBufBN(t);return this.write(e),this},s.varintBufNum=function(t){var r=void 0;return t<253?(r=e.alloc(1)).writeUInt8(t,0):t<65536?((r=e.alloc(3)).writeUInt8(253,0),r.writeUInt16LE(t,1)):t<4294967296?((r=e.alloc(5)).writeUInt8(254,0),r.writeUInt32LE(t,1)):((r=e.alloc(9)).writeUInt8(255,0),r.writeInt32LE(-1&t,1),r.writeUInt32LE(Math.floor(t/4294967296),5)),r},s.varintBufBN=function(t){var r=void 0,n=t.toNumber();if(n<253)(r=e.alloc(1)).writeUInt8(n,0);else if(n<65536)(r=e.alloc(3)).writeUInt8(253,0),r.writeUInt16LE(n,1);else if(n<4294967296)(r=e.alloc(5)).writeUInt8(254,0),r.writeUInt32LE(n,1);else{var i=new s;i.writeUInt8(255),i.writeUInt64LEBN(t);r=i.concat()}return r},t.exports=s}).call(this,r(22).Buffer)},1183:function(t,e,r){"use strict";(function(e){var n=r(1180),i=r(1176),s=r(1177),o=r(1178),u=r(1179),a=function t(e,r){if(!(this instanceof t))return new t(e,r);if(e instanceof n)this.set({r:e,s:r});else if(e){var i=e;this.set(i)}};a.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=void 0!==t.i?t.i:this.i,this.compressed=void 0!==t.compressed?t.compressed:this.compressed,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this},a.fromCompact=function(t){s.checkArgument(o.isBuffer(t),"Argument is expected to be a Buffer");var e=new a,r=!0,i=t.slice(0,1)[0]-27-4;i<0&&(r=!1,i+=4);var u=t.slice(1,33),c=t.slice(33,65);return s.checkArgument(0===i||1===i||2===i||3===i,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(32===u.length,new Error("r must be 32 bytes")),s.checkArgument(32===c.length,new Error("s must be 32 bytes")),e.compressed=r,e.i=i,e.r=n.fromBuffer(u),e.s=n.fromBuffer(c),e},a.fromDER=a.fromBuffer=function(t,e){var r=a.parseDER(t,e),n=new a;return n.r=r.r,n.s=r.s,n},a.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new a.fromDER(r,!1);return n.nhashtype=e,n},a.fromString=function(t){var r=e.from(t,"hex");return a.fromDER(r)},a.parseDER=function(t,e){s.checkArgument(o.isBuffer(t),new Error("DER formatted signature should be a buffer")),i.isUndefined(e)&&(e=!0);var r=t[0];s.checkArgument(48===r,new Error("Header byte should be 0x30"));var u=t[1],a=t.slice(2).length;s.checkArgument(!e||u===a,new Error("Length byte should length of what follows")),u=u<a?u:a;var c=t[2];s.checkArgument(2===c,new Error("Integer byte for r should be 0x02"));var f=t[3],h=t.slice(4,4+f),p=n.fromBuffer(h),l=0===t[4];s.checkArgument(f===h.length,new Error("Length of r incorrect"));var d=t[4+f+0];s.checkArgument(2===d,new Error("Integer byte for s should be 0x02"));var g=t[4+f+1],v=t.slice(4+f+2,4+f+2+g),m=n.fromBuffer(v),y=0===t[4+f+2+2];s.checkArgument(g===v.length,new Error("Length of s incorrect"));var _=4+f+2+g;return s.checkArgument(u===_-2,new Error("Length of signature incorrect")),{header:r,length:u,rheader:c,rlength:f,rneg:l,rbuf:h,r:p,sheader:d,slength:g,sneg:y,sbuf:v,s:m}},a.prototype.toCompact=function(t,r){if(t="number"==typeof t?t:this.i,r="boolean"==typeof r?r:this.compressed,0!==t&&1!==t&&2!==t&&3!==t)throw new Error("i must be equal to 0, 1, 2, or 3");var n=t+27+4;!1===r&&(n-=4);var i=e.from([n]),s=this.r.toBuffer({size:32}),o=this.s.toBuffer({size:32});return e.concat([i,s,o])},a.prototype.toBuffer=a.prototype.toDER=function(){var t=this.r.toBuffer(),r=this.s.toBuffer(),n=!!(128&t[0]),i=!!(128&r[0]),s=n?e.concat([e.from([0]),t]):t,o=i?e.concat([e.from([0]),r]):r,u=s.length,a=o.length,c=2+u+2+a;return e.concat([e.from([48,c,2,u]),s,e.from([2,a]),o])},a.prototype.toString=function(){return this.toDER().toString("hex")},a.isTxDER=function(t){if(t.length<9)return!1;if(t.length>73)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(2!==t[2])return!1;if(0===e)return!1;if(128&n[0])return!1;if(e>1&&0===n[0]&&!(128&n[1]))return!1;var i=t.slice(6+e);return 2===t[6+e-2]&&(0!==r&&(!(128&i[0])&&!(r>1&&0===i[0]&&!(128&i[1]))))},a.prototype.hasLowS=function(){return!this.s.lt(new n(1))&&!this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex"))},a.prototype.hasDefinedHashtype=function(){if(!u.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~a.SIGHASH_ANYONECANPAY;return!(t<a.SIGHASH_ALL||t>a.SIGHASH_SINGLE)},a.prototype.toTxFormat=function(){var t=this.toDER(),r=e.alloc(1);return r.writeUInt8(this.nhashtype,0),e.concat([t,r])},a.SIGHASH_ALL=1,a.SIGHASH_NONE=2,a.SIGHASH_SINGLE=3,a.SIGHASH_ANYONECANPAY=128,t.exports=a}).call(this,r(22).Buffer)},1184:function(t,e,r){t.exports=r(1231),t.exports.Interpreter=r(1260)},1185:function(t,e,r){"use strict";var n=r(1176);function i(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var s=function(t,e){var r=function(){if(n.isString(e.message))this.message=i(e.message,arguments);else{if(!n.isFunction(e.message))throw new Error("Invalid error definition for "+e.name);this.message=e.message.apply(null,arguments)}this.stack=this.message+"\n"+(new Error).stack};return(r.prototype=Object.create(t.prototype)).name=t.prototype.name+e.name,t[e.name]=r,e.errors&&o(r,e.errors),r},o=function(t,e){n.each(e,(function(e){s(t,e)}))},u={Error:function(){this.message="Internal error",this.stack=this.message+"\n"+(new Error).stack}};u.Error.prototype=Object.create(Error.prototype),u.Error.prototype.name="bitcore.Error";var a,c=r(1257);a=u.Error,o(a,c),t.exports=u.Error,t.exports.extend=function(t){return s(u.Error,t)}},1186:function(t,e,r){"use strict";(function(e){var n=r(1180),i=r(1199),s=r(1181),o=r(1179),u=r(1191),a=r(1176),c=r(1177);function f(t,e){if(!(this instanceof f))return new f(t,e);if(c.checkArgument(t,"First argument is required, please include public key data."),t instanceof f)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),o.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||u.defaultNetwork}),this}f.prototype._classifyArgs=function(t,r){var n={compressed:a.isUndefined(r.compressed)||r.compressed};if(t instanceof i)n.point=t;else if(t.x&&t.y)n=f._transformObject(t);else if("string"==typeof t)n=f._transformDER(e.from(t,"hex"));else if(f._isBuffer(t))n=f._transformDER(t);else{if(!f._isPrivateKey(t))throw new TypeError("First argument is an unrecognized data format.");n=f._transformPrivateKey(t)}return n.network||(n.network=a.isUndefined(r.network)?void 0:u.get(r.network)),n},f._isPrivateKey=function(t){return t instanceof r(1201)},f._isBuffer=function(t){return t instanceof e||t instanceof Uint8Array},f._transformPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=i.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e},f._transformDER=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r,s,o,u,h={};if(e=!!a.isUndefined(e)||e,4!==t[0]&&(e||6!==t[0]&&7!==t[0]))if(3===t[0])o=t.slice(1),r=new n(o),(h=f._transformX(!0,r)).compressed=!0;else{if(2!==t[0])throw new TypeError("Invalid DER format public key");o=t.slice(1),r=new n(o),(h=f._transformX(!1,r)).compressed=!0}else{if(o=t.slice(1,33),u=t.slice(33,65),32!==o.length||32!==u.length||65!==t.length)throw new TypeError("Length of x and y must be 32 bytes");r=new n(o),s=new n(u),h.point=new i(r,s),h.compressed=!1}return h},f._transformX=function(t,e){c.checkArgument("boolean"==typeof t,"Must specify whether y is odd or not (true or false)");var r={};return r.point=i.fromX(t,e),r},f._transformObject=function(t){var e=new n(t.x,"hex"),r=new n(t.y,"hex");return new f(new i(e,r),{compressed:t.compressed})},f.fromPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e=f._transformPrivateKey(t);return new f(e.point,{compressed:e.compressed,network:e.network})},f.fromDER=f.fromBuffer=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=f._transformDER(t,e);return new f(r.point,{compressed:r.compressed})},f.fromPoint=function(t,e){return c.checkArgument(t instanceof i,"First argument must be an instance of Point."),new f(t,{compressed:e})},f.fromString=function(t,r){var n=e.from(t,r||"hex"),i=f._transformDER(n);return new f(i.point,{compressed:i.compressed})},f.fromX=function(t,e){var r=f._transformX(t,e);return new f(r.point,{compressed:r.compressed})},f.getValidationError=function(t){var e;try{new f(t)}catch(t){e=t}return e},f.isValid=function(t){return!f.getValidationError(t)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var t,r=this.point.getX(),n=this.point.getY(),i=r.toBuffer({size:32}),s=n.toBuffer({size:32});return this.compressed?(t=s[s.length-1]%2?e.from([3]):e.from([2]),e.concat([t,i])):(t=e.from([4]),e.concat([t,i,s]))},f.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(t,e){return r(1187).fromPublicKey(this,t||this.network,e)},f.prototype.toString=function(){return this.toDER().toString("hex")},f.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"},t.exports=f}).call(this,r(22).Buffer)},1187:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(1185),o=r(1202),u=r(1258),a=r(1191),c=r(1181),f=r(1179),h=r(1186);function p(t,e,r,s){if(!(this instanceof p))return new p(t,e,r);if(n.isArray(t)&&n.isNumber(e))return p.createMultisig(t,e,r,!1,s);if(t instanceof p)return t;if(i.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!a.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==p.PayToPublicKeyHash&&r!==p.PayToScriptHash&&r!==p.PayToWitnessPublicKeyHash&&r!==p.PayToWitnessScriptHash)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", or "witnessscripthash".');var o=this._classifyArguments(t,e,r);return o.network=o.network||a.get(e)||a.defaultNetwork,o.type=o.type||r||p.PayToPublicKeyHash,f.defineImmutable(this,{hashBuffer:o.hashBuffer,network:o.network,type:o.type}),this}p.prototype._classifyArguments=function(t,r,i){if(!(t instanceof e||t instanceof Uint8Array)||20!==t.length&&32!==t.length){if((t instanceof e||t instanceof Uint8Array)&&t.length>=21)return p._transformBuffer(t,r,i);if(t instanceof h)return p._transformPublicKey(t,r,i);if(t instanceof l)return p._transformScript(t,r);if("string"==typeof t)return p._transformString(t,r,i);if(n.isObject(t))return p._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")}return p._transformHash(t,r,i)},p.PayToPublicKeyHash="pubkeyhash",p.PayToScriptHash="scripthash",p.PayToWitnessPublicKeyHash="witnesspubkeyhash",p.PayToWitnessScriptHash="witnessscripthash",p._transformHash=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(20!==t.length&&32!==t.length)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return i.hashBuffer=t,i.network=a.get(r)||a.defaultNetwork,i.type=n,i},p._transformObject=function(t){return i.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?e.from(t.hash,"hex"):t.hashBuffer,network:a.get(t.network)||a.defaultNetwork,type:t.type}},p._classifyFromVersion=function(t){var e={};if(t.length>21){var r=u.decode(t.toString("utf8"));if(0!==r.version)throw new TypeError("Only witness v0 addresses are supported.");if(20===r.data.length)e.type=p.PayToWitnessPublicKeyHash;else{if(32!==r.data.length)throw new TypeError("Witness data must be either 20 or 32 bytes.");e.type=p.PayToWitnessScriptHash}e.network=a.get(r.prefix,"bech32prefix")}else{var n=a.get(t[0],"pubkeyhash"),i=a.get(t[0],"scripthash");n?(e.network=n,e.type=p.PayToPublicKeyHash):i&&(e.network=i,e.type=p.PayToScriptHash)}return e},p._transformBuffer=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var s=a.get(r),o=p._classifyFromVersion(t);if(r&&!s)throw new TypeError("Unknown network");if(!o.network||s&&s.xpubkey!==o.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!o.type||n&&n!==o.type)throw new TypeError("Address has mismatched type.");return t.length>21?i.hashBuffer=u.decode(t.toString("utf8")).data:i.hashBuffer=t.slice(1),i.network=o.network,i.type=o.type,i},p._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof h))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==p.PayToScriptHash&&r!==p.PayToWitnessPublicKeyHash&&r!==p.PayToPublicKeyHash)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, or scripthash to transform public key.");if(!t.compressed&&(r===p.PayToScriptHash||r===p.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===p.PayToScriptHash?n.hashBuffer=c.sha256ripemd160(l.buildWitnessV0Out(t).toBuffer()):n.hashBuffer=c.sha256ripemd160(t.toBuffer()),n.type=r||p.PayToPublicKeyHash,n},p._transformScript=function(t,e){i.checkArgument(t instanceof l,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new s.Script.CantDeriveAddress(t);return r},p.createMultisig=function(t,e,r,i,s){if(r=r||t[0].network||a.defaultNetwork,s&&s!==p.PayToScriptHash&&s!==p.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(i||s===p.PayToWitnessScriptHash){t=n.map(t,h);for(var o=0;o<t.length;o++)if(!t[o].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var u=l.buildMultisigOut(t,e);return i?p.payingTo(l.buildWitnessMultisigOutFromScript(u),r):p.payingTo(u,r,s)},p._transformString=function(t,r,n){if("string"!=typeof t)throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(r&&!a.get(r))throw new TypeError("Unknown network");t=t.trim();try{return p._transformBuffer(e.from(t,"utf8"),r,n)}catch(t){if(n===p.PayToWitnessPublicKeyHash||n===p.PayToWitnessScriptHash)throw t}var i=o.decode(t);return p._transformBuffer(i,r,n)},p.fromPublicKey=function(t,e,r){var n=p._transformPublicKey(t,e,r);return e=e||a.defaultNetwork,new p(n.hashBuffer,e,n.type)},p.fromPublicKeyHash=function(t,e){var r=p._transformHash(t);return new p(r.hashBuffer,e,p.PayToPublicKeyHash)},p.fromScriptHash=function(t,e,r){i.checkArgument(t,"hash parameter is required");var n=p._transformHash(t);if(r===p.PayToWitnessScriptHash&&32!==t.length)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");r=r||p.PayToScriptHash;return new p(n.hashBuffer,e,r)},p.payingTo=function(t,e,r){var n;i.checkArgument(t,"script is required"),i.checkArgument(t instanceof l,"script must be instance of Script"),n=r===p.PayToWitnessScriptHash?c.sha256(t.toBuffer()):c.sha256ripemd160(t.toBuffer());r=r||p.PayToScriptHash;return p.fromScriptHash(n,e,r)},p.fromScript=function(t,e){i.checkArgument(t instanceof l,"script must be a Script instance");var r=p._transformScript(t,e);return new p(r.hashBuffer,e,r.type)},p.fromBuffer=function(t,e,r){var n=p._transformBuffer(t,e,r);return new p(n.hashBuffer,n.network,n.type)},p.fromString=function(t,e,r){var n=p._transformString(t,e,r);return new p(n.hashBuffer,n.network,n.type)},p.fromObject=function(t){return i.checkState(f.isHexa(t.hash),'Unexpected hash property, "'+t.hash+'", expected to be hex.'),new p(e.from(t.hash,"hex"),t.network,t.type)},p.getValidationError=function(t,e,r){var n;try{new p(t,e,r)}catch(t){n=t}return n},p.isValid=function(t,e,r){return!p.getValidationError(t,e,r)},p.prototype.isPayToPublicKeyHash=function(){return this.type===p.PayToPublicKeyHash},p.prototype.isPayToScriptHash=function(){return this.type===p.PayToScriptHash},p.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===p.PayToWitnessPublicKeyHash},p.prototype.isPayToWitnessScriptHash=function(){return this.type===p.PayToWitnessScriptHash},p.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return e.from(this.toString(),"utf8");var t=e.from([this.network[this.type]]);return e.concat([t,this.hashBuffer])},p.prototype.toObject=p.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},p.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()){var t=this.network.bech32prefix;return u.encode(t,0,this.hashBuffer)}return o.encode(this.toBuffer())},p.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},t.exports=p;var l=r(1184)}).call(this,r(22).Buffer)},1188:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(1178),o=r(1180),u=function t(r){if(!(this instanceof t))return new t(r);if(!n.isUndefined(r))if(e.isBuffer(r))this.set({buf:r});else if(n.isString(r))this.set({buf:e.from(r,"hex")});else{if(!n.isObject(r))throw new TypeError("Unrecognized argument for BufferReader");var i=r;this.set(i)}};u.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this},u.prototype.eof=function(){return!this.buf||this.pos>=this.buf.length},u.prototype.finished=u.prototype.eof,u.prototype.read=function(t){i.checkArgument(!n.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e},u.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t},u.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t},u.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t},u.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t},u.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t},u.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t},u.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t},u.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=o.fromBuffer(t);return this.pos=this.pos+8,e},u.prototype.readUInt64LEBN=function(){var t,e=this.buf.readUInt32LE(this.pos),r=4294967296*this.buf.readUInt32LE(this.pos+4)+e;if(r<=9007199254740991)t=new o(r);else{var n=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);t=new o(n,10,"le")}return this.pos=this.pos+8,t},u.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN().toNumber();if(e<=Math.pow(2,53))return e;throw new Error("number too large to retain precision - use readVarintBN");default:return t}},u.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return i.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e},u.prototype.readVarintBuf=function(){switch(this.buf.readUInt8(this.pos)){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},u.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new o(this.readUInt16LE());case 254:return new o(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new o(t)}},u.prototype.reverse=function(){for(var t=e.alloc(this.buf.length),r=0;r<t.length;r++)t[r]=this.buf[this.buf.length-1-r];return this.buf=t,this},u.prototype.readReverse=function(t){n.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,s.reverse(e)},t.exports=u}).call(this,r(22).Buffer)},1189:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1180),s=(r(22),r(1178)),o=r(1179),u=r(1182),a=r(1184),c=r(1177),f=r(1185);function h(t){if(!(this instanceof h))return new h(t);if(!n.isObject(t))throw new TypeError("Unrecognized argument for Output");var r;this.satoshis=t.satoshis,s.isBuffer(t.script)?this._scriptBuffer=t.script:(r=n.isString(t.script)&&o.isHexa(t.script)?e.from(t.script,"hex"):t.script,this.setScript(r))}Object.defineProperty(h.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script||this.setScriptFromBuffer(this._scriptBuffer),this._script}}),Object.defineProperty(h.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof i?(this._satoshisBN=t,this._satoshis=t.toNumber()):n.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=i.fromNumber(this._satoshis)):(c.checkArgument(o.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(t),this._satoshis=t),c.checkState(o.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.invalidSatoshis=function(){return this._satoshis>9007199254740991?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0&&"transaction txout negative"},h.prototype.toObject=h.prototype.toJSON=function(){var t={satoshis:this.satoshis};return t.script=this._scriptBuffer.toString("hex"),t},h.fromObject=function(t){return new h(t)},h.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=a.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(t){if(!(t instanceof f.Script.InvalidBuffer))throw t;this._script=null}},h.prototype.setScript=function(t){if(t instanceof a)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(n.isString(t))this._script=a.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else{if(!s.isBuffer(t))throw new TypeError("Invalid argument type: script");this.setScriptFromBuffer(t)}return this},h.prototype.inspect=function(){var t;return t=this.script?this.script.inspect():this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"},h.fromBufferReader=function(t){var r={};r.satoshis=t.readUInt64LEBN();var n=t.readVarintNum();return r.script=0!==n?t.read(n):e.from([]),new h(r)},h.prototype.toBufferWriter=function(t){t||(t=new u),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t},t.exports=h}).call(this,r(22).Buffer)},1190:function(t,e,r){"use strict";(function(e){r(22);var n=r(1183),i=r(1184),s=r(1189),o=r(1188),u=r(1182),a=r(1180),c=r(1181),f=r(1208),h=r(1177),p=r(1176),l=function(t,f,h,p){var l,d=r(1219),g=r(1220),v=d.shallowCopy(t);for((p=new i(p)).removeCodeseparators(),l=0;l<v.inputs.length;l++)v.inputs[l]=new g(v.inputs[l]).setScript(i.empty());if(v.inputs[h]=new g(v.inputs[h]).setScript(p),(31&f)===n.SIGHASH_NONE||(31&f)===n.SIGHASH_SINGLE)for(l=0;l<v.inputs.length;l++)l!==h&&(v.inputs[l].sequenceNumber=0);if((31&f)===n.SIGHASH_NONE)v.outputs=[];else if((31&f)===n.SIGHASH_SINGLE){if(h>=v.outputs.length)return e.from("0000000000000000000000000000000000000000000000000000000000000001","hex");for(v.outputs.length=h+1,l=0;l<h;l++)v.outputs[l]=new s({satoshis:a.fromBuffer(e.from("ffffffffffffffff","hex")),script:i.empty()})}f&n.SIGHASH_ANYONECANPAY&&(v.inputs=[v.inputs[h]]);var m=(new u).write(v.toBuffer()).writeInt32LE(f).toBuffer(),y=c.sha256sha256(m);return y=new o(y).readReverse()};t.exports={sighash:l,sign:function(t,e,r,n,i,s){if("ecdsa"===(s=s||"ecdsa")){var o=l(t,r,n,i);return f.sign(o,e,"little").set({nhashtype:r})}throw new Error("signingMethod not supported ",s)},verify:function(t,e,r,n,i,s){if(h.checkArgument(!p.isUndefined(t),"Transaction Undefined"),h.checkArgument(!p.isUndefined(e)&&!p.isUndefined(e.nhashtype),"Signature Undefined"),"ecdsa"===(s=s||"ecdsa")){var o=l(t,e.nhashtype,n,i);return f.verify(o,e,r,"little")}throw new Error("signingMethod not supported ",s)}}}).call(this,r(22).Buffer)},1191:function(t,e,r){"use strict";var n=r(1176),i=r(1178),s=r(1179),o=[],u={};function a(){}function c(t,e){if(~o.indexOf(t))return t;if(!e)return u[t]&&u[t].length>=1?u[t][0]:u[t];n.isArray(e)||(e=[e]);var r=function(e){return o[i][e]===t};for(var i in o)if(n.some(e,r))return o[i]}function f(t){var e=new a;return s.defineImmutable(e,{name:t.name,alias:t.alias,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&s.defineImmutable(e,{networkMagic:i.integerAsBuffer(t.networkMagic)}),t.port&&s.defineImmutable(e,{port:t.port}),t.dnsSeeds&&s.defineImmutable(e,{dnsSeeds:t.dnsSeeds}),n.each(e,(function(t){n.isUndefined(t)||n.isObject(t)||(u[t]||(u[t]=[]),u[t].push(e))})),o.push(e),e}a.prototype.toString=function(){return this.name},f({name:"livenet",alias:"mainnet",pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var h=c("livenet");f({name:"testnet",alias:"test",pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]});var p=c("testnet");f({name:"regtest",alias:"dev",pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var l=c("regtest");t.exports={add:f,remove:function(t){for(var e=0;e<o.length;e++)o[e]===t&&o.splice(e,1);for(var r in u){const e=u[r].indexOf(t);e>=0&&delete u[r][e]}},defaultNetwork:h,livenet:h,mainnet:h,testnet:p,regtest:l,get:c,enableRegtest:function(){p.regtestEnabled=!0},disableRegtest:function(){p.regtestEnabled=!1}}},1197:function(t,e,r){"use strict";var n,i=r(0),s=r.n(i),o=r(170),u=(r(115),r(32)),a=r.n(u),c=r(11),f=r(171);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=Object(f.h)(),S=Object(o.connect)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.wallet)}))(n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(o,t);var e,r,n,i=g(o);function o(){return p(this,o),i.apply(this,arguments)}return e=o,(r=[{key:"render",value:function(){var t=this.props,e=t.price,r=t.value,n=t.usd,i=t.exchangeRate,o=t.token,u=t.tokenAmount,f=(c.s[o]||c.s[1]).name.toLowerCase();if(7===o&&(f="bsv"),!e[f])return null;var h=null,p=b.currencyCode.toLowerCase();h=e[f][p]?e[f][p]:a()(e[f].usd).times(i[p]),n&&(h=a()(h).div(e[f].usd).multipliedBy(n));var l=0;return l=3===o||6===o?(l=(l=a()(r).times(h)).plus(u||0)).toFixed(2,1):a()(r).div(1e8).times(h).toFixed(2,1),s.a.createElement("span",null,b.symbol,l," ",b.currencyCode)}}])&&l(e.prototype,r),n&&l(e,n),o}(i.Component))||n;e.a=S},1199:function(t,e,r){"use strict";(function(e){var n=r(1180),i=r(1178),s=new(0,r(142).ec)("secp256k1"),o=s.curve.point.bind(s.curve),u=s.curve.pointFromX.bind(s.curve),a=function(t,e,r){try{var n=o(t,e,r)}catch(t){throw new Error("Invalid Point")}return n.validate(),n};a.prototype=Object.getPrototypeOf(s.curve.point()),a.fromX=function(t,e){try{var r=u(e,t)}catch(t){throw new Error("Invalid X")}return r.validate(),r},a.getG=function(){return s.curve.g},a.getN=function(){return new n(s.curve.n.toArray())},a.prototype._getX=a.prototype.getX,a.prototype.getX=function(){return new n(this._getX().toArray())},a.prototype._getY=a.prototype.getY,a.prototype.getY=function(){return new n(this._getY().toArray())},a.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var t;try{t=u(this.getX(),this.getY().isOdd())}catch(t){throw new Error("Point does not lie on the curve")}if(0!==t.y.cmp(this.y))throw new Error("Invalid y value for curve.");if(!this.mul(a.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},a.pointToCompressed=function(t){var r,n=t.getX().toBuffer({size:32}),s=t.getY().toBuffer({size:32});return r=s[s.length-1]%2?e.from([3]):e.from([2]),i.concat([r,n])},t.exports=a}).call(this,r(22).Buffer)},1201:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1187),s=r(1202),o=r(1180),u=r(1179),a=r(1191),c=r(1199),f=r(1186),h=r(1212),p=r(1177);function l(t,e){if(!(this instanceof l))return new l(t,e);if(t instanceof l)return t;var r=this._classifyArguments(t,e);if(!r.bn||0===r.bn.cmp(new o(0)))throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(void 0===r.network)throw new TypeError('Must specify the network ("livenet" or "testnet")');return u.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}l.prototype._classifyArguments=function(t,r){var i={compressed:!0,network:r?a.get(r):a.defaultNetwork};if(n.isUndefined(t)||n.isNull(t))i.bn=l._getRandomBN();else if(t instanceof o)i.bn=t;else if(t instanceof e||t instanceof Uint8Array)i=l._transformBuffer(t,r);else if(t.bn&&t.network)i=l._transformObject(t);else if(!r&&a.get(t))i.bn=l._getRandomBN(),i.network=a.get(t);else{if("string"!=typeof t)throw new TypeError("First argument is an unrecognized data type.");u.isHexa(t)?i.bn=new o(e.from(t,"hex")):i=l._transformWIF(t,r)}return i},l._getRandomBN=function(){var t,e;do{var r=h.getRandomBuffer(32);t=(e=o.fromBuffer(r)).lt(c.getN())}while(!t);return e},l._transformBuffer=function(t,e){var r={};if(32===t.length)return l._transformBNBuffer(t,e);if(r.network=a.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==a.get(e))throw new TypeError("Private key network mismatch");if(34===t.length&&1===t[33])r.compressed=!0;else{if(33!==t.length)throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");r.compressed=!1}return r.bn=o.fromBuffer(t.slice(1,33)),r},l._transformBNBuffer=function(t,e){var r={};return r.network=a.get(e)||a.defaultNetwork,r.bn=o.fromBuffer(t),r.compressed=!1,r},l._transformWIF=function(t,e){return l._transformBuffer(s.decode(t),e)},l.fromBuffer=function(t,e){return new l(t,e)},l._transformObject=function(t){return{bn:new o(t.bn,"hex"),network:a.get(t.network),compressed:t.compressed}},l.fromString=l.fromWIF=function(t){return p.checkArgument(n.isString(t),"First argument is expected to be a string."),new l(t)},l.fromObject=function(t){return p.checkArgument(n.isObject(t),"First argument is expected to be an object."),new l(t)},l.fromRandom=function(t){var e=l._getRandomBN();return new l(e,t)},l.getValidationError=function(t,e){var r;try{new l(t,e)}catch(t){r=t}return r},l.isValid=function(t,e){return!!t&&!l.getValidationError(t,e)},l.prototype.toString=function(){return this.toBuffer().toString("hex")},l.prototype.toWIF=function(){var t,r=this.network;return t=this.compressed?e.concat([e.from([r.privatekey]),this.bn.toBuffer({size:32}),e.from([1])]):e.concat([e.from([r.privatekey]),this.bn.toBuffer({size:32})]),s.encode(t)},l.prototype.toBigNumber=function(){return this.bn},l.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},l.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()},l.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},l.prototype.toAddress=function(t,e){var r=this.toPublicKey();return i.fromPublicKey(r,t||this.network,e)},l.prototype.toObject=l.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},l.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"},t.exports=l}).call(this,r(22).Buffer)},1202:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1209),s=(r(22),r(1181).sha256sha256),o=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};o.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},o.validChecksum=function(t,r){return n.isString(t)&&(t=e.from(i.decode(t))),n.isString(r)&&(r=e.from(i.decode(r))),r||(r=t.slice(-4),t=t.slice(0,-4)),o.checksum(t).toString("hex")===r.toString("hex")},o.decode=function(t){if("string"!=typeof t)throw new Error("Input must be a string");var r=e.from(i.decode(t));if(r.length<4)throw new Error("Input string too short");var n=r.slice(0,-4),o=r.slice(-4),u=s(n).slice(0,4);if(o.toString("hex")!==u.toString("hex"))throw new Error("Checksum mismatch");return n},o.checksum=function(t){return s(t).slice(0,4)},o.encode=function(t){if(!e.isBuffer(t))throw new Error("Input must be a buffer");var r=e.alloc(t.length+4),n=o.checksum(t);return t.copy(r),n.copy(r,t.length),i.encode(r)},o.prototype.fromBuffer=function(t){return this.buf=t,this},o.prototype.fromString=function(t){var e=o.decode(t);return this.buf=e,this},o.prototype.toBuffer=function(){return this.buf},o.prototype.toString=function(){return o.encode(this.buf)},t.exports=o}).call(this,r(22).Buffer)},1203:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177);const s=r(1185);var o=r(1182),u=(r(22),r(1178)),a=r(1179),c=r(1184),f=r(1190),h=r(1189);const p=Math.pow(2,31),l=Math.pow(2,22),d=Math.pow(2,16)-1;function g(t){return this instanceof g?t?this._fromObject(t):void 0:new g(t)}g.MAXINT=4294967295,g.DEFAULT_SEQNUMBER=4294967295,g.DEFAULT_LOCKTIME_SEQNUMBER=4294967294,g.DEFAULT_RBF_SEQNUMBER=4294967293,g.SEQUENCE_LOCKTIME_TYPE_FLAG=l,Object.defineProperty(g.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new c(this._scriptBuffer),this._script._isInput=!0),this._script)}}),g.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new g)._fromObject(t)},g.prototype._fromObject=function(t){var r;if(r=n.isString(t.prevTxId)&&a.isHexa(t.prevTxId)?e.from(t.prevTxId,"hex"):t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof h?t.output:new h(t.output):void 0,this.prevTxId=r||t.txidbuf,this.outputIndex=n.isUndefined(t.outputIndex)?t.txoutnum:t.outputIndex,this.sequenceNumber=n.isUndefined(t.sequenceNumber)?n.isUndefined(t.seqnum)?4294967295:t.seqnum:t.sequenceNumber,n.isUndefined(t.script)&&n.isUndefined(t.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this},g.prototype.toObject=g.prototype.toJSON=function(){var t={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(t.scriptString=this.script.toString()),this.output&&(t.output=this.output.toObject()),t},g.fromBufferReader=function(t){var e=new g;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e},g.prototype.toBufferWriter=function(t){t||(t=new o),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t},g.prototype.setScript=function(t){if(this._script=null,t instanceof c)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(a.isHexa(t))this._scriptBuffer=e.from(t,"hex");else if(n.isString(t))this._script=new c(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else{if(!u.isBuffer(t))throw new TypeError("Invalid argument type: script");this._scriptBuffer=e.from(t)}return this},g.prototype.getSignatures=function(){throw new s.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))},g.prototype.getSatoshisBuffer=function(){return i.checkState(this.output instanceof h),i.checkState(this.output._satoshisBN),(new o).writeUInt64LEBN(this.output._satoshisBN).toBuffer()},g.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},g.prototype.isFinal=function(){return this.sequenceNumber!==g.MAXINT},g.prototype.addSignature=function(){throw new s.AbstractMethodInvoked("Input#addSignature")},g.prototype.clearSignatures=function(){throw new s.AbstractMethodInvoked("Input#clearSignatures")},g.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)},g.prototype.getWitnesses=function(){return this.witnesses},g.prototype.setWitnesses=function(t){this.witnesses=t},g.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},g.prototype.isNull=function(){return"0000000000000000000000000000000000000000000000000000000000000000"===this.prevTxId.toString("hex")&&4294967295===this.outputIndex},g.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},g.prototype.lockForSeconds=function(t){if(i.checkArgument(n.isNumber(t)),t<0||t>=33553920)throw new s.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/512)),this.sequenceNumber=t|l,this},g.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t<0||t>=d)throw new s.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this},g.prototype.getLockTime=function(){return this.sequenceNumber&p?null:this.sequenceNumber&l?512*(65535&this.sequenceNumber):65535&this.sequenceNumber},t.exports=g}).call(this,r(22).Buffer)},1204:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(18),o=r(1178),u=r(1179),a=r(1186),c=r(1185),f=r(1183);function h(t){if(!(this instanceof h))return new h(t);if(t instanceof h)return t;if(n.isObject(t))return this._fromObject(t);throw new c.InvalidArgument("TransactionSignatures must be instantiated from an object")}s(h,f),h.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new a(t.publicKey),this.prevTxId=o.isBuffer(t.prevTxId)?t.prevTxId:e.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof f?t.signature:o.isBuffer(t.signature)?f.fromBuffer(t.signature):f.fromString(t.signature),this.sigtype=t.sigtype,this},h.prototype._checkObjectArgs=function(t){i.checkArgument(a(t.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(t.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(t.outputIndex),"outputIndex"),i.checkState(n.isNumber(t.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(t.outputIndex),"outputIndex must be a number"),i.checkArgument(t.signature,"signature"),i.checkArgument(t.prevTxId,"prevTxId"),i.checkState(t.signature instanceof f||o.isBuffer(t.signature)||u.isHexa(t.signature),"signature must be a buffer or hexa value"),i.checkState(o.isBuffer(t.prevTxId)||u.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(t.sigtype,"sigtype"),i.checkState(n.isNumber(t.sigtype),"sigtype must be a number")},h.prototype.toObject=h.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},h.fromObject=function(t){return i.checkArgument(t),new h(t)},t.exports=h}).call(this,r(22).Buffer)},1208:function(t,e,r){"use strict";(function(e){var n=r(1180),i=r(1199),s=r(1183),o=r(1186),u=r(1212),a=r(1181),c=r(1178),f=r(1176),h=r(1177),p=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};p.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this},p.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},p.prototype.calci=function(){for(var t=0;t<4;t++){var e;this.sig.i=t;try{e=this.toPublicKey()}catch(t){console.error(t);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},p.fromString=function(t){var e=JSON.parse(t);return new p(e)},p.prototype.randomK=function(){var t,e=i.getN();do{t=n.fromBuffer(u.getRandomBuffer(32))}while(!t.lt(e)||!t.gt(n.Zero));return this.k=t,this},p.prototype.deterministicK=function(t){f.isUndefined(t)&&(t=0);var r=e.alloc(32);r.fill(1);var s=e.alloc(32);s.fill(0);var o=this.privkey.bn.toBuffer({size:32}),u="little"===this.endian?c.reverse(this.hashbuf):this.hashbuf;s=a.sha256hmac(e.concat([r,e.from([0]),o,u]),s),r=a.sha256hmac(r,s),s=a.sha256hmac(e.concat([r,e.from([1]),o,u]),s),r=a.sha256hmac(r,s),r=a.sha256hmac(r,s);for(var h=n.fromBuffer(r),p=i.getN(),l=0;l<t||!h.lt(p)||!h.gt(n.Zero);l++)s=a.sha256hmac(e.concat([r,e.from([0])]),s),r=a.sha256hmac(r,s),r=a.sha256hmac(r,s),h=n.fromBuffer(r);return this.k=h,this},p.prototype.toPublicKey=function(){var t=this.sig.i;h.checkArgument(0===t||1===t||2===t||3===t,new Error("i must be equal to 0, 1, 2, or 3"));var e=n.fromBuffer(this.hashbuf),r=this.sig.r,s=this.sig.s,u=1&t,a=t>>1,c=i.getN(),f=i.getG(),p=a?r.add(c):r,l=i.fromX(u,p);if(!l.mul(c).isInfinity())throw new Error("nR is not a valid curve point");var d=e.neg().umod(c),g=r.invm(c),v=l.mul(s).add(f.mul(d)).mul(g);return o.fromPoint(v,this.sig.compressed)},p.prototype.sigError=function(){if(!c.isBuffer(this.hashbuf)||32!==this.hashbuf.length)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(n.Zero)&&t.lt(i.getN())&&e.gt(n.Zero)&&e.lt(i.getN())))return"r and s not in range";var r=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),s=i.getN(),o=e.invm(s),u=o.mul(r).umod(s),a=o.mul(t).umod(s),f=i.getG().mulAdd(u,this.pubkey.point,a);return f.isInfinity()?"p is infinity":0!==f.getX().umod(s).cmp(t)&&"Invalid signature"},p.toLowS=function(t){return t.gt(n.fromBuffer(e.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=i.getN().sub(t)),t},p.prototype._findSignature=function(t,e){var r,s,o,u=i.getN(),a=i.getG(),c=0;do{(!this.k||c>0)&&this.deterministicK(c),c++,r=this.k,s=a.mul(r).x.umod(u),o=r.invm(u).mul(e.add(t.mul(s))).umod(u)}while(s.cmp(n.Zero)<=0||o.cmp(n.Zero)<=0);return{s:o=p.toLowS(o),r:s}},p.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;h.checkState(t&&e&&r,new Error("invalid parameters")),h.checkState(c.isBuffer(t)&&32===t.length,new Error("hashbuf must be a 32 byte buffer"));var i=n.fromBuffer(t,this.endian?{endian:this.endian}:void 0),o=this._findSignature(r,i);return o.compressed=this.pubkey.compressed,this.sig=new s(o),this},p.prototype.signRandomK=function(){return this.randomK(),this.sign()},p.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)},p.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},p.sign=function(t,e,r){return p().set({hashbuf:t,endian:r,privkey:e}).sign().sig},p.verify=function(t,e,r,n){return p().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified},t.exports=p}).call(this,r(22).Buffer)},1209:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1229),s=r(22),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),u=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};u.validCharacters=function(t){return s.Buffer.isBuffer(t)&&(t=t.toString()),n.every(n.map(t,(function(t){return n.includes(o,t)})))},u.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},u.encode=function(t){if(!s.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return i.encode(t)},u.decode=function(t){if("string"!=typeof t)throw new Error("Input should be a string");return e.from(i.decode(t))},u.prototype.fromBuffer=function(t){return this.buf=t,this},u.prototype.fromString=function(t){var e=u.decode(t);return this.buf=e,this},u.prototype.toBuffer=function(){return this.buf},u.prototype.toString=function(){return u.encode(this.buf)},t.exports=u}).call(this,r(22).Buffer)},1210:function(t,e,r){t.exports=r(1219),t.exports.Input=r(1220),t.exports.Output=r(1189),t.exports.UnspentOutput=r(1232),t.exports.Signature=r(1204),t.exports.Sighash=r(1190),t.exports.SighashWitness=r(1211)},1211:function(t,e,r){"use strict";(function(e){var n=r(1183),i=(r(1184),r(1189),r(1188)),s=r(1182),o=(r(1180),r(1181)),u=r(1208),a=r(1177),c=r(1176),f=function(t,r,u,a,c){var f,h,p;if(!(r&n.SIGHASH_ANYONECANPAY)){for(var l=[],d=0;d<t.inputs.length;d++){var g=t.inputs[d],v=new i(g.prevTxId).readReverse();l.push(v);var m=e.alloc(4);m.writeUInt32LE(g.outputIndex,0),l.push(m)}f=o.sha256sha256(e.concat(l))}if(!(r&n.SIGHASH_ANYONECANPAY)&&(31&r)!==n.SIGHASH_SINGLE&&(31&r)!==n.SIGHASH_NONE){for(var y=[],_=0;_<t.inputs.length;_++){var b=e.alloc(4);b.writeUInt32LE(t.inputs[_].sequenceNumber,0),y.push(b)}h=o.sha256sha256(e.concat(y))}var S=new s;if((31&r)!==n.SIGHASH_SINGLE&&(31&r)!==n.SIGHASH_NONE){for(var I=0;I<t.outputs.length;I++)t.outputs[I].toBufferWriter(S);p=o.sha256sha256(S.toBuffer())}else(31&r)===n.SIGHASH_SINGLE&&u<t.outputs.length&&(t.outputs[u].toBufferWriter(S),p=o.sha256sha256(S.toBuffer()));var w=new s;w.writeUInt32LE(t.version),w.write(f),w.write(h);var E=new i(t.inputs[u].prevTxId).readReverse();return w.write(E),w.writeUInt32LE(t.inputs[u].outputIndex),w.write(a),w.write(c),w.writeUInt32LE(t.inputs[u].sequenceNumber),w.write(p),w.writeUInt32LE(t.nLockTime),w.writeInt32LE(r),o.sha256sha256(w.toBuffer())};t.exports={sighash:f,sign:function(t,e,r,n,i,s,o){if("ecdsa"===(o=o||"ecdsa")){let o=f(t,r,n,i,s);return u.sign(o,e).set({nhashtype:r})}throw new Error("signingMethod not supported ",o)},verify:function(t,e,r,n,i,s,o){if(a.checkArgument(!c.isUndefined(t)),a.checkArgument(!c.isUndefined(e)&&!c.isUndefined(e.nhashtype)),"ecdsa"===(o=o||"ecdsa")){let o=f(t,e.nhashtype,n,i,s);return u.verify(o,e,r)}throw new Error("signingMethod not supported ",o)}}}).call(this,r(22).Buffer)},1212:function(t,e,r){"use strict";(function(e,n){function i(){}i.getRandomBuffer=function(t){return e.browser?i.getRandomBufferBrowser(t):i.getRandomBufferNode(t)},i.getRandomBufferNode=function(t){return r(608).randomBytes(t)},i.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else{if(!window.msCrypto||!window.msCrypto.getRandomValues)throw new Error("window.crypto.getRandomValues not available");e=window.msCrypto}var r=new Uint8Array(t);return e.getRandomValues(r),n.from(r)},i.getPseudoRandomBuffer=function(t){for(var e,r=n.alloc(t),i=0;i<=t;i++){0===i-4*Math.floor(i/4)?(e=4294967296*Math.random(),r[i]=255&e):r[i]=255&(e>>>=8)}return r},t.exports=i}).call(this,r(25),r(22).Buffer)},1213:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1180),s=r(1178),o=r(1188),u=r(1182),a=r(1181),c=(r(1179),r(1177)),f=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&c.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};f._from=function(t){var e={};if(s.isBuffer(t))e=f._fromBufferReader(o(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for BlockHeader");e=f._fromObject(t)}return e},f._fromObject=function(t){c.checkArgument(t,"data is required");var r=t.prevHash,i=t.merkleRoot;return n.isString(t.prevHash)&&(r=s.reverse(e.from(t.prevHash,"hex"))),n.isString(t.merkleRoot)&&(i=s.reverse(e.from(t.merkleRoot,"hex"))),{hash:t.hash,version:t.version,prevHash:r,merkleRoot:i,time:t.time,timestamp:t.time,bits:t.bits,nonce:t.nonce}},f.fromObject=function(t){var e=f._fromObject(t);return new f(e)},f.fromRawBlock=function(t){s.isBuffer(t)||(t=e.from(t,"binary"));var r=o(t);r.pos=f.Constants.START_OF_HEADER;var n=f._fromBufferReader(r);return new f(n)},f.fromBuffer=function(t){var e=f._fromBufferReader(o(t));return new f(e)},f.fromString=function(t){var r=e.from(t,"hex");return f.fromBuffer(r)},f._fromBufferReader=function(t){var e={};return e.version=t.readInt32LE(),e.prevHash=t.read(32),e.merkleRoot=t.read(32),e.time=t.readUInt32LE(),e.bits=t.readUInt32LE(),e.nonce=t.readUInt32LE(),e},f.fromBufferReader=function(t){var e=f._fromBufferReader(t);return new f(e)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:s.reverse(this.prevHash).toString("hex"),merkleRoot:s.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(t){return t||(t=new u),t.writeInt32LE(this.version),t.write(this.prevHash),t.write(this.merkleRoot),t.writeUInt32LE(this.time),t.writeUInt32LE(this.bits),t.writeUInt32LE(this.nonce),t},f.prototype.getTargetDifficulty=function(t){t=t||this.bits;for(var e=new i(16777215&t),r=8*((t>>>24)-3);r-- >0;)e=e.mul(new i(2));return e},f.prototype.getDifficulty=function(){var t=this.getTargetDifficulty(486604799).mul(new i(Math.pow(10,8))),e=this.getTargetDifficulty(),r=t.div(e).toString(10),n=r.length-8;return r=r.slice(0,n)+"."+r.slice(n),parseFloat(r)},f.prototype._getHash=function(){var t=this.toBuffer();return a.sha256sha256(t)};var h={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=o(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",h),Object.defineProperty(f.prototype,"hash",h),f.prototype.validTimestamp=function(){var t=Math.round((new Date).getTime()/1e3);return!(this.time>t+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var t=new i(this.id,"hex"),e=this.getTargetDifficulty();return!(t.cmp(e)>0)},f.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f}).call(this,r(22).Buffer)},1218:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(1178),o=r(1179);function u(t){if(!(this instanceof u))return new u(t);var e;if(n.isNumber(t))e=t;else{if(!n.isString(t))throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');e=u.map[t]}return o.defineImmutable(this,{num:e}),this}for(var a in u.fromBuffer=function(t){return i.checkArgument(s.isBuffer(t)),new u(Number("0x"+t.toString("hex")))},u.fromNumber=function(t){return i.checkArgument(n.isNumber(t)),new u(t)},u.fromString=function(t){i.checkArgument(n.isString(t));var e=u.map[t];if(void 0===e)throw new TypeError("Invalid opcodestr");return new u(e)},u.prototype.toHex=function(){return this.num.toString(16)},u.prototype.toBuffer=function(){return e.from(this.toHex(),"hex")},u.prototype.toNumber=function(){return this.num},u.prototype.toString=function(){var t=u.reverseMap[this.num];if(void 0===t)throw new Error("Opcode does not have a string representation");return t},u.smallInt=function(t){return i.checkArgument(n.isNumber(t),"Invalid Argument: n should be number"),i.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),0===t?u("OP_0"):new u(u.map.OP_1+t-1)},u.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},u.reverseMap=[],u.map)u.reverseMap[u.map[a]]=a;n.extend(u,u.map),u.isSmallIntOp=function(t){return t instanceof u&&(t=t.toNumber()),t===u.map.OP_0||t>=u.map.OP_1&&t<=u.map.OP_16},u.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=u}).call(this,r(22).Buffer)},1219:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(22),o=e.compare||r(1261),u=r(1185),a=r(1178),c=r(1179),f=r(1188),h=r(1182),p=r(1181),l=r(1183),d=r(1190),g=r(1211),v=r(1187),m=r(1232),y=r(1220),_=y.PublicKeyHash,b=y.PublicKey,S=y.MultiSigScriptHash,I=y.MultiSig,w=r(1189),E=r(1184),O=r(1201),k=r(1180);function P(t,e){if(!(this instanceof P))return new P(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof P)return P.shallowCopy(t);if(c.isHexa(t))this.fromString(t);else if(a.isBuffer(t))this.fromBuffer(t);else{if(!n.isObject(t))throw new u.InvalidArgument("Must provide an object or string to deserialize a transaction");this.fromObject(t,e)}}else this._newTransaction()}P.DUST_AMOUNT=546,P.FEE_SECURITY_MARGIN=150,P.MAX_MONEY=21e14,P.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,P.NLOCKTIME_MAX_VALUE=4294967295,P.FEE_PER_KB=1e5,P.CHANGE_OUTPUT_MAX_SIZE=62,P.MAXIMUM_EXTRA_SIZE=26,P.shallowCopy=function(t){return new P(t.toBuffer())};var A={configurable:!1,enumerable:!0,get:function(){return this._hash=new f(this._getHash()).readReverse().toString("hex"),this._hash}},T={configurable:!1,enumerable:!0,get:function(){return new f(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(P.prototype,"witnessHash",T),Object.defineProperty(P.prototype,"hash",A),Object.defineProperty(P.prototype,"id",A);var R={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(P.prototype,"inputAmount",R),R.get=function(){return this._getOutputAmount()},Object.defineProperty(P.prototype,"outputAmount",R),P.prototype._getHash=function(){return p.sha256sha256(this.toBuffer(!0))},P.prototype._getWitnessHash=function(){return p.sha256sha256(this.toBuffer(!1))},P.prototype.serialize=function(t){return!0===t||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)},P.prototype.uncheckedSerialize=P.prototype.toString=function(){return this.toBuffer().toString("hex")},P.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://bitcore.io/api/lib/transaction#serialization-checks",e;return this.uncheckedSerialize()},P.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t},P.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new u.Transaction.InvalidSatoshis;var e,r=this._getUnspentValue();return r<0?t.disableMoreOutputThanInput||(e=new u.Transaction.InvalidOutputAmountSum):e=this._hasFeeError(t,r),e||this._hasDustOutputs(t)||this._isMissingSignatures(t)},P.prototype._hasFeeError=function(t,e){if(!n.isUndefined(this._fee)&&this._fee!==e)return new u.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(P.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new u.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new u.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var i=Math.ceil(this._estimateFee()/P.FEE_SECURITY_MARGIN);if(e<i)return new u.Transaction.FeeError.TooSmall("expected more than "+i+" but got "+e)}},P.prototype._missingChange=function(){return!this._changeScript},P.prototype._hasDustOutputs=function(t){var e,r;if(!t.disableDustOutputs)for(e in this.outputs)if((r=this.outputs[e]).satoshis<P.DUST_AMOUNT&&!r.script.isDataOut())return new u.Transaction.DustOutputs},P.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned)return this.isFullySigned()?void 0:new u.Transaction.MissingSignatures},P.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},P.prototype.toBuffer=function(t){var e=new h;return this.toBufferWriter(e,t).toBuffer()},P.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1},P.prototype.toBufferWriter=function(t,r){t.writeInt32LE(this.version);var i=this.hasWitnesses();return i&&!r&&t.write(e.from("0001","hex")),t.writeVarintNum(this.inputs.length),n.each(this.inputs,(function(e){e.toBufferWriter(t)})),t.writeVarintNum(this.outputs.length),n.each(this.outputs,(function(e){e.toBufferWriter(t)})),i&&!r&&n.each(this.inputs,(function(e){var r=e.getWitnesses();t.writeVarintNum(r.length);for(var n=0;n<r.length;n++)t.writeVarintNum(r[n].length),t.write(r[n])})),t.writeUInt32LE(this.nLockTime),t},P.prototype.fromBuffer=function(t){var e=new f(t);return this.fromBufferReader(e)},P.prototype.fromBufferReader=function(t){i.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;0===e&&0!==t.buf[t.pos]&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var s=y.fromBufferReader(t);this.inputs.push(s)}for(var o=t.readVarintNum(),u=0;u<o;u++)this.outputs.push(w.fromBufferReader(t));if(r)for(var a=0;a<e;a++){for(var c=t.readVarintNum(),f=[],h=0;h<c;h++){var p=t.readVarintNum(),l=t.read(p);f.push(l)}this.inputs[a].setWitnesses(f)}return this.nLockTime=t.readUInt32LE(),this},P.prototype.toObject=P.prototype.toJSON=function(){var t=[];this.inputs.forEach((function(e){t.push(e.toObject())}));var e=[];this.outputs.forEach((function(t){e.push(t.toObject())}));var r={hash:this.hash,version:this.version,inputs:t,outputs:e,nLockTime:this.nLockTime};return this._changeScript&&(r.changeScript=this._changeScript.toString()),n.isUndefined(this._changeIndex)||(r.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(r.fee=this._fee),r},P.prototype.fromObject=function(t,e){i.checkArgument(n.isObject(t)||t instanceof P);var r,s=this;return r=t instanceof P?r.toObject():t,n.each(r.inputs,(function(t){if(t.output&&t.output.script){var r,n=new E(t.output.script);if((n.isScriptHashOut()||n.isWitnessScriptHashOut())&&t.publicKeys&&t.threshold)r=new y.MultiSigScriptHash(t,t.publicKeys,t.threshold,t.signatures,e);else if(n.isPublicKeyHashOut()||n.isWitnessPublicKeyHashOut()||n.isScriptHashOut())r=new y.PublicKeyHash(t);else{if(!n.isPublicKeyOut())throw new u.Transaction.Input.UnsupportedScript(t.output.script);r=new y.PublicKey(t)}s.addInput(r)}else s.uncheckedAddInput(new y(t))})),n.each(r.outputs,(function(t){s.addOutput(new w(t))})),r.changeIndex&&(this._changeIndex=r.changeIndex),r.changeScript&&(this._changeScript=new E(r.changeScript)),r.fee&&(this._fee=r.fee),this.nLockTime=r.nLockTime,this.version=r.version,this._checkConsistency(t),this},P.prototype._checkConsistency=function(t){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&i.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")},P.prototype.lockUntilDate=function(t){if(i.checkArgument(t),n.isNumber(t)&&t<P.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new u.Transaction.LockTimeTooEarly;n.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===y.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=y.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},P.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t>=P.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new u.Transaction.BlockHeightTooHigh;if(t<0)throw new u.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===y.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=y.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},P.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<P.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},P.prototype.fromString=function(t){this.fromBuffer(s.Buffer.from(t,"hex"))},P.prototype._newTransaction=function(){this.version=2,this.nLockTime=0},P.prototype.from=function(t,e,r,i){if(n.isArray(t)){var s=this;return n.each(t,(function(t){s.from(t,e,r,i)})),this}return n.some(this.inputs,(function(e){return e.prevTxId.toString("hex")===t.txId&&e.outputIndex===t.outputIndex}))||(e&&r?this._fromMultisigUtxo(t,e,r,i):this._fromNonP2SH(t)),this},P.prototype.associateInputs=function(t,e,r,n){let i=[];for(let s of t){const t=this.inputs.findIndex(t=>t.prevTxId.toString("hex")===s.txId&&t.outputIndex===s.outputIndex);i.push(t),t>=0&&(this.inputs[t]=this._getInputFrom(s,e,r,n))}return i},P.prototype._selectInputType=function(t,e,r){var n;return t=new m(t),e&&r?t.script.isMultisigOut()?n=I:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=S):n=t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?_:t.script.isPublicKeyOut()?b:y,n},P.prototype._getInputFrom=function(t,e,r,n){t=new m(t);return new(this._selectInputType(t,e,r))({output:new w({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:t.sequenceNumber,script:E.empty()},...e&&r?[e,r,!1,n]:[])},P.prototype._fromNonP2SH=function(t){const e=this._getInputFrom(t);this.addInput(e)},P.prototype._fromMultisigUtxo=function(t,e,r,n){i.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");const s=this._getInputFrom(t,e,r,n);this.addInput(s)},P.prototype.addInput=function(t,e,r){if(i.checkArgumentType(t,y,"input"),!t.output&&(n.isUndefined(e)||n.isUndefined(r)))throw new u.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return t.output||!e||n.isUndefined(r)||(e=e instanceof E?e:new E(e),i.checkArgumentType(r,"number","satoshis"),t.output=new w({script:e,satoshis:r})),this.uncheckedAddInput(t)},P.prototype.uncheckedAddInput=function(t){return i.checkArgumentType(t,y,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this},P.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map((function(t){return!!t.output})))},P.prototype.fee=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this},P.prototype.feePerKb=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this},P.prototype.feePerByte=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this},P.prototype.change=function(t){return i.checkArgument(t,"address is required"),this._changeScript=E.fromAddress(t),this._updateChangeOutput(),this},P.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},P.prototype.to=function(t,e){if(n.isArray(t)){var r=this;return n.each(t,(function(t){r.to(t.address,t.satoshis)})),this}return i.checkArgument(c.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new w({script:E(new v(t)),satoshis:e})),this},P.prototype.addData=function(t){return this.addOutput(new w({script:E.buildDataOut(t),satoshis:0})),this},P.prototype.addOutput=function(t){return i.checkArgumentType(t,w,"output"),this._addOutput(t),this._updateChangeOutput(),this},P.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},P.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0},P.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var t=this;this._outputAmount=0,n.each(this.outputs,(function(e){t._outputAmount+=e.satoshis}))}return this._outputAmount},P.prototype._getInputAmount=function(){return n.isUndefined(this._inputAmount)&&(this._inputAmount=n.sumBy(this.inputs,(function(t){if(n.isUndefined(t.output))throw new u.Transaction.Input.MissingPreviousOutput;return t.output.satoshis}))),this._inputAmount},P.prototype._updateChangeOutput=function(){if(this._changeScript){this._clearSignatures(),n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex);var t=this._getUnspentValue()-this.getFee();t>0?(this._changeIndex=this.outputs.length,this._addOutput(new w({script:this._changeScript,satoshis:t}))):this._changeIndex=void 0}},P.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this._getUnspentValue():this._fee},P.prototype._estimateFee=function(){var t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||P.FEE_PER_KB)/1e3;function n(t){return t*r}var i=Math.ceil(n(t)),s=Math.ceil(n(t)+n(P.CHANGE_OUTPUT_MAX_SIZE));return!this._changeScript||e<=s?i:s},P.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},P.prototype._clearSignatures=function(){n.each(this.inputs,(function(t){t.clearSignatures()}))},P.prototype._estimateSize=function(){var t=P.MAXIMUM_EXTRA_SIZE;return n.each(this.inputs,(function(e){t+=36,t+=e._estimateSize()})),n.each(this.outputs,(function(e){t+=e.script.toBuffer().length+9})),Math.ceil(t)},P.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=n.without(this.outputs,e),this._outputAmount=void 0},P.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()},P.prototype.sort=function(){return this.sortInputs((function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(t=>{t.i=r++}),e.sort((function(t,e){return o(t.prevTxId,e.prevTxId)||t.outputIndex-e.outputIndex||t.i-e.i})),e})),this.sortOutputs((function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(t=>{t.i=r++}),e.sort((function(t,e){return t.satoshis-e.satoshis||o(t.script.toBuffer(),e.script.toBuffer())||t.i-e.i})),e})),this},P.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},P.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)},P.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this},P.prototype._newOutputOrder=function(t){if(this.outputs.length!==t.length||0!==n.difference(this.outputs,t).length)throw new u.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var e=this.outputs[this._changeIndex];this._changeIndex=n.findIndex(t,e)}return this.outputs=t,this},P.prototype.removeInput=function(t,e){var r;if((r=!e&&n.isNumber(t)?t:n.findIndex(this.inputs,(function(r){return r.prevTxId.toString("hex")===t&&r.outputIndex===e})))<0||r>=this.inputs.length)throw new u.Transaction.InvalidIndex(r,this.inputs.length);var i=this.inputs[r];this.inputs=n.without(this.inputs,i),this._inputAmount=void 0,this._updateChangeOutput()},P.prototype.sign=function(t,e,r){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var s=this;return n.isArray(t)?(n.each(t,(function(t){s.sign(t,e,r)})),this):(n.each(this.getSignatures(t,e,r),(function(t){s.applySignature(t,r)})),this)},P.prototype.getSignatures=function(t,e,r){t=new O(t),e=e||l.SIGHASH_ALL;var i=this,s=[],o=p.sha256ripemd160(t.publicKey.toBuffer());return n.each(this.inputs,(function(u,a){n.each(u.getSignatures(i,t,a,e,o,r),(function(t){s.push(t)}))})),s},P.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this},P.prototype.isFullySigned=function(){return n.each(this.inputs,(function(t){if(t.isFullySigned===y.prototype.isFullySigned)throw new u.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")})),n.every(n.map(this.inputs,(function(t){return t.isFullySigned()})))},P.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===y.prototype.isValidSignature)throw new u.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)},P.prototype.verifySignature=function(t,e,r,s,o,u,a){if(n.isUndefined(o)&&(o=0),1===o){var f,p=s.toBuffer(),l=new h;return l.writeVarintNum(p.length),l.write(p),u?(i.checkState(c.isNaturalNumber(u)),f=(new h).writeUInt64LEBN(new k(u)).toBuffer()):f=this.inputs[r].getSatoshisBuffer(),g.verify(this,t,e,r,l.toBuffer(),f,a)}return d.verify(this,t,e,r,s,a)},P.prototype.verify=function(){if(0===this.inputs.length)return"transaction txins empty";if(0===this.outputs.length)return"transaction txouts empty";for(var t=new k(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new k(P.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if((t=t.add(r._satoshisBN)).gt(new k(P.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>1e6)return"transaction over the maximum block size";var i={};for(e=0;e<this.inputs.length;e++){var s=this.inputs[e],o=s.prevTxId+":"+s.outputIndex;if(!n.isUndefined(i[o]))return"transaction input "+e+" duplicate input";i[o]=!0}if(this.isCoinbase()){var u=this.inputs[0]._scriptBuffer;if(u.length<2||u.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0},P.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},P.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){if(this.inputs[t].sequenceNumber<y.MAXINT-1)return!0}return!1},P.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=y.MAXINT-1&&(e.sequenceNumber=y.DEFAULT_RBF_SEQNUMBER)}return this},P.prototype.setVersion=function(t){return i.checkArgument(c.isNaturalNumber(t)&&t<=2,"Wrong version number"),this.version=t,this},t.exports=P}).call(this,r(22).Buffer)},1220:function(t,e,r){t.exports=r(1203),t.exports.PublicKey=r(1262),t.exports.PublicKeyHash=r(1263),t.exports.MultiSig=r(1264),t.exports.MultiSigScriptHash=r(1265)},1221:function(t,e,r){"use strict";var n=r(1176),i=r(1185),s=r(1177),o={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function u(t,e){if(!(this instanceof u))return new u(t,e);if(n.isNumber(e)){if(e<=0)throw new i.Unit.InvalidRate(e);t/=e,e=u.BTC}this._value=this._from(t,e);var r=this;Object.keys(o).forEach((function(t){Object.defineProperty(r,t,{get:function(){return r.to(t)},enumerable:!0})}))}Object.keys(o).forEach((function(t){u[t]=t})),u.fromObject=function(t){return s.checkArgument(n.isObject(t),"Argument is expected to be an object"),new u(t.amount,t.code)},u.fromBTC=function(t){return new u(t,u.BTC)},u.fromMillis=u.fromMilis=function(t){return new u(t,u.mBTC)},u.fromMicros=u.fromBits=function(t){return new u(t,u.bits)},u.fromSatoshis=function(t){return new u(t,u.satoshis)},u.fromFiat=function(t,e){return new u(t,e)},u.prototype._from=function(t,e){if(!o[e])throw new i.Unit.UnknownCode(e);return parseInt((t*o[e][0]).toFixed())},u.prototype.to=function(t){if(n.isNumber(t)){if(t<=0)throw new i.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!o[t])throw new i.Unit.UnknownCode(t);var e=this._value/o[t][0];return parseFloat(e.toFixed(o[t][1]))},u.prototype.toBTC=function(){return this.to(u.BTC)},u.prototype.toMillis=u.prototype.toMilis=function(){return this.to(u.mBTC)},u.prototype.toMicros=u.prototype.toBits=function(){return this.to(u.bits)},u.prototype.toSatoshis=function(){return this.to(u.satoshis)},u.prototype.atRate=function(t){return this.to(t)},u.prototype.toString=function(){return this.satoshis+" satoshis"},u.prototype.toObject=u.prototype.toJSON=function(){return{amount:this.BTC,code:u.BTC}},u.prototype.inspect=function(){return"<Unit: "+this.toString()+">"},t.exports=u},1222:function(t,e,r){"use strict";var n=r(1236),i=r(1241);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=_(t));return t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),p=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(1242);function _(t,e,r){if(t&&i.isObject(t)&&t instanceof s)return t;var n=new s;return n.parse(t,e,r),n}s.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),u=-1!==s&&s<t.indexOf("#")?"?":"#",c=t.split(u);c[0]=c[0].replace(/\\/g,"/");var _=t=c.join(u);if(_=_.trim(),!r&&1===t.split("#").length){var b=a.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var S=o.exec(_);if(S){var I=(S=S[0]).toLowerCase();this.protocol=I,_=_.substr(S.length)}if(r||S||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||S&&v[S]||(_=_.substr(2),this.slashes=!0)}if(!v[S]&&(w||S&&!m[S])){for(var E,O,k=-1,P=0;P<p.length;P++){-1!==(A=_.indexOf(p[P]))&&(-1===k||A<k)&&(k=A)}-1!==(O=-1===k?_.lastIndexOf("@"):_.lastIndexOf("@",k))&&(E=_.slice(0,O),_=_.slice(O+1),this.auth=decodeURIComponent(E)),k=-1;for(P=0;P<h.length;P++){var A;-1!==(A=_.indexOf(h[P]))&&(-1===k||A<k)&&(k=A)}-1===k&&(k=_.length),this.host=_.slice(0,k),_=_.slice(k),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var R=this.hostname.split(/\./),x=(P=0,R.length);P<x;P++){var B=R[P];if(B&&!B.match(l)){for(var N="",C=0,U=B.length;C<U;C++)B.charCodeAt(C)>127?N+="x":N+=B[C];if(!N.match(l)){var H=R.slice(0,P),L=R.slice(P+1),F=B.match(d);F&&(H.push(F[1]),L.unshift(F[2])),L.length&&(_="/"+L.join(".")+_),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var K=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+K,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[I])for(P=0,x=f.length;P<x;P++){var M=f[P];if(-1!==_.indexOf(M)){var j=encodeURIComponent(M);j===M&&(j=escape(M)),_=_.split(M).join(j)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){K=this.pathname||"";var W=this.search||"";this.path=K+W}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var u=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),u&&"?"!==u.charAt(0)&&(u="?"+u),e+s+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(u=u.replace("#","%23"))+n},s.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(i.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var r=new s,n=Object.keys(this),o=0;o<n.length;o++){var u=n[o];r[u]=this[u]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var f=a[c];"protocol"!==f&&(r[f]=t[f])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),p=0;p<h.length;p++){var l=h[p];r[l]=t[l]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),S=b||_||r.host&&t.pathname,I=S,w=r.pathname&&r.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),S=S&&(""===d[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],k=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,A=w.length;A>=0;A--)"."===(O=w[A])?w.splice(A,1):".."===O?(w.splice(A,1),P++):P&&(w.splice(A,1),P--);if(!S&&!I)for(;P--;P)w.unshift("..");!S||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),k&&"/"!==w.join("/").substr(-1)&&w.push("");var T,R=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=R?"":w.length?w.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(S=S||r.host&&w.length)&&!R&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},1229:function(t,e,r){var n=r(1230);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1230:function(t,e,r){"use strict";var n=r(8).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var u=t.length,a=t.charAt(0),c=Math.log(u)/Math.log(256),f=Math.log(256)/Math.log(u);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);var r=0;if(" "!==t[r]){for(var i=0,s=0;t[r]===a;)i++,r++;for(var o=(t.length-r)*c+1>>>0,f=new Uint8Array(o);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var p=0,l=o-1;(0!==h||p<s)&&-1!==l;l--,p++)h+=u*f[l]>>>0,f[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=p,r++}if(" "!==t[r]){for(var d=o-s;d!==o&&0===f[d];)d++;var g=n.allocUnsafe(i+(o-d));g.fill(0,0,i);for(var v=i;d!==o;)g[v++]=f[d++];return g}}}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var c=(o-s)*f+1>>>0,h=new Uint8Array(c);s!==o;){for(var p=e[s],l=0,d=c-1;(0!==p||l<i)&&-1!==d;d--,l++)p+=256*h[d]>>>0,h[d]=p%u>>>0,p=p/u>>>0;if(0!==p)throw new Error("Non-zero carry");i=l,s++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var v=a.repeat(r);g<c;++g)v+=t.charAt(h[g]);return v},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+u+" character")}}}},1231:function(t,e,r){"use strict";(function(e){var n=r(1187),i=r(1188),s=r(1182),o=r(1181),u=r(1218),a=r(1186),c=r(1183),f=r(1191),h=r(1177),p=r(1176),l=r(1185),d=(r(22),r(1178)),g=r(1179),v=function t(e){return this instanceof t?(this.chunks=[],d.isBuffer(e)?t.fromBuffer(e):e instanceof n?t.fromAddress(e):e instanceof t?t.fromBuffer(e.toBuffer()):p.isString(e)?t.fromString(e):void(p.isObject(e)&&p.isArray(e.chunks)&&this.set(e))):new t(e)};v.prototype.set=function(t){return h.checkArgument(p.isObject(t)),h.checkArgument(p.isArray(t.chunks)),this.chunks=t.chunks,this},v.fromBuffer=function(t){var e=new v;e.chunks=[];for(var r=new i(t);!r.finished();)try{var n,s,o=r.readUInt8();o>0&&o<u.OP_PUSHDATA1?(n=o,e.chunks.push({buf:r.read(n),len:n,opcodenum:o})):o===u.OP_PUSHDATA1?(n=r.readUInt8(),s=r.read(n),e.chunks.push({buf:s,len:n,opcodenum:o})):o===u.OP_PUSHDATA2?(n=r.readUInt16LE(),s=r.read(n),e.chunks.push({buf:s,len:n,opcodenum:o})):o===u.OP_PUSHDATA4?(n=r.readUInt32LE(),s=r.read(n),e.chunks.push({buf:s,len:n,opcodenum:o})):e.chunks.push({opcodenum:o})}catch(e){if(e instanceof RangeError)throw new l.Script.InvalidBuffer(t.toString("hex"));throw e}return e},v.prototype.toBuffer=function(){for(var t=new s,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<u.OP_PUSHDATA1?t.write(r.buf):n===u.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===u.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):n===u.OP_PUSHDATA4&&(t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()},v.fromASM=function(t){var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var s=n[i],o=u(s).toNumber();if(p.isUndefined(o)){var a=e.from(n[i],"hex");r.chunks.push({buf:a,len:a.length,opcodenum:a.length}),i+=1}else o===u.OP_PUSHDATA1||o===u.OP_PUSHDATA2||o===u.OP_PUSHDATA4?(r.chunks.push({buf:e.from(n[i+2],"hex"),len:parseInt(n[i+1]),opcodenum:o}),i+=3):(r.chunks.push({opcodenum:o}),i+=1)}return r},v.fromHex=function(t){return new v(e.from(t,"hex"))},v.fromString=function(t){if(g.isHexa(t)||0===t.length)return new v(e.from(t,"hex"));var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var s=n[i],o=u(s).toNumber();if(p.isUndefined(o)){if(!((o=parseInt(s))>0&&o<u.OP_PUSHDATA1))throw new Error("Invalid script: "+JSON.stringify(t));r.chunks.push({buf:e.from(n[i+1].slice(2),"hex"),len:o,opcodenum:o}),i+=2}else if(o===u.OP_PUSHDATA1||o===u.OP_PUSHDATA2||o===u.OP_PUSHDATA4){if("0x"!==n[i+2].slice(0,2))throw new Error("Pushdata data must start with 0x");r.chunks.push({buf:e.from(n[i+2].slice(2),"hex"),len:parseInt(n[i+1]),opcodenum:o}),i+=3}else r.chunks.push({opcodenum:o}),i+=1}return r},v.prototype._chunkToString=function(t,e){var r=t.opcodenum,n="asm"===e,i="";if(t.buf)(!n&&r===u.OP_PUSHDATA1||r===u.OP_PUSHDATA2||r===u.OP_PUSHDATA4)&&(i=i+" "+u(r).toString()),t.len>0&&(i=n?i+" "+t.buf.toString("hex"):i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(void 0!==u.reverseMap[r])n?0===r?i+=" 0":79===r?i+=" -1":i=i+" "+u(r).toString():i=i+" "+u(r).toString();else{var s=r.toString(16);s.length%2!=0&&(s="0"+s),i=n?i+" "+s:i+" 0x"+s}return i},v.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)},v.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)},v.prototype.toHex=function(){return this.toBuffer().toString("hex")},v.prototype.inspect=function(){return"<Script: "+this.toString()+">"},v.prototype.isPublicKeyHashOut=function(){return!(5!==this.chunks.length||this.chunks[0].opcodenum!==u.OP_DUP||this.chunks[1].opcodenum!==u.OP_HASH160||!this.chunks[2].buf||20!==this.chunks[2].buf.length||this.chunks[3].opcodenum!==u.OP_EQUALVERIFY||this.chunks[4].opcodenum!==u.OP_CHECKSIG)},v.prototype.isPublicKeyHashIn=function(){if(2===this.chunks.length){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&48===t[0]&&e&&e.length){var r=e[0];if((4===r||6===r||7===r)&&65===e.length)return!0;if((3===r||2===r)&&33===e.length)return!0}}return!1},v.prototype.getPublicKey=function(){return h.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},v.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")},v.prototype.isPublicKeyOut=function(){if(2===this.chunks.length&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===u.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if((4!==e&&6!==e&&7!==e||65!==t.length)&&(3!==e&&2!==e||33!==t.length)||(r=!0),r)return a.isValid(t)}return!1},v.prototype.isPublicKeyIn=function(){if(1===this.chunks.length){var t=this.chunks[0].buf;if(t&&t.length&&48===t[0])return!0}return!1},v.prototype.isScriptHashOut=function(){var t=this.toBuffer();return 23===t.length&&t[0]===u.OP_HASH160&&20===t[1]&&t[t.length-1]===u.OP_EQUAL},v.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return 34===t.length&&0===t[0]&&32===t[1]},v.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return 22===t.length&&0===t[0]&&20===t[1]},v.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return!(e.length<4||e.length>42)&&((e[0]===u.OP_0||e[0]>=u.OP_1&&e[0]<=u.OP_16)&&(e.length===e[1]+2&&(t.version=e[0],t.program=e.slice(2,e.length),!0)))},v.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t,e=this.chunks[this.chunks.length-1].buf;if(!e)return!1;try{t=v.fromBuffer(e)}catch(t){if(t instanceof l.Script.InvalidBuffer)return!1;throw t}return t.classify()!==v.types.UNKNOWN},v.prototype.isMultisigOut=function(){return this.chunks.length>3&&u.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every((function(t){return t.buf&&d.isBuffer(t.buf)}))&&u.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===u.OP_CHECKMULTISIG},v.prototype.isMultisigIn=function(){return this.chunks.length>=2&&0===this.chunks[0].opcodenum&&this.chunks.slice(1,this.chunks.length).every((function(t){return t.buf&&d.isBuffer(t.buf)&&c.isTxDER(t.buf)}))},v.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===u.OP_RETURN&&(1===this.chunks.length||2===this.chunks.length&&this.chunks[1].buf&&this.chunks[1].buf.length<=v.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)},v.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut())return p.isUndefined(this.chunks[1])?e.alloc(0):e.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return e.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},v.prototype.isPushOnly=function(){return p.every(this.chunks,(function(t){return t.opcodenum<=u.OP_16}))},(v.types={}).UNKNOWN="Unknown",v.types.PUBKEY_OUT="Pay to public key",v.types.PUBKEY_IN="Spend from public key",v.types.PUBKEYHASH_OUT="Pay to public key hash",v.types.PUBKEYHASH_IN="Spend from public key hash",v.types.SCRIPTHASH_OUT="Pay to script hash",v.types.SCRIPTHASH_IN="Spend from script hash",v.types.MULTISIG_OUT="Pay to multisig",v.types.MULTISIG_IN="Spend from multisig",v.types.DATA_OUT="Data push",v.OP_RETURN_STANDARD_SIZE=80,v.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=v.types.UNKNOWN?t:this.classifyInput()},(v.outputIdentifiers={}).PUBKEY_OUT=v.prototype.isPublicKeyOut,v.outputIdentifiers.PUBKEYHASH_OUT=v.prototype.isPublicKeyHashOut,v.outputIdentifiers.MULTISIG_OUT=v.prototype.isMultisigOut,v.outputIdentifiers.SCRIPTHASH_OUT=v.prototype.isScriptHashOut,v.outputIdentifiers.DATA_OUT=v.prototype.isDataOut,v.prototype.classifyOutput=function(){for(var t in v.outputIdentifiers)if(v.outputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},(v.inputIdentifiers={}).PUBKEY_IN=v.prototype.isPublicKeyIn,v.inputIdentifiers.PUBKEYHASH_IN=v.prototype.isPublicKeyHashIn,v.inputIdentifiers.MULTISIG_IN=v.prototype.isMultisigIn,v.inputIdentifiers.SCRIPTHASH_IN=v.prototype.isScriptHashIn,v.prototype.classifyInput=function(){for(var t in v.inputIdentifiers)if(v.inputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},v.prototype.isStandard=function(){return this.classify()!==v.types.UNKNOWN},v.prototype.prepend=function(t){return this._addByType(t,!0),this},v.prototype.equals=function(t){if(h.checkState(t instanceof v,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(d.isBuffer(this.chunks[e].buf)&&!d.isBuffer(t.chunks[e].buf))return!1;if(d.isBuffer(this.chunks[e].buf)&&!d.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0},v.prototype.add=function(t){return this._addByType(t,!1),this},v.prototype._addByType=function(t,e){if("string"==typeof t)this._addOpcode(t,e);else if("number"==typeof t)this._addOpcode(t,e);else if(t instanceof u)this._addOpcode(t,e);else if(d.isBuffer(t))this._addBuffer(t,e);else if(t instanceof v)this.chunks=this.chunks.concat(t.chunks);else{if("object"!=typeof t)throw new Error("Invalid script chunk");this._insertAtPosition(t,e)}},v.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)},v.prototype._addOpcode=function(t,e){var r;return r="number"==typeof t?t:t instanceof u?t.toNumber():u(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this},v.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<u.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=u.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=u.OP_PUSHDATA2;else{if(!(n<Math.pow(2,32)))throw new Error("You can't push that much data");r=u.OP_PUSHDATA4}return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this},v.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===u.OP_CODESEPARATOR)return!0;return!1},v.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==u.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this},v.buildMultisigOut=function(t,e,r){h.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new v;n.add(u.smallInt(e));var i=t=p.map(t,a);r.noSorting||(i=p.sortBy(t,(function(t){return t.toString("hex")})));for(var s=0;s<i.length;s++){var o=i[s];n.add(o.toBuffer())}return n.add(u.smallInt(t.length)),n.add(u.OP_CHECKMULTISIG),n},v.buildWitnessMultisigOutFromScript=function(t){if(t instanceof v){var e=new v;return e.add(u.OP_0),e.add(o.sha256(t.toBuffer())),e}throw new TypeError("First argument is expected to be a p2sh script")},v.buildMultisigIn=function(t,e,r,n){h.checkArgument(p.isArray(t)),h.checkArgument(p.isNumber(e)),h.checkArgument(p.isArray(r)),n=n||{};var i=new v;return i.add(u.OP_0),p.each(r,(function(t){h.checkArgument(d.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)})),i},v.buildP2SHMultisigIn=function(t,e,r,n){h.checkArgument(p.isArray(t)),h.checkArgument(p.isNumber(e)),h.checkArgument(p.isArray(r)),n=n||{};var i=new v;return i.add(u.OP_0),p.each(r,(function(t){h.checkArgument(d.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)})),i.add((n.cachedMultisig||v.buildMultisigOut(t,e,n)).toBuffer()),i},v.buildPublicKeyHashOut=function(t){h.checkArgument(!p.isUndefined(t)),h.checkArgument(t instanceof a||t instanceof n||p.isString(t)),t instanceof a?t=t.toAddress():p.isString(t)&&(t=new n(t));var e=new v;return e.add(u.OP_DUP).add(u.OP_HASH160).add(t.hashBuffer).add(u.OP_EQUALVERIFY).add(u.OP_CHECKSIG),e._network=t.network,e},v.buildWitnessV0Out=function(t){h.checkArgument(!p.isUndefined(t)),h.checkArgument(t instanceof a||t instanceof n||p.isString(t)),t instanceof a?t=t.toAddress(null,n.PayToWitnessPublicKeyHash):p.isString(t)&&(t=new n(t));var e=new v;return e.add(u.OP_0).add(t.hashBuffer),e._network=t.network,e},v.buildPublicKeyOut=function(t){h.checkArgument(t instanceof a);var e=new v;return e.add(t.toBuffer()).add(u.OP_CHECKSIG),e},v.buildDataOut=function(t,r){h.checkArgument(p.isUndefined(t)||p.isString(t)||d.isBuffer(t)),p.isString(t)&&(t=e.from(t,r));var n=new v;return n.add(u.OP_RETURN),p.isUndefined(t)||n.add(t),n},v.buildScriptHashOut=function(t){h.checkArgument(t instanceof v||t instanceof n&&t.isPayToScriptHash());var e=new v;return e.add(u.OP_HASH160).add(t instanceof n?t.hashBuffer:o.sha256ripemd160(t.toBuffer())).add(u.OP_EQUAL),e._network=t._network||t.network,e},v.buildPublicKeyIn=function(t,e){h.checkArgument(t instanceof c||d.isBuffer(t)),h.checkArgument(p.isUndefined(e)||p.isNumber(e)),t instanceof c&&(t=t.toBuffer());var r=new v;return r.add(d.concat([t,d.integerAsSingleByteBuffer(e||c.SIGHASH_ALL)])),r},v.buildPublicKeyHashIn=function(t,e,r){return h.checkArgument(e instanceof c||d.isBuffer(e)),h.checkArgument(p.isUndefined(r)||p.isNumber(r)),e instanceof c&&(e=e.toBuffer()),(new v).add(d.concat([e,d.integerAsSingleByteBuffer(r||c.SIGHASH_ALL)])).add(new a(t).toBuffer())},v.empty=function(){return new v},v.prototype.toScriptHashOut=function(){return v.buildScriptHashOut(this)},v.fromAddress=function(t){if((t=n(t)).isPayToScriptHash())return v.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return v.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return v.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return v.buildWitnessV0Out(t);throw new l.Script.UnrecognizedAddress(t)},v.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()},v.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=n.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToWitnessScriptHash;else{if(!this.isWitnessPublicKeyHashOut())return!1;t.hashBuffer=this.getData(),t.type=n.PayToWitnessPublicKeyHash}return t},v.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=o.sha256ripemd160(this.chunks[1].buf),t.type=n.PayToPublicKeyHash;else{if(!this.isScriptHashIn())return!1;t.hashBuffer=o.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=n.PayToScriptHash}return t},v.prototype.toAddress=function(t){var e=this.getAddressInfo();return!!e&&(e.network=f.get(t)||this._network||f.defaultNetwork,new n(e))},v.prototype.findAndDelete=function(t){for(var e=t.toBuffer().toString("hex"),r=0;r<this.chunks.length;r++){e===v({chunks:[this.chunks[r]]}).toBuffer().toString("hex")&&this.chunks.splice(r,1)}return this},v.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return!r||(0===r.length?n===u.OP_0:1===r.length&&r[0]>=1&&r[0]<=16?n===u.OP_1+(r[0]-1):1===r.length&&129===r[0]?n===u.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===u.OP_PUSHDATA1:!(r.length<=65535)||n===u.OP_PUSHDATA2)},v.prototype._decodeOP_N=function(t){if(t===u.OP_0)return 0;if(t>=u.OP_1&&t<=u.OP_16)return t-(u.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(t))},v.prototype.getSignatureOperationsCount=function(t){t=!!p.isUndefined(t)||t;var e=this,r=0,n=u.OP_INVALIDOPCODE;return p.each(e.chunks,(function(i){var s=i.opcodenum;s==u.OP_CHECKSIG||s==u.OP_CHECKSIGVERIFY?r++:s!=u.OP_CHECKMULTISIG&&s!=u.OP_CHECKMULTISIGVERIFY||(t&&n>=u.OP_1&&n<=u.OP_16?r+=e._decodeOP_N(n):r+=20),n=s})),r},t.exports=v}).call(this,r(22).Buffer)},1232:function(t,e,r){"use strict";var n=r(1176),i=r(1177),s=r(1179),o=r(1184),u=r(1187),a=r(1221);function c(t){if(!(this instanceof c))return new c(t);i.checkArgument(n.isObject(t),"Must provide an object from where to extract data");var e=t.address?new u(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!s.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var f=n.isUndefined(t.vout)?t.outputIndex:t.vout;if(!n.isNumber(f))throw new Error("Invalid outputIndex, received "+f);i.checkArgument(!n.isUndefined(t.scriptPubKey)||!n.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var h=new o(t.scriptPubKey||t.script);i.checkArgument(!n.isUndefined(t.amount)||!n.isUndefined(t.satoshis),"Must provide an amount for the output");var p=n.isUndefined(t.amount)?t.satoshis:new a.fromBTC(t.amount).toSatoshis();i.checkArgument(n.isNumber(p),"Amount must be a number"),s.defineImmutable(this,{address:e,txId:r,outputIndex:f,script:h,satoshis:p})}c.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},c.prototype.toString=function(){return this.txId+":"+this.outputIndex},c.fromObject=function(t){return new c(t)},c.prototype.toObject=c.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:a.fromSatoshis(this.satoshis).toBTC()}},t.exports=c},1233:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1213),s=r(1178),o=r(1188),u=r(1182),a=r(1181),c=(r(1179),r(1210)),f=r(1185),h=r(1177);function p(t){if(!(this instanceof p))return new p(t);var e={};if(s.isBuffer(t))e=p._fromBufferReader(o(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for MerkleBlock");e={header:t.header instanceof i?t.header:i.fromObject(t.header),numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}return n.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}p.fromBuffer=function(t){return p.fromBufferReader(o(t))},p.fromBufferReader=function(t){return new p(p._fromBufferReader(t))},p.prototype.toBuffer=function(){return this.toBufferWriter().concat()},p.prototype.toBufferWriter=function(t){t||(t=new u),t.write(this.header.toBuffer()),t.writeUInt32LE(this.numTransactions),t.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)t.write(e.from(this.hashes[r],"hex"));for(t.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)t.writeUInt8(this.flags[r]);return t},p.prototype.toObject=p.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},p.prototype.validMerkleTree=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)return!1;if(8*this.flags.length<this.hashes.length)return!1;var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e);return e.hashesUsed===this.hashes.length&&s.equals(r,this.header.merkleRoot)},p.prototype.filterdTxsHash=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new f.MerkleBlock.InvalidMerkleTree;if(8*this.flags.length<this.hashes.length)throw new f.MerkleBlock.InvalidMerkleTree;if(1===this.hashes.length)return[];var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e,!0);if(e.hashesUsed!==this.hashes.length)throw new f.MerkleBlock.InvalidMerkleTree;return r},p.prototype._traverseMerkleTree=function(t,r,n,i){(n=n||{}).txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;i=i||!1;if(n.flagBitsUsed>8*this.flags.length)return null;var s=this.flags[n.flagBitsUsed>>3]>>>(7&n.flagBitsUsed++)&1;if(0!==t&&s){var o=this._traverseMerkleTree(t-1,2*r,n),u=o;return 2*r+1<this._calcTreeWidth(t-1)&&(u=this._traverseMerkleTree(t-1,2*r+1,n)),i?n.txs:a.sha256sha256(new e.concat([o,u]))}if(n.hashesUsed>=this.hashes.length)return null;var c=this.hashes[n.hashesUsed++];return 0===t&&s&&n.txs.push(c),e.from(c,"hex")},p.prototype._calcTreeWidth=function(t){return this.numTransactions+(1<<t)-1>>t},p.prototype._calcTreeHeight=function(){for(var t=0;this._calcTreeWidth(t)>1;)t++;return t},p.prototype.hasTransaction=function(t){h.checkArgument(!n.isUndefined(t),"tx cannot be undefined"),h.checkArgument(t instanceof c||"string"==typeof t,'Invalid tx given, tx must be a "string" or "Transaction"');var r=t;t instanceof c&&(r=s.reverse(e.from(t.id,"hex")).toString("hex"));var i=[],o=this._calcTreeHeight();return this._traverseMerkleTree(o,0,{txs:i}),-1!==i.indexOf(r)},p._fromBufferReader=function(t){h.checkState(!t.finished(),"No merkleblock data received");var e={};e.header=i.fromBufferReader(t),e.numTransactions=t.readUInt32LE();var r=t.readVarintNum();e.hashes=[];for(var n=0;n<r;n++)e.hashes.push(t.read(32).toString("hex"));var s=t.readVarintNum();for(e.flags=[],n=0;n<s;n++)e.flags.push(t.readUInt8());return e},p.fromObject=function(t){return new p(t)},t.exports=p}).call(this,r(22).Buffer)},1234:function(t,e,r){"use strict";(function(e){var n=r(300),i=r(22),s=r(1176),o=r(1177),u=r(1180),a=r(1209),c=r(1202),f=r(1181),h=r(1191),p=r(1199),l=r(1201),d=r(1212),g=r(1185),v=g.HDPrivateKey,m=r(1178),y=r(1179);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(!t)return this._generateRandomly();if(h.get(t))return this._generateRandomly(t);if(s.isString(t)||m.isBuffer(t))if(_.isValidSerialized(t))this._buildFromSerialized(t);else if(y.isValidJSON(t))this._buildFromJSON(t);else{if(!m.isBuffer(t)||!_.isValidSerialized(t.toString()))throw _.getSerializedError(t);this._buildFromSerialized(t.toString())}else{if(!s.isObject(t))throw new v.UnrecognizedArgument(t);this._buildFromObject(t)}}_.isValidPath=function(t,e){if(s.isString(t)){var r=_._getDerivationIndexes(t);return null!==r&&s.every(r,_.isValidPath)}return!!s.isNumber(t)&&(t<_.Hardened&&!0===e&&(t+=_.Hardened),t>=0&&t<_.MaxIndex)},_._getDerivationIndexes=function(t){var e=t.split("/");if(s.includes(_.RootElementAlias,t))return[];if(!s.includes(_.RootElementAlias,e[0]))return null;var r=e.slice(1).map((function(t){var e="'"===t.slice(-1);if(e&&(t=t.slice(0,-1)),!t||"-"===t[0])return NaN;var r=+t;return e&&(r+=_.Hardened),r}));return s.some(r,isNaN)?null:r},_.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)},_.prototype.deriveChild=function(t,e){if(s.isNumber(t))return this._deriveWithNumber(t,e);if(s.isString(t))return this._deriveFromString(t);throw new v.InvalidDerivationArgument(t)},_.prototype.deriveNonCompliantChild=function(t,e){if(s.isNumber(t))return this._deriveWithNumber(t,e,!0);if(s.isString(t))return this._deriveFromString(t,!0);throw new v.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,r,i){if(!_.isValidPath(t,r))throw new v.InvalidPath(t);r=t>=_.Hardened||r,t<_.Hardened&&!0===r&&(t+=_.Hardened);var s,o=m.integerAsBuffer(t);if(r&&i){var a=this.privateKey.bn.toBuffer();s=m.concat([e.from([0]),a,o])}else if(r){var c=this.privateKey.bn.toBuffer({size:32});n(32===c.length,"length of private key buffer is expected to be 32 bytes"),s=m.concat([e.from([0]),c,o])}else s=m.concat([this.publicKey.toBuffer(),o]);var h=f.sha512hmac(s,this._buffers.chainCode),d=u.fromBuffer(h.slice(0,32),{size:32}),g=h.slice(32,64),y=d.add(this.privateKey.toBigNumber()).umod(p.getN()).toBuffer({size:32});return l.isValid(y)?new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:g,privateKey:y}):this._deriveWithNumber(t+1,null,i)},_.prototype._deriveFromString=function(t,e){if(!_.isValidPath(t))throw new v.InvalidPath(t);return _._getDerivationIndexes(t).reduce((function(t,r){return t._deriveWithNumber(r,null,e)}),this)},_.isValidSerialized=function(t,e){return!_.getSerializedError(t,e)},_.getSerializedError=function(t,e){if(!s.isString(t)&&!m.isBuffer(t))return new v.UnrecognizedArgument("Expected string or buffer");if(!a.validCharacters(t))return new g.InvalidB58Char("(unknown)",t);try{t=c.decode(t)}catch(e){return new g.InvalidB58Checksum(t)}if(t.length!==_.DataLength)return new v.InvalidLength(t);if(!s.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}return null},_._validateNetwork=function(t,e){var r=h.get(e);if(!r)return new g.InvalidNetworkArgument(e);var n=t.slice(0,4);return m.integerFromBuffer(n)!==r.xprivkey?new g.InvalidNetwork(n):null},_.fromString=function(t){return o.checkArgument(s.isString(t),"No valid string was provided"),new _(t)},_.fromObject=function(t){return o.checkArgument(s.isObject(t),"No valid argument was provided"),new _(t)},_.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))},_.prototype._buildFromObject=function(t){var r={version:t.network?m.integerAsBuffer(h.get(t.network).xprivkey):t.version,depth:s.isNumber(t.depth)?m.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:s.isNumber(t.parentFingerPrint)?m.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:s.isNumber(t.childIndex)?m.integerAsBuffer(t.childIndex):t.childIndex,chainCode:s.isString(t.chainCode)?e.from(t.chainCode,"hex"):t.chainCode,privateKey:s.isString(t.privateKey)&&y.isHexa(t.privateKey)?e.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:m.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(r)},_.prototype._buildFromSerialized=function(t){var e=c.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),privateKey:e.slice(_.PrivateKeyStart,_.PrivateKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)},_.prototype._generateRandomly=function(t){return _.fromSeed(d.getRandomBuffer(64),t)},_.fromSeed=function(t,r){if(y.isHexaString(t)&&(t=e.from(t,"hex")),!e.isBuffer(t))throw new v.InvalidEntropyArgument(t);if(t.length<16)throw new v.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>64)throw new v.InvalidEntropyArgument.TooMuchEntropy(t);var n=f.sha512hmac(t,e.from("Bitcoin seed"));return new _({network:h.get(r)||h.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:n.slice(0,32),chainCode:n.slice(32,64)})},_.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=r(1235);this._hdPublicKey=new t(this)}},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),y.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,m.emptyBuffer(1),t.privateKey],n=i.Buffer.concat(r);if(t.checksum&&t.checksum.length){if(t.checksum.toString()!==c.checksum(n).toString())throw new g.InvalidB58Checksum(n)}else t.checksum=c.checksum(n);var s,o=h.get(m.integerFromBuffer(t.version));s=c.encode(i.Buffer.concat(r)),t.xprivkey=e.from(s);var a=new l(u.fromBuffer(t.privateKey),o),p=a.toPublicKey(),d=_.ParentFingerPrintSize,v=f.sha256ripemd160(p.toBuffer()).slice(0,d);return y.defineImmutable(this,{xprivkey:s,network:o,depth:m.integerFromSingleByteBuffer(t.depth),privateKey:a,publicKey:p,fingerPrint:v}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},_._validateBufferArguments=function(t){var e=function(e,r){var i=t[e];n(m.isBuffer(i),e+" argument is not a buffer"),n(i.length===r,e+" has not the expected size: found "+i.length+", expected "+r)};e("version",_.VersionSize),e("depth",_.DepthSize),e("parentFingerPrint",_.ParentFingerPrintSize),e("childIndex",_.ChildIndexSize),e("chainCode",_.ChainCodeSize),e("privateKey",_.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",_.CheckSumSize)},_.prototype.toString=function(){return this.xprivkey},_.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:h.get(m.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:m.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:m.integerFromBuffer(this.fingerPrint),parentFingerPrint:m.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:m.integerFromBuffer(this._buffers.childIndex),chainCode:m.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:m.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}},_.fromBuffer=function(t){return new _(t.toString())},_.prototype.toBuffer=function(){return m.copy(this._buffers.xprivkey)},_.DefaultDepth=0,_.DefaultFingerprint=0,_.DefaultChildIndex=0,_.Hardened=2147483648,_.MaxIndex=2*_.Hardened,_.RootElementAlias=["m","M","m'","M'"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PrivateKeySize=32,_.CheckSumSize=4,_.DataLength=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PrivateKeyStart=_.ChainCodeEnd+1,_.PrivateKeyEnd=_.PrivateKeyStart+_.PrivateKeySize,_.ChecksumStart=_.PrivateKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,n(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(22).Buffer)},1235:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1177),s=r(1180),o=r(1209),u=r(1202),a=r(1181),c=r(1234),f=r(1191),h=r(1199),p=r(1186),l=r(1185),d=l,g=l.HDPublicKey,v=r(300),m=r(1179),y=r(1178);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(t){if(n.isString(t)||y.isBuffer(t)){var e=_.getSerializedError(t);if(e){if(y.isBuffer(t)&&!_.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof g.ArgumentIsPrivateExtended)return new c(t).hdPublicKey;throw e}return this._buildFromSerialized(t)}if(n.isObject(t))return t instanceof c?this._buildFromPrivate(t):this._buildFromObject(t);throw new g.UnrecognizedArgument(t)}throw new g.MustSupplyArgument}_.isValidPath=function(t){if(n.isString(t)){var e=c._getDerivationIndexes(t);return null!==e&&n.every(e,_.isValidPath)}return!!n.isNumber(t)&&(t>=0&&t<_.Hardened)},_.prototype.derive=function(t,e){return this.deriveChild(t,e)},_.prototype.deriveChild=function(t,e){if(n.isNumber(t))return this._deriveWithNumber(t,e);if(n.isString(t))return this._deriveFromString(t);throw new g.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,e){if(t>=_.Hardened||e)throw new g.InvalidIndexCantDeriveHardened;if(t<0)throw new g.InvalidPath(t);var r,n=y.integerAsBuffer(t),i=y.concat([this.publicKey.toBuffer(),n]),o=a.sha512hmac(i,this._buffers.chainCode),u=s.fromBuffer(o.slice(0,32),{size:32}),c=o.slice(32,64);try{r=p.fromPoint(h.getG().mul(u).add(this.publicKey.point))}catch(e){return this._deriveWithNumber(t+1)}return new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,publicKey:r})},_.prototype._deriveFromString=function(t){if(n.includes(t,"'"))throw new g.InvalidIndexCantDeriveHardened;if(!_.isValidPath(t))throw new g.InvalidPath(t);return c._getDerivationIndexes(t).reduce((function(t,e){return t._deriveWithNumber(e)}),this)},_.isValidSerialized=function(t,e){return n.isNull(_.getSerializedError(t,e))},_.getSerializedError=function(t,e){if(!n.isString(t)&&!y.isBuffer(t))return new g.UnrecognizedArgument("expected buffer or string");if(!o.validCharacters(t))return new d.InvalidB58Char("(unknown)",t);try{t=u.decode(t)}catch(e){return new d.InvalidB58Checksum(t)}if(t.length!==_.DataSize)return new g.InvalidLength(t);if(!n.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}var i=y.integerFromBuffer(t.slice(0,4));return i===f.livenet.xprivkey||i===f.testnet.xprivkey?new g.ArgumentIsPrivateExtended:null},_._validateNetwork=function(t,e){var r=f.get(e);if(!r)return new d.InvalidNetworkArgument(e);var n=t.slice(_.VersionStart,_.VersionEnd);return y.integerFromBuffer(n)!==r.xpubkey?new d.InvalidNetwork(n):null},_.prototype._buildFromPrivate=function(t){var e=n.clone(t._buffers),r=h.getG().mul(s.fromBuffer(e.privateKey));return e.publicKey=h.pointToCompressed(r),e.version=y.integerAsBuffer(f.get(y.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)},_.prototype._buildFromObject=function(t){var r={version:t.network?y.integerAsBuffer(f.get(t.network).xpubkey):t.version,depth:n.isNumber(t.depth)?y.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:n.isNumber(t.parentFingerPrint)?y.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:n.isNumber(t.childIndex)?y.integerAsBuffer(t.childIndex):t.childIndex,chainCode:n.isString(t.chainCode)?e.from(t.chainCode,"hex"):t.chainCode,publicKey:n.isString(t.publicKey)?e.from(t.publicKey,"hex"):y.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:n.isNumber(t.checksum)?y.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(r)},_.prototype._buildFromSerialized=function(t){var e=u.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),publicKey:e.slice(_.PublicKeyStart,_.PublicKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),m.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],n=y.concat(r),i=u.checksum(n);if(t.checksum&&t.checksum.length){if(t.checksum.toString("hex")!==i.toString("hex"))throw new d.InvalidB58Checksum(n,i)}else t.checksum=i;var s,o=f.get(y.integerFromBuffer(t.version));s=u.encode(y.concat(r)),t.xpubkey=e.from(s);var c=new p(t.publicKey,{network:o}),h=_.ParentFingerPrintSize,l=a.sha256ripemd160(c.toBuffer()).slice(0,h);return m.defineImmutable(this,{xpubkey:s,network:o,depth:y.integerFromSingleByteBuffer(t.depth),publicKey:c,fingerPrint:l}),this},_._validateBufferArguments=function(t){var e=function(e,r){var n=t[e];v(y.isBuffer(n),e+" argument is not a buffer, it's "+typeof n),v(n.length===r,e+" has not the expected size: found "+n.length+", expected "+r)};e("version",_.VersionSize),e("depth",_.DepthSize),e("parentFingerPrint",_.ParentFingerPrintSize),e("childIndex",_.ChildIndexSize),e("chainCode",_.ChainCodeSize),e("publicKey",_.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",_.CheckSumSize)},_.fromString=function(t){return i.checkArgument(n.isString(t),"No valid string was provided"),new _(t)},_.fromObject=function(t){return i.checkArgument(n.isObject(t),"No valid argument was provided"),new _(t)},_.prototype.toString=function(){return this.xpubkey},_.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:f.get(y.integerFromBuffer(this._buffers.version)).name,depth:y.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:y.integerFromBuffer(this.fingerPrint),parentFingerPrint:y.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:y.integerFromBuffer(this._buffers.childIndex),chainCode:y.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:y.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}},_.fromBuffer=function(t){return new _(t)},_.prototype.toBuffer=function(){return y.copy(this._buffers.xpubkey)},_.Hardened=2147483648,_.RootElementAlias=["m","M"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PublicKeySize=33,_.CheckSumSize=4,_.DataSize=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PublicKeyStart=_.ChainCodeEnd,_.PublicKeyEnd=_.PublicKeyStart+_.PublicKeySize,_.ChecksumStart=_.PublicKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,v(_.PublicKeyEnd===_.DataSize),v(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(22).Buffer)},1236:function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var u,a=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,d=String.fromCharCode;function g(t){throw new RangeError(p[t])}function v(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+v((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,r,n=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function _(t){return v(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;n+=36)t=l(t/35);return l(n+36*t/(t+38))}function I(t){var e,r,n,i,s,o,u,c,f,h,p,d=[],v=t.length,m=0,y=128,b=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&g("not-basic"),d.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(s=m,o=1,u=36;i>=v&&g("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||c>l((a-m)/o))&&g("overflow"),m+=c*o,!(c<(f=u<=b?1:u>=b+26?26:u-b));u+=36)o>l(a/(h=36-f))&&g("overflow"),o*=h;b=S(m-s,e=d.length+1,0==s),l(m/e)>a-y&&g("overflow"),y+=l(m/e),m%=e,d.splice(m++,0,y)}return _(d)}function w(t){var e,r,n,i,s,o,u,c,f,h,p,v,m,_,I,w=[];for(v=(t=y(t)).length,e=128,r=0,s=72,o=0;o<v;++o)(p=t[o])<128&&w.push(d(p));for(n=i=w.length,i&&w.push("-");n<v;){for(u=a,o=0;o<v;++o)(p=t[o])>=e&&p<u&&(u=p);for(u-e>l((a-r)/(m=n+1))&&g("overflow"),r+=(u-e)*m,e=u,o=0;o<v;++o)if((p=t[o])<e&&++r>a&&g("overflow"),p==e){for(c=r,f=36;!(c<(h=f<=s?1:f>=s+26?26:f-s));f+=36)I=c-h,_=36-h,w.push(d(b(h+I%_,0))),c=l(I/_);w.push(d(b(c,0))),s=S(r,m,n==i),r=0,++n}++r,++e}return w.join("")}u={version:"1.4.1",ucs2:{decode:y,encode:_},decode:I,encode:w,toASCII:function(t){return m(t,(function(t){return f.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return m(t,(function(t){return c.test(t)?I(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return u}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(141)(t),r(19))},1241:function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},1242:function(t,e,r){"use strict";e.decode=e.parse=r(1243),e.encode=e.stringify=r(1244)},1243:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,s){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var u=/\+/g;t=t.split(e);var a=1e3;s&&"number"==typeof s.maxKeys&&(a=s.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var f=0;f<c;++f){var h,p,l,d,g=t[f].replace(u,"%20"),v=g.indexOf(r);v>=0?(h=g.substr(0,v),p=g.substr(v+1)):(h=g,p=""),l=decodeURIComponent(h),d=decodeURIComponent(p),n(o,l)?i(o[l])?o[l].push(d):o[l]=[o[l],d]:o[l]=d}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},1244:function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,u){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),(function(o){var u=encodeURIComponent(n(o))+r;return i(t[o])?s(t[o],(function(t){return u+encodeURIComponent(n(t))})).join(e):u+encodeURIComponent(n(t[o]))})).join(e):u?encodeURIComponent(n(u))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},1255:function(t,e,r){"use strict";(function(e,n){var i=t.exports;i.version="v"+r(1256).version,i.versionGuard=function(t){if(void 0!==t){throw new Error("More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.")}},i.versionGuard(e._bitcore),e._bitcore=i.version,i.crypto={},i.crypto.BN=r(1180),i.crypto.ECDSA=r(1208),i.crypto.Hash=r(1181),i.crypto.Random=r(1212),i.crypto.Point=r(1199),i.crypto.Signature=r(1183),i.encoding={},i.encoding.Base58=r(1209),i.encoding.Base58Check=r(1202),i.encoding.BufferReader=r(1188),i.encoding.BufferWriter=r(1182),i.encoding.Varint=r(1266),i.util={},i.util.buffer=r(1178),i.util.js=r(1179),i.util.preconditions=r(1177),i.errors=r(1185),i.Address=r(1187),i.Block=r(1267),i.MerkleBlock=r(1233),i.BlockHeader=r(1213),i.HDPrivateKey=r(1234),i.HDPublicKey=r(1235),i.Message=r(1269),i.Networks=r(1191),i.Opcode=r(1218),i.PrivateKey=r(1201),i.PublicKey=r(1186),i.Script=r(1184),i.Transaction=r(1210),i.URI=r(1270),i.Unit=r(1221),i.deps={},i.deps.bnjs=r(75),i.deps.bs58=r(1229),i.deps.Buffer=n,i.deps.elliptic=r(142),i.deps._=r(1176),i.Transaction.sighash=r(1190)}).call(this,r(19),r(22).Buffer)},1256:function(t){t.exports=JSON.parse('{"_args":[["bitcore-lib@8.24.2","/Users/bdeals/Documents/workspace/walletweb"]],"_from":"bitcore-lib@8.24.2","_id":"bitcore-lib@8.24.2","_inBundle":false,"_integrity":"sha1-YtK13WYiwc5sPtyJRbzuRiVE7hc=","_location":"/bitcore-lib","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"bitcore-lib@8.24.2","name":"bitcore-lib","escapedName":"bitcore-lib","rawSpec":"8.24.2","saveSpec":null,"fetchSpec":"8.24.2"},"_requiredBy":["/"],"_resolved":"https://r.cnpmjs.org/bitcore-lib/download/bitcore-lib-8.24.2.tgz","_spec":"8.24.2","_where":"/Users/bdeals/Documents/workspace/walletweb","author":{"name":"BitPay","email":"dev@bitpay.com"},"browser":{"request":"browser-request"},"dependencies":{"bech32":"=1.1.3","bn.js":"=4.11.8","bs58":"^4.0.1","buffer-compare":"=1.1.1","elliptic":"^6.5.3","inherits":"=2.0.1","lodash":"^4.17.20"},"description":"A pure and powerful JavaScript Bitcoin library.","devDependencies":{"bitcore-build":"^8.24.2","brfs":"^2.0.1","chai":"^4.2.0","gulp":"^4.0.0","sinon":"^7.1.1"},"gitHead":"012cc0216a9bc6b195035855bd17149bad41acd1","keywords":["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"license":"MIT","main":"index.js","name":"bitcore-lib","repository":{"type":"git","url":"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},"scripts":{"build":"gulp","coverage":"gulp coverage","pub":"npm run build && npm publish","test":"gulp test","test:ci":"npm run test"},"version":"8.24.2"}')},1257:function(t,e,r){"use strict";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: http://bitcore.io/"+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]},1258:function(t,e,r){"use strict";(function(e){var n=r(1259);t.exports={decode:function(t){if("string"!=typeof t)throw new Error("Input should be a string");var r=n.decode(t);return{prefix:r.prefix,data:e.from(n.fromWords(r.words.slice(1))),version:r.words[0]}},encode:function(t,e,r){if("string"!=typeof t)throw new Error("Prefix should be a string");if("number"!=typeof e)throw new Error("version should be a number");var i=n.toWords(r);return i.unshift(e),n.encode(t,i)}}}).call(this,r(22).Buffer)},1259:function(t,e,r){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},s=0;s<n.length;s++){var o=n.charAt(s);if(void 0!==i[o])throw new TypeError(o+" is ambiguous");i[o]=s}function u(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function a(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)throw new Error("Invalid prefix ("+t+")");e=u(e)^n>>5}for(e=u(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=u(e)^31&i}return e}function c(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,u=[],a=0;a<t.length;++a)for(i=i<<e|t[a],s+=e;s>=r;)s-=r,u.push(i>>s&o);if(n)s>0&&u.push(i<<r-s&o);else{if(s>=e)throw new Error("Excess padding");if(i<<r-s&o)throw new Error("Non-zero padding")}return u}t.exports={decode:function(t,e){if(e=e||90,t.length<8)throw new TypeError(t+" too short");if(t.length>e)throw new TypeError("Exceeds length limit");var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)throw new Error("Mixed-case string "+t);var s=(t=r).lastIndexOf("1");if(-1===s)throw new Error("No separator character for "+t);if(0===s)throw new Error("Missing prefix for "+t);var o=t.slice(0,s),c=t.slice(s+1);if(c.length<6)throw new Error("Data too short");for(var f=a(o),h=[],p=0;p<c.length;++p){var l=c.charAt(p),d=i[l];if(void 0===d)throw new Error("Unknown character "+l);f=u(f)^d,p+6>=c.length||h.push(d)}if(1!==f)throw new Error("Invalid checksum for "+t);return{prefix:o,words:h}},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");for(var i=a(t=t.toLowerCase()),s=t+"1",o=0;o<e.length;++o){var c=e[o];if(c>>5!=0)throw new Error("Non 5-bit word");i=u(i)^c,s+=n.charAt(c)}for(o=0;o<6;++o)i=u(i);for(i^=1,o=0;o<6;++o){s+=n.charAt(i>>5*(5-o)&31)}return s},toWords:function(t){return c(t,8,5,!0)},fromWords:function(t){return c(t,5,8,!1)}}},1260:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1231),s=r(1218),o=r(1180),u=r(1181),a=r(1183),c=r(1186),f=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};f.prototype.verifyWitnessProgram=function(t,e,r,n,o){var a=new i,c=[];if(0!==t)return!(o&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)||(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1);if(32===e.length){if(0===r.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var h=r[r.length-1];if(a=new i(h),u.sha256(h).toString("hex")!==e.toString("hex"))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;c=r.slice(0,-1)}else{if(20!==e.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1;if(2!==r.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;a.add(s.OP_DUP),a.add(s.OP_HASH160),a.add(e),a.add(s.OP_EQUALVERIFY),a.add(s.OP_CHECKSIG),c=r}if(this.initialize(),this.set({script:a,stack:c,sigversion:1,satoshis:n,flags:o}),!this.evaluate())return!1;if(1!==this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var p=this.stack[this.stack.length-1];return!!f.castToBool(p)||(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)},f.prototype.verify=function(t,e,s,o,u,a,c){var h,p=r(1210);if(n.isUndefined(s)&&(s=new p),n.isUndefined(o)&&(o=0),n.isUndefined(u)&&(u=0),n.isUndefined(a)&&(a=null),n.isUndefined(c)&&(c=0),this.set({script:t,tx:s,nin:o,sigversion:0,satoshis:0,flags:u}),0!=(u&f.SCRIPT_VERIFY_SIGPUSHONLY)&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;u&f.SCRIPT_VERIFY_P2SH&&(h=this.stack.slice());var l=this.stack;if(this.initialize(),this.set({script:e,stack:l,tx:s,nin:o,flags:u}),!this.evaluate())return!1;if(0===this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var d=this.stack[this.stack.length-1];if(!f.castToBool(d))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var g=!1;if(u&f.SCRIPT_VERIFY_WITNESS){var v={};if(e.isWitnessProgram(v)){if(g=!0,0!==t.toBuffer().length)return!1;if(!this.verifyWitnessProgram(v.version,v.program,a,c,this.flags))return!1}}if(u&f.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(0===h.length)throw new Error("internal error - stack copy empty");var m=h[h.length-1],y=i.fromBuffer(m);if(h.pop(),this.initialize(),this.set({script:y,stack:h,tx:s,nin:o,flags:u}),!this.evaluate())return!1;if(0===h.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!f.castToBool(h[h.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(u&f.SCRIPT_VERIFY_WITNESS){var _={};if(y.isWitnessProgram(_)){g=!0;var b=new i;if(b.add(y.toBuffer()),t.toHex()!==b.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(_.version,_.program,a,c,this.flags))return!1;l=[l[0]]}}}if(0!=(this.flags&f.SCRIPT_VERIFY_CLEANSTACK)){if(0==(this.flags&f.SCRIPT_VERIFY_P2SH))throw"flags & SCRIPT_VERIFY_P2SH";if(1!=h.length)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return!(this.flags&f.SCRIPT_VERIFY_WITNESS&&!g&&a.length>0)||(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1)},t.exports=f,f.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0},f.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=void 0!==t.nin?t.nin:this.nin,this.stack=t.stack||this.stack,this.altstack=t.altack||this.altstack,this.pc=void 0!==t.pc?t.pc:this.pc,this.pbegincodehash=void 0!==t.pbegincodehash?t.pbegincodehash:this.pbegincodehash,this.sigversion=void 0!==t.sigversion?t.sigversion:this.sigversion,this.satoshis=void 0!==t.satoshis?t.satoshis:this.satoshis,this.nOpCount=void 0!==t.nOpCount?t.nOpCount:this.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=void 0!==t.flags?t.flags:this.flags},f.true=e.from([1]),f.false=e.from([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.LOCKTIME_THRESHOLD_BN=new o(f.LOCKTIME_THRESHOLD=5e8),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=4096,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CLEANSTACK=256,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.SCRIPT_VERIFY_WITNESS=1024,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=2048,f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,f.SCRIPT_VERIFY_MINIMALIF=8192,f.SCRIPT_VERIFY_NULLFAIL=16384,f.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=32768,f.SCRIPT_ENABLE_SIGHASH_FORKID=65536,f.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17,f.SCRIPT_ENABLE_MONOLITH_OPCODES=1<<18,f.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31,f.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22,f.SEQUENCE_LOCKTIME_MASK=65535,f.castToBool=function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return e!==t.length-1||128!==t[e];return!1},f.prototype.checkSignatureEncoding=function(t){if(0==t.length)return!0;if(0!=(this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))&&!a.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if(0!=(this.flags&f.SCRIPT_VERIFY_LOW_S)){if(!a.fromTxFormat(t).hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!a.fromTxFormat(t).hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0},f.prototype.checkPubkeyEncoding=function(t){return 0==(this.flags&f.SCRIPT_VERIFY_STRICTENC)||c.isValid(t)?!(0!=(this.flags&f.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)&&1==this.sigversion&&!c.fromBuffer(t).compressed)||(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1)},f.prototype.evaluate=function(){if(this.script.toBuffer().length>1e4)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){if(!this.step())return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(t){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+t,!1}return!(this.vfExec.length>0)||(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1)},f.prototype.checkLockTime=function(t){return!!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&t.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&t.gte(f.LOCKTIME_THRESHOLD_BN))&&(!t.gt(new o(this.tx.nLockTime))&&!!this.tx.inputs[this.nin].isFinal())},f.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2)return!1;if(e&SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=f.SEQUENCE_LOCKTIME_TYPE_FLAG|f.SEQUENCE_LOCKTIME_MASK,n=new o(e&r),i=t.and(r),s=new o(f.SEQUENCE_LOCKTIME_TYPE_FLAG);return!!(n.lt(s)&&i.lt(s)||n.gte(s)&&i.gte(s))&&!i.gt(n)},f.prototype.step=function(){var t,e,r,h,p,l,d,g,v,m,y,_,b,S,I,w,E,O=0!=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA),k=-1===this.vfExec.indexOf(!1),P=this.script.chunks[this.pc];this.pc++;var A=P.opcodenum;if(n.isUndefined(A))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(P.buf&&P.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(A>s.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(A===s.OP_CAT||A===s.OP_SUBSTR||A===s.OP_LEFT||A===s.OP_RIGHT||A===s.OP_INVERT||A===s.OP_AND||A===s.OP_OR||A===s.OP_XOR||A===s.OP_2MUL||A===s.OP_2DIV||A===s.OP_MUL||A===s.OP_DIV||A===s.OP_MOD||A===s.OP_LSHIFT||A===s.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(k&&0<=A&&A<=s.OP_PUSHDATA4){if(O&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(P.buf){if(P.len!==P.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(P.buf)}else this.stack.push(f.false)}else if(k||s.OP_IF<=A&&A<=s.OP_ENDIF)switch(A){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:p=A-(s.OP_1-1),t=new o(p).toScriptNumBuffer(),this.stack.push(t);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var T=o.fromScriptNumBuffer(this.stack[this.stack.length-1],O,5);if(T.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(T))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var R=o.fromScriptNumBuffer(this.stack[this.stack.length-1],O,5);if(R.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(0!=(R&f.SEQUENCE_LOCKTIME_DISABLE_FLAG))break;if(!this.checkSequence(R))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(w=!1,k){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(t=this.stack[this.stack.length-1],this.flags&f.SCRIPT_VERIFY_MINIMALIF){if((t=this.stack[this.stack.length-1]).length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(1==t.length&&1!=t[0])return this.errstr="SCRIPT_ERR_MINIMALIF",!1}w=f.castToBool(t),A===s.OP_NOTIF&&(w=!w),this.stack.pop()}this.vfExec.push(w);break;case s.OP_ELSE:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],!(w=f.castToBool(t)))return this.errstr="SCRIPT_ERR_VERIFY",!1;this.stack.pop();break;case s.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop());break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop());break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],this.stack.push(e),this.stack.push(r);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-3],r=this.stack[this.stack.length-2];var x=this.stack[this.stack.length-1];this.stack.push(e),this.stack.push(r),this.stack.push(x);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-4],r=this.stack[this.stack.length-3],this.stack.push(e),this.stack.push(r);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=this.stack.splice(this.stack.length-6,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=this.stack.splice(this.stack.length-4,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-1],(w=f.castToBool(t))&&this.stack.push(t);break;case s.OP_DEPTH:t=new o(this.stack.length).toScriptNumBuffer(),this.stack.push(t);break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1]);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2]);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],p=(g=o.fromScriptNumBuffer(t,O)).toNumber(),this.stack.pop(),p<0||p>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-p-1],A===s.OP_ROLL&&this.stack.splice(this.stack.length-p-1,1),this.stack.push(t);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack[this.stack.length-3],d=this.stack[this.stack.length-2];var B=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=d,this.stack[this.stack.length-2]=B,this.stack[this.stack.length-1]=l;break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack[this.stack.length-2],d=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=d,this.stack[this.stack.length-1]=l;break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;g=new o(this.stack[this.stack.length-1].length),this.stack.push(g.toScriptNumBuffer());break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1];var N=e.toString("hex")===r.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(N?f.true:f.false),A===s.OP_EQUALVERIFY){if(!N)return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;this.stack.pop()}break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(t=this.stack[this.stack.length-1],g=o.fromScriptNumBuffer(t,O),A){case s.OP_1ADD:g=g.add(o.One);break;case s.OP_1SUB:g=g.sub(o.One);break;case s.OP_NEGATE:g=g.neg();break;case s.OP_ABS:g.cmp(o.Zero)<0&&(g=g.neg());break;case s.OP_NOT:g=new o((0===g.cmp(o.Zero))+0);break;case s.OP_0NOTEQUAL:g=new o((0!==g.cmp(o.Zero))+0)}this.stack.pop(),this.stack.push(g.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(v=o.fromScriptNumBuffer(this.stack[this.stack.length-2],O),m=o.fromScriptNumBuffer(this.stack[this.stack.length-1],O),g=new o(0),A){case s.OP_ADD:g=v.add(m);break;case s.OP_SUB:g=v.sub(m);break;case s.OP_BOOLAND:g=new o((0!==v.cmp(o.Zero)&&0!==m.cmp(o.Zero))+0);break;case s.OP_BOOLOR:g=new o((0!==v.cmp(o.Zero)||0!==m.cmp(o.Zero))+0);break;case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:g=new o((0===v.cmp(m))+0);break;case s.OP_NUMNOTEQUAL:g=new o((0!==v.cmp(m))+0);break;case s.OP_LESSTHAN:g=new o((v.cmp(m)<0)+0);break;case s.OP_GREATERTHAN:g=new o((v.cmp(m)>0)+0);break;case s.OP_LESSTHANOREQUAL:g=new o((v.cmp(m)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:g=new o((v.cmp(m)>=0)+0);break;case s.OP_MIN:g=v.cmp(m)<0?v:m;break;case s.OP_MAX:g=v.cmp(m)>0?v:m}if(this.stack.pop(),this.stack.pop(),this.stack.push(g.toScriptNumBuffer()),A===s.OP_NUMEQUALVERIFY){if(!f.castToBool(this.stack[this.stack.length-1]))return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;this.stack.pop()}break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;v=o.fromScriptNumBuffer(this.stack[this.stack.length-3],O),m=o.fromScriptNumBuffer(this.stack[this.stack.length-2],O);var C=o.fromScriptNumBuffer(this.stack[this.stack.length-1],O);w=m.cmp(v)<=0&&v.cmp(C)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(w?f.true:f.false);break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var U;t=this.stack[this.stack.length-1],A===s.OP_RIPEMD160?U=u.ripemd160(t):A===s.OP_SHA1?U=u.sha1(t):A===s.OP_SHA256?U=u.sha256(t):A===s.OP_HASH160?U=u.sha256ripemd160(t):A===s.OP_HASH256&&(U=u.sha256sha256(t)),this.stack.pop(),this.stack.push(U);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=this.stack[this.stack.length-2],_=this.stack[this.stack.length-1],!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(_))return!1;b=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});var H=(new i).add(y);b.findAndDelete(H);try{S=a.fromTxFormat(y),I=c.fromBuffer(_,!1),E=this.tx.verifySignature(S,I,this.nin,b,this.sigversion,this.satoshis)}catch(t){E=!1}if(!E&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&y.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(E?f.true:f.false),A===s.OP_CHECKSIGVERIFY){if(!E)return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;this.stack.pop()}break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var L=1;if(this.stack.length<L)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var F=o.fromScriptNumBuffer(this.stack[this.stack.length-L],O).toNumber();if(F<0||F>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=F,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var K=++L;L+=F;var D=F+2;if(this.stack.length<L)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var M=o.fromScriptNumBuffer(this.stack[this.stack.length-L],O).toNumber();if(M<0||M>F)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var j=++L;if(L+=M,this.stack.length<L)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;b=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var V=0;V<M;V++)y=this.stack[this.stack.length-j-V],b.findAndDelete((new i).add(y));for(E=!0;E&&M>0;){if(y=this.stack[this.stack.length-j],_=this.stack[this.stack.length-K],!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(_))return!1;var z;try{S=a.fromTxFormat(y),I=c.fromBuffer(_,!1),z=this.tx.verifySignature(S,I,this.nin,b,this.sigversion,this.satoshis)}catch(t){z=!1}z&&(j++,M--),K++,M>--F&&(E=!1)}for(;L-- >1;){if(!E&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&!D&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;D>0&&D--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(E?f.true:f.false),A===s.OP_CHECKMULTISIGVERIFY){if(!E)return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;this.stack.pop()}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return!0}}).call(this,r(22).Buffer)},1261:function(t,e){t.exports=function(t,e){if("function"==typeof t.compare)return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s&&t[i]===e[i];)++i;return i!==s&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}},1262:function(t,e,r){"use strict";var n=r(18),i=r(1177),s=(r(1178),r(1203)),o=r(1189),u=r(1190),a=r(1184),c=r(1183),f=r(1204);function h(){s.apply(this,arguments)}n(h,s),h.prototype.getSignatures=function(t,e,r,n,s,a){i.checkState(this.output instanceof o),n=n||c.SIGHASH_ALL;var h=e.toPublicKey();return h.toString()===this.output.script.getPublicKey().toString("hex")?[new f({publicKey:h,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u.sign(t,e,n,r,this.output.script,a),sigtype:n})]:[]},h.prototype.addSignature=function(t,e,r){return i.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(a.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this},h.prototype.clearSignatures=function(){return this.setScript(a.empty()),this},h.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},h.SCRIPT_MAX_SIZE=73,h.prototype._estimateSize=function(){return h.SCRIPT_MAX_SIZE},t.exports=h},1263:function(t,e,r){"use strict";var n=r(18),i=r(1177),s=r(1178),o=(r(1187),r(1181)),u=r(1203),a=r(1189),c=r(1190),f=r(1211),h=r(1182),p=(s=r(1178),r(1184)),l=r(1183),d=r(1204);function g(){u.apply(this,arguments)}n(g,u),g.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=p.buildWitnessV0Out(t);if(p.buildScriptHashOut(e).equals(this.output.script)){var r=new p;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript},g.prototype.getScriptCode=function(t){var e,r=new h;e=this.output.script.isScriptHashOut()?this.getRedeemScript(t):this.output.script;var n=p.buildPublicKeyHashOut(e.toAddress()).toBuffer();return r.writeVarintNum(n.length),r.write(n),r.toBuffer()},g.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),s=this.getSatoshisBuffer();return f.sighash(t,n,r,i,s)},g.prototype.getSignatures=function(t,e,r,n,u,h){var p;if(i.checkState(this.output instanceof a),u=u||o.sha256ripemd160(e.publicKey.toBuffer()),n=n||l.SIGHASH_ALL,h=h||"ecdsa",(p=this.output.script.isScriptHashOut()?this.getRedeemScript(e.publicKey):this.output.script)&&s.equals(u,p.getPublicKeyHash())){var g;if(p.isWitnessPublicKeyHashOut()){var v=this.getSatoshisBuffer(),m=this.getScriptCode(e.publicKey);g=f.sign(t,e,n,r,m,v,h)}else g=c.sign(t,e,n,r,this.output.script,h);return[new d({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:g,sigtype:n})]}return[]},g.prototype.addSignature=function(t,e,r){return i.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([s.concat([e.signature.toDER(),s.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(p.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this},g.prototype.clearSignatures=function(){return this.setScript(p.empty()),this.setWitnesses([]),this},g.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()},g.prototype.isValidSignature=function(t,e,r){if(e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return f.verify(t,e.signature,e.publicKey,e.inputIndex,n,i,r)}return c.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},g.SCRIPT_MAX_SIZE=107,g.REDEEM_SCRIPT_SIZE=22,g.prototype._estimateSize=function(){const t=g.SCRIPT_MAX_SIZE/4;return this.output.script.isWitnessPublicKeyHashOut()?t:this.output.script.isScriptHashOut()?t+g.REDEEM_SCRIPT_SIZE:g.SCRIPT_MAX_SIZE},t.exports=g},1264:function(t,e,r){"use strict";var n=r(1176),i=r(18),s=(r(1219),r(1203)),o=r(1189),u=r(1177),a=r(1184),c=r(1183),f=r(1190),h=(r(1186),r(1178)),p=r(1204);function l(t,e,r,i,o){o=o||{},s.apply(this,arguments);var c=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,o.noSorting?this.publicKeys=e:this.publicKeys=n.sortBy(e,(function(t){return t.toString("hex")})),u.checkState(a.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,(function(t,e){c.publicKeyIndex[t.toString()]=e})),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(l,s),l.prototype.toObject=function(){var t=s.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,(function(t){return t.toString()})),t.signatures=this._serializeSignatures(),t},l.prototype._deserializeSignatures=function(t){return n.map(t,(function(t){if(t)return new p(t)}))},l.prototype._serializeSignatures=function(){return n.map(this.signatures,(function(t){if(t)return t.toObject()}))},l.prototype.getSignatures=function(t,e,r,i,s,a){u.checkState(this.output instanceof o),i=i||c.SIGHASH_ALL,a=a||"ecdsa";var h=this,l=[];return n.each(this.publicKeys,(function(n){n.toString()===e.publicKey.toString()&&l.push(new p({publicKey:e.publicKey,prevTxId:h.prevTxId,outputIndex:h.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,h.output.script,a),sigtype:i}))})),l},l.prototype.addSignature=function(t,e,r){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),u.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,(function(t){return!n.isUndefined(t)})),(function(t){return h.concat([t.signature.toDER(),h.integerAsSingleByteBuffer(t.sigtype)])}))},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,(function(t,e){return t+!!e}),0)},l.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,(function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]}))},l.prototype.isValidSignature=function(t,e,r){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},l.normalizeSignatures=function(t,e,r,n,i,s){return i.map((function(i){var o=null;return n=n.filter((function(n){if(o)return!0;var u=new p({signature:c.fromTxFormat(n),publicKey:i,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:c.SIGHASH_ALL});return u.signature.nhashtype=u.sigtype,!f.verify(t,u.signature,u.publicKey,u.inputIndex,e.output.script,s)||(o=u,!1)})),o||null}))},l.OPCODES_SIZE=1,l.SIGNATURE_SIZE=73,l.prototype._estimateSize=function(){return l.OPCODES_SIZE+this.threshold*l.SIGNATURE_SIZE},t.exports=l},1265:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(18),s=r(1203),o=r(1189),u=r(1177),a=r(1187),c=r(1184),f=r(1183),h=r(1190),p=r(1211),l=r(1182),d=r(1178),g=r(1204);function v(t,e,r,i,o){o=o||{},s.apply(this,arguments);var u=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,o.noSorting?this.publicKeys=e:this.publicKeys=n.sortBy(e,(function(t){return t.toString("hex")})),this.redeemScript=c.buildMultisigOut(this.publicKeys,r,o);var f=c.buildWitnessMultisigOutFromScript(this.redeemScript);if(f.equals(this.output.script))this.nestedWitness=!1,this.type=a.PayToWitnessScriptHash;else if(c.buildScriptHashOut(f).equals(this.output.script))this.nestedWitness=!0,this.type=a.PayToScriptHash;else{if(!c.buildScriptHashOut(this.redeemScript).equals(this.output.script))throw new Error("Provided public keys don't hash to the provided output");this.nestedWitness=!1,this.type=a.PayToScriptHash}if(this.nestedWitness){var h=new c;h.add(f.toBuffer()),this.setScript(h)}this.publicKeyIndex={},n.each(this.publicKeys,(function(t,e){u.publicKeyIndex[t.toString()]=e})),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(v,s),v.prototype.toObject=function(){var t=s.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,(function(t){return t.toString()})),t.signatures=this._serializeSignatures(),t},v.prototype._deserializeSignatures=function(t){return n.map(t,(function(t){if(t)return new g(t)}))},v.prototype._serializeSignatures=function(){return n.map(this.signatures,(function(t){if(t)return t.toObject()}))},v.prototype.getScriptCode=function(){var t=new l;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()},v.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===a.PayToWitnessScriptHash){var s=this.getScriptCode(),o=this.getSatoshisBuffer();i=p.sighash(t,n,r,s,o)}else i=h.sighash(t,n,r,this.redeemScript);return i},v.prototype.getSignatures=function(t,e,r,i,s,c){u.checkState(this.output instanceof o),i=i||f.SIGHASH_ALL,c=c||"ecdsa";var l=this,d=[];return n.each(this.publicKeys,(function(n){if(n.toString()===e.publicKey.toString()){var s;if(l.nestedWitness||l.type===a.PayToWitnessScriptHash){var o=l.getScriptCode(),u=l.getSatoshisBuffer();s=p.sign(t,e,i,r,o,u,c)}else s=h.sign(t,e,i,r,l.redeemScript,c);d.push(new g({publicKey:e.publicKey,prevTxId:l.prevTxId,outputIndex:l.outputIndex,inputIndex:r,signature:s,sigtype:i}))}})),d},v.prototype.addSignature=function(t,e,r){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},v.prototype._updateScript=function(){if(this.nestedWitness||this.type===a.PayToWitnessScriptHash){for(var t=[e.alloc(0)],r=this._createSignatures(),n=0;n<r.length;n++)t.push(r[n]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var i=c.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(i)}return this},v.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,(function(t){return!n.isUndefined(t)})),(function(t){return d.concat([t.signature.toDER(),d.integerAsSingleByteBuffer(t.sigtype)])}))},v.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},v.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},v.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},v.prototype.countSignatures=function(){return n.reduce(this.signatures,(function(t,e){return t+!!e}),0)},v.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,(function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]}))},v.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===a.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return p.verify(t,e.signature,e.publicKey,e.inputIndex,n,i,r)}return e.signature.nhashtype=e.sigtype,h.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript,r)},v.OPCODES_SIZE=7,v.SIGNATURE_SIZE=74,v.PUBKEY_SIZE=34,v.REDEEM_SCRIPT_SIZE=34,v.prototype._estimateSize=function(){var t=v.OPCODES_SIZE+this.threshold*v.SIGNATURE_SIZE+this.publicKeys.length*v.PUBKEY_SIZE;return this.type===a.PayToWitnessScriptHash?t/4:this.nestedWitness?t/4+v.REDEEM_SCRIPT_SIZE:t},t.exports=v}).call(this,r(22).Buffer)},1266:function(t,e,r){"use strict";(function(e){var n=r(1182),i=r(1188),s=r(1180),o=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r))this.buf=r;else if("number"==typeof r){var n=r;this.fromNumber(n)}else if(r instanceof s){var i=r;this.fromBN(i)}else if(r){var o=r;this.set(o)}};o.prototype.set=function(t){return this.buf=t.buf||this.buf,this},o.prototype.fromString=function(t){return this.set({buf:e.from(t,"hex")}),this},o.prototype.toString=function(){return this.buf.toString("hex")},o.prototype.fromBuffer=function(t){return this.buf=t,this},o.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this},o.prototype.fromBN=function(t){return this.buf=n().writeVarintBN(t).concat(),this},o.prototype.fromNumber=function(t){return this.buf=n().writeVarintNum(t).concat(),this},o.prototype.toBuffer=function(){return this.buf},o.prototype.toBN=function(){return i(this.buf).readVarintBN()},o.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=o}).call(this,r(22).Buffer)},1267:function(t,e,r){t.exports=r(1268),t.exports.BlockHeader=r(1213),t.exports.MerkleBlock=r(1233)},1268:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1213),s=r(1180),o=r(1178),u=r(1188),a=r(1182),c=r(1181),f=r(1210),h=r(1177);function p(t){return this instanceof p?(n.extend(this,p._from(t)),this):new p(t)}p.MAX_BLOCK_SIZE=1e6,p._from=function(t){var e={};if(o.isBuffer(t))e=p._fromBufferReader(u(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for Block");e=p._fromObject(t)}return e},p._fromObject=function(t){var e=[];return t.transactions.forEach((function(t){t instanceof f?e.push(t):e.push(f().fromObject(t))})),{header:i.fromObject(t.header),transactions:e}},p.fromObject=function(t){var e=p._fromObject(t);return new p(e)},p._fromBufferReader=function(t){var e={};h.checkState(!t.finished(),"No block data received"),e.header=i.fromBufferReader(t);var r=t.readVarintNum();e.transactions=[];for(var n=0;n<r;n++)e.transactions.push(f().fromBufferReader(t));return e},p.fromBufferReader=function(t){h.checkArgument(t,"br is required");var e=p._fromBufferReader(t);return new p(e)},p.fromBuffer=function(t){return p.fromBufferReader(new u(t))},p.fromString=function(t){var r=e.from(t,"hex");return p.fromBuffer(r)},p.fromRawBlock=function(t){o.isBuffer(t)||(t=e.from(t,"binary"));var r=u(t);r.pos=p.Values.START_OF_BLOCK;var n=p._fromBufferReader(r);return new p(n)},p.prototype.toObject=p.prototype.toJSON=function(){var t=[];return this.transactions.forEach((function(e){t.push(e.toObject())})),{header:this.header.toObject(),transactions:t}},p.prototype.toBuffer=function(){return this.toBufferWriter().concat()},p.prototype.toString=function(){return this.toBuffer().toString("hex")},p.prototype.toBufferWriter=function(t){t||(t=new a),t.write(this.header.toBuffer()),t.writeVarintNum(this.transactions.length);for(var e=0;e<this.transactions.length;e++)this.transactions[e].toBufferWriter(t);return t},p.prototype.getTransactionHashes=function(){var t=[];if(0===this.transactions.length)return[p.Values.NULL_HASH];for(var e=0;e<this.transactions.length;e++)t.push(this.transactions[e]._getHash());return t},p.prototype.getMerkleTree=function(){for(var t=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var s=Math.min(i+1,n-1),o=e.concat([t[r+i],t[r+s]]);t.push(c.sha256sha256(o))}r+=n}return t},p.prototype.getMerkleRoot=function(){var t=this.getMerkleTree();return t[t.length-1]},p.prototype.validMerkleRoot=function(){var t=new s(this.header.merkleRoot.toString("hex"),"hex"),e=new s(this.getMerkleRoot().toString("hex"),"hex");return 0===t.cmp(e)},p.prototype._getHash=function(){return this.header._getHash()};var l={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(p.prototype,"id",l),Object.defineProperty(p.prototype,"hash",l),p.prototype.inspect=function(){return"<Block "+this.id+">"},p.Values={START_OF_BLOCK:8,NULL_HASH:e.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=p}).call(this,r(22).Buffer)},1269:function(t,e,r){"use strict";(function(e){var n=r(1176),i=r(1201),s=r(1186),o=r(1187),u=r(1182),a=r(1208),c=r(1183),f=r(1181).sha256sha256,h=r(1179),p=r(1177);function l(t){return this instanceof l?(p.checkArgument(n.isString(t),"First argument should be a string"),this.message=t,this):new l(t)}l.MAGIC_BYTES=e.from("Bitcoin Signed Message:\n"),l.prototype.magicHash=function(){var t=u.varintBufNum(l.MAGIC_BYTES.length),r=e.from(this.message),n=u.varintBufNum(r.length),i=e.concat([t,l.MAGIC_BYTES,n,r]);return f(i)},l.prototype._sign=function(t){p.checkArgument(t instanceof i,"First argument should be an instance of PrivateKey");var e=this.magicHash(),r=new a;return r.hashbuf=e,r.privkey=t,r.pubkey=t.toPublicKey(),r.signRandomK(),r.calci(),r.sig},l.prototype.sign=function(t){return this._sign(t).toCompact().toString("base64")},l.prototype._verify=function(t,e){p.checkArgument(t instanceof s,"First argument should be an instance of PublicKey"),p.checkArgument(e instanceof c,"Second argument should be an instance of Signature");var r=this.magicHash(),n=a.verify(r,e,t);return n||(this.error="The signature was invalid"),n},l.prototype.verify=function(t,r){p.checkArgument(t),p.checkArgument(r&&n.isString(r)),n.isString(t)&&(t=o.fromString(t));var i=c.fromCompact(e.from(r,"base64")),s=new a;s.hashbuf=this.magicHash(),s.sig=i;var u=s.toPublicKey(),f=o.fromPublicKey(u,t.network);return t.toString()!==f.toString()?(this.error="The signature did not match the message digest",!1):this._verify(u,i)},l.prototype.recoverPublicKey=function(t,r){p.checkArgument(t),p.checkArgument(r&&n.isString(r)),n.isString(t)&&(t=o.fromString(t));var i=c.fromCompact(e.from(r,"base64")),s=new a;s.hashbuf=this.magicHash(),s.sig=i;var u=s.toPublicKey(),f=o.fromPublicKey(u,t.network);return t.toString()!==f.toString()&&(this.error="The signature did not match the message digest"),u.toString()},l.fromString=function(t){return new l(t)},l.fromJSON=function(t){return h.isValidJSON(t)&&(t=JSON.parse(t)),new l(t.message)},l.prototype.toObject=function(){return{message:this.message}},l.prototype.toJSON=function(){return JSON.stringify(this.toObject())},l.prototype.toString=function(){return this.message},l.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=l;r(1184)}).call(this,r(22).Buffer)},1270:function(t,e,r){"use strict";var n=r(1176),i=r(1222),s=r(1187),o=r(1221),u=function(t,e){if(!(this instanceof u))return new u(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,"string"==typeof t){var r=u.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else{if("object"!=typeof t)throw new TypeError("Unrecognized data format.");this._fromObject(t)}};u.fromString=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return new u(t)},u.fromObject=function(t){return new u(t)},u.isValid=function(t,e){try{new u(t,e)}catch(t){return!1}return!0},u.parse=function(t){var e=i.parse(t,!0);if("bitcoin:"!==e.protocol)throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query},u.Members=["address","amount","message","label","r"],u.prototype._fromObject=function(t){if(!s.isValid(t.address))throw new TypeError("Invalid bitcoin address");for(var e in this.address=new s(t.address),this.network=this.address.network,this.amount=t.amount,t)if("address"!==e&&"amount"!==e){if(/^req-/.exec(e)&&-1===this.knownParams.indexOf(e))throw Error("Unknown required argument "+e);(u.Members.indexOf(e)>-1?this:this.extras)[e]=t[e]}},u.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return o.fromBTC(t).toSatoshis()},u.prototype.toObject=u.prototype.toJSON=function(){for(var t={},e=0;e<u.Members.length;e++){var r=u.Members[e];this.hasOwnProperty(r)&&void 0!==this[r]&&(t[r]=this[r].toString())}return n.extend(t,this.extras),t},u.prototype.toString=function(){var t={};return this.amount&&(t.amount=o.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),n.extend(t,this.extras),i.format({protocol:"bitcoin:",host:this.address,query:t})},u.prototype.inspect=function(){return"<URI: "+this.toString()+">"},t.exports=u},314:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return j}));r(607);var n,i,s,o=r(299),u=(r(1192),r(1195)),a=(r(605),r(140)),c=(r(606),r(172)),f=(r(1193),r(1194)),h=r(0),p=r.n(h),l=r(170),d=r(32),g=r.n(d),v=r(58),m=r(15),y=r(1110),_=r.n(y),b=r(11),S=r(115),I=r(171),w=r(1197),E=r(67),O=r(1227),k=r.n(O);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e,r,n,i,s,o){try{var u=t[s](o),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,i)}function T(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){A(s,n,i,o,u,"next",t)}function u(t){A(s,n,i,o,u,"throw",t)}o(void 0)}))}}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=U(t);if(e){var i=U(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return N(this,r)}}function N(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?C(t):e}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var K=r("sendbtc"===window.location.hash.split("/")[2]?1255:4).Script,D=Object(I.h)(),M=f.a.Item,j=(n=f.a.create(),i=Object(l.connect)((function(t){var e=t.user,r=t.wallet,n=t.loading.effects;return L(L(L({},e),r),{},{signing:n["service/signSingWalletMessage"],broadcasting:n["service/broadcast"],loading:n["service/queryWalletById"]||n["service/createSingleWalletAddress"]||n["service/createMultiPartyAddress"],creating:n["service/createMultiPartyTransaction"]||n["service/bsvTransfer"]})})),Object(v.withRouter)(s=n(s=i(s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(d,t);var e,r,n,i,s,h,l=B(d);function d(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),F(C(e=l.call(this,t)),"handleSubmit",(function(t){t.preventDefault();var r=e.props,n=r.currentWallet,i=r.form,s=r.dispatch,o=n.token,u=n.type;i.validateFields(function(){var t=T(regeneratorRuntime.mark((function t(r,i){var a,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=31;break}if(a=i.toAddress,i.biz_data=a,!(1===n.token&&a.indexOf("@")>-1)){t.next=21;break}return t.next=6,s({type:"service/paymentDestination",payload:{paymail:a.trim(),wid:e.getWalletId()}});case 6:if(f=t.sent){t.next=9;break}return t.abrupt("return",c.a.error(Object(m.a)("invalid_address")));case 9:t.prev=9,K.fromAddress(f),t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(9),t.abrupt("return",c.a.error(Object(m.a)("invalid_address")));case 16:i.paymail=a,i.toAddress=f,i.biz_data="".concat(a," (").concat(f,")"),t.next=30;break;case 21:if((1!==o&&2!==o||"1"===a.substr(0,1))&&(7!==o||"m"===a.substr(0,1))){t.next=23;break}return t.abrupt("return",c.a.error(Object(m.a)("invalid_address")));case 23:t.prev=23,K.fromAddress(a),t.next=30;break;case 27:return t.prev=27,t.t1=t.catch(23),t.abrupt("return",c.a.error(Object(m.a)("invalid_address")));case 30:1===u?e.createTransaction(i):e.createTransaction1(i);case 31:case"end":return t.stop()}}),t,null,[[9,13],[23,27]])})));return function(e,r){return t.apply(this,arguments)}}())})),F(C(e),"sign",function(){var t=T(regeneratorRuntime.mark((function t(r,n){var i,s,o,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.props.dispatch,t.next=3,i({type:"service/signSingWalletMessage",payload:n});case 3:return s=t.sent,t.next=6,i({type:"service/bsvTransfer",payload:{action_type:"sign",transferId:r,siglist:s}});case 6:if(o=t.sent,"sign"!==(u=o.data.type)){t.next=12;break}return t.next=11,e.sign(o.data.transferId,o.data.hashlist);case 11:return t.abrupt("return",t.sent);case 12:if("success"!==u){t.next=14;break}return t.abrupt("return",o);case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),F(C(e),"createTransaction",function(){var t=T(regeneratorRuntime.mark((function t(r){var n,i,s,o,u,a,f,h,p,l,d,v,m,y,_,S,w,E,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getWalletId(),i=r.toAddress,s=r.amount,o=r.note,u=r.total,a=r.paymail,f=r.biz_data,h=e.props,p=h.currentWallet,l=h.dispatch,d=h.exchangeRate,v=p.type,m=p.token,y=e.state.change_address||p.deposit.address||p.address,_=g()(u),S=D.currencyCode.toLowerCase(),1!==parseInt(v)||!_.div(d[S]).isGreaterThan(b.c)){t.next=10;break}return e.setState({toAddress:i,biz_data:a||i,amount:s,note:o,showResult:"pay"}),t.abrupt("return");case 10:return w=g()(s).multipliedBy(1e8).toString(),t.next=13,l({type:"service/bsvTransfer",payload:{action_type:"start_transfer",token_map_id:m,wid:n,list:[{type:"bsv",receiver_address:i,receiver_amount:w,change_address:y,note:o}]}});case 13:if((E=t.sent).success){t.next=16;break}return t.abrupt("return",c.a.error(E.message));case 16:return t.next=18,e.sign(E.data.transferId,E.data.hashlist);case 18:if((O=t.sent).success){t.next=21;break}return t.abrupt("return",c.a.error("Transaction failed. ".concat(O.message)));case 21:e.setState({toAddress:f,amount:s,note:o,showResult:"single",fee:Object(I.e)(O.data.totalEstimateFee)});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),F(C(e),"createTransaction1",function(){var t=T(regeneratorRuntime.mark((function t(r){var n,i,s,o,u,a,f,h,p,l,d,v,y,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getWalletId(),i=r.toAddress,s=r.amount,o=r.note,u=e.props,a=u.currentWallet,f=u.dispatch,h=a.type,p=a.token,l=e.state.change_address){t.next=7;break}return t.abrupt("return",c.a.error(Object(m.a)("need_all_online")));case 7:if(2!==parseInt(h)){t.next=21;break}return d=g()(s).multipliedBy(1e8).toString(),v={action_type:"start_transfer",token_map_id:p,wid:n,list:[{type:"bsv",receiver_address:i,receiver_amount:d,change_address:l,note:o}]},t.next=12,f({type:"service/getTransferEstimateFee",payload:L({},v)});case 12:return y=t.sent,t.next=15,f({type:"service/bsvMulTransfer",payload:v});case 15:if((_=t.sent).success){t.next=18;break}return t.abrupt("return",c.a.error(_.message));case 18:_.code=13,_.value=s,e.setState({showResult:"multi",toAddress:r.biz_data,amount:s,note:o,fee:Object(I.e)(y.data.estimateFee)});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),F(C(e),"changeBSV",(function(t){e.setFiatValue(t.target.value)})),F(C(e),"changeCurrency",(function(t){var r=e.props,n=r.form,i=r.currencyIndex,s=r.price,o=r.exchangeRate,u=r.currentWallet,a=S.a[i],c=t.target.value,f=b.s[u.token||1].name.toLowerCase();if(s[f]){var h=null,p=a.currencyCode.toLowerCase();h=s[f][p]?s[f][p]:g()(s[f].usd).times(o[p]),n.setFieldsValue({amount:c?g()(c).div(h).toFixed(8,1):0}),e.setState({amountCurrency:c?g()(c).div(h).toFixed(8,1):0,amountFiat:c||0})}})),F(C(e),"validate",(function(t,r,n){e.props.price;!r||g()(r).times(1e8).isLessThan(457)?n(Object(m.a)("amount_less_than")):n()})),F(C(e),"validateTotal",(function(t,r,n){var i=e.props,s=(i.price,i.form),o=(i.currentWallet,s.getFieldValue("amount"));g()(o).times(1e8).isLessThan(457)?n(Object(m.a)("amount_less_than")):n()})),F(C(e),"gotoBack",(function(){var t=e.props.match.params.id;e.props.history.push({pathname:"/money/list/".concat(t)})})),F(C(e),"finishPayOnPhone",(function(){e.props.dispatch({type:"wallet/save",payload:{current_payment_walletId:"",current_payment_t:"",current_payment_finish:!1}});var t=e.props.match.params.id;e.props.history.push({pathname:"/money/list/".concat(t)})})),F(C(e),"switchCurrency",(function(t){e.setState({currencyType:t})})),e.payment_t=Date.now().toString(),e.state={showResult:!1,amountCurrency:0,amountFiat:0},e}return e=d,(r=[{key:"getWalletId",value:function(){return parseInt(this.props.match.params.id)}},{key:"createSingleAddress",value:(h=T(regeneratorRuntime.mark((function t(){var e,r,n,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,r=e.match,n=e.dispatch,i=r.params.id,t.next=4,n({type:"service/createSingleWalletAddress",payload:{wid:i,type:2}});case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"createMultiAddress",value:(s=T(regeneratorRuntime.mark((function t(){var e,r,n,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,r=e.match,n=e.dispatch,i=r.params.id,t.next=4,n({type:"service/createMultiPartyAddress",payload:{wid:parseInt(i),type:2}});case 4:if(!(s=t.sent).msg){t.next=7;break}return t.abrupt("return",c.a.error(s.msg));case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"renderSingleResult",value:function(){var t=this.state,e=t.toAddress,r=t.amount,n=t.note,i=t.fee,s=t.currencyType;return p.a.createElement("div",{className:_.a.result},p.a.createElement("div",{className:_.a.icon},p.a.createElement(E.a,{type:"iconsent"})),p.a.createElement("div",{className:_.a.title},Object(m.a)("payment_sent")),p.a.createElement("div",{className:_.a.desc},Object(m.a)("sent")," ",p.a.createElement("span",null,r," ",s)," ",Object(m.a)("to")," ",e),n&&p.a.createElement("div",{className:_.a.note},n),p.a.createElement("div",{className:_.a.btns},p.a.createElement(a.a,{type:"primary",className:_.a.btn,onClick:this.gotoBack},Object(m.a)("close"))),p.a.createElement("div",{className:_.a.fee},Object(m.a)("network_fee")," ",i," ",s))}},{key:"renderMultiResult",value:function(){var t=this.state,e=t.toAddress,r=t.amount,n=t.note,i=t.fee,s=t.currencyType;return p.a.createElement("div",{className:_.a.result},p.a.createElement("div",{className:_.a.icon},p.a.createElement(E.a,{type:"iconsigned"})),p.a.createElement("div",{className:_.a.title},Object(m.a)("tx_signed_you")),p.a.createElement("div",{className:_.a.desc},Object(m.a)("sign_tx_multi",r)," ",e),n&&p.a.createElement("div",{className:_.a.note},n),p.a.createElement("div",{className:_.a.btns},p.a.createElement(a.a,{type:"primary",className:_.a.btn,onClick:this.gotoBack},Object(m.a)("close"))),p.a.createElement("div",{className:_.a.fee},Object(m.a)("network_fee")," ",i," ",s))}},{key:"renderPay",value:function(){var t=this.state,e=t.toAddress,r=t.amount,n=t.note,i=t.biz_data,s=t.currencyType,o=n?encodeURIComponent(n):"",u="voltid:".concat(e,"?amount=").concat(r,"&label=").concat(o,"&walletId=").concat(this.props.match.params.id,"&biz_data=").concat(i,"&action=confirm_tx&t=").concat(this.payment_t);return p.a.createElement("div",{className:_.a.result_pay},p.a.createElement("div",{className:_.a.title},Object(m.a)("send_to")),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("to")),p.a.createElement("div",{className:_.a.value},i)),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("amount")),p.a.createElement("div",{className:_.a.value},r," ",s)),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("note")),p.a.createElement("div",{className:_.a.value},n)),p.a.createElement("div",{className:_.a.qrcode},p.a.createElement(k.a,{value:u})),p.a.createElement("div",{className:_.a.desc},Object(m.a)("payOnPhoneDesc",b.c)),p.a.createElement("div",{className:_.a.btns},p.a.createElement(a.a,{type:"primary",className:_.a.btn,onClick:this.gotoBack},Object(m.a)("close"))))}},{key:"renderPayResult",value:function(){var t=this.state,e=t.amount,r=t.note,n=t.biz_data,i=t.currencyType;return p.a.createElement("div",{className:_.a.result_pay},p.a.createElement("div",{className:_.a.icon},p.a.createElement(E.a,{type:"iconsent"})),p.a.createElement("div",{className:_.a.title},Object(m.a)("payment_sent")),p.a.createElement("div",{className:_.a.sub_title},Object(m.a)("payOnPhoneFinish")),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("to")),p.a.createElement("div",{className:_.a.value},n)),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("amount")),p.a.createElement("div",{className:_.a.value},e," ",i)),p.a.createElement("div",{className:_.a.item},p.a.createElement("div",{className:_.a.label},Object(m.a)("note")),p.a.createElement("div",{className:_.a.value},r)),p.a.createElement("div",{className:_.a.btns},p.a.createElement(a.a,{type:"primary",className:_.a.btn,onClick:this.finishPayOnPhone},Object(m.a)("close"))))}},{key:"componentDidMount",value:(i=T(regeneratorRuntime.mark((function t(){var e,r,n,i,s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.dispatch,r=this.props.currentWallet,t.next=4,e({type:"service/queryWalletById",payload:{wid:this.getWalletId()}});case 4:if(r=t.sent,i=(n=r).type,s=n.token,2!==parseInt(i)){t.next=12;break}return t.next=9,this.createMultiAddress();case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,this.createSingleAddress();case 14:t.t0=t.sent;case 15:o=t.t0,this.setState({currencyType:Object(b.e)(s),change_address:o});case 17:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setFiatValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.props,r=e.form,n=e.currencyIndex,i=e.price,s=e.exchangeRate,o=e.currentWallet,u=S.a[n],a=b.s[o.token||1].name.toLowerCase();if(7===o.token&&(a="bsv"),i[a]){var c=null,f=u.currencyCode.toLowerCase();c=i[a][f]?i[a][f]:g()(i[a].usd).times(s[f]),r.setFieldsValue({total:t?g()(t).multipliedBy(c).toFixed(8,1):0}),this.setState({amountCurrency:t||0,amountFiat:t?g()(t).multipliedBy(c).toFixed(8,1):0})}}},{key:"setAmount",value:function(t){this.props.form.setFieldsValue({amount:t}),this.setFiatValue(t)}},{key:"renderForm",value:function(){var t=this,e=this.props,r=e.current_payment_t,n=e.current_payment_finish;if(r===this.payment_t&&n)return this.renderPayResult();if("single"===this.state.showResult)return this.renderSingleResult();if("multi"===this.state.showResult)return this.renderMultiResult();if("pay"===this.state.showResult)return this.renderPay();var i=this.props,s=i.form,o=i.currencyIndex,c=i.currentWallet,h=(i.loading,i.creating),l=s.getFieldDecorator,d=S.a[o].currencyCode,g=c.total,v=c.frozen,y=c.name,E=c.type,O=c.threshold,k=c.token,P=this.state,A=P.currencyType,T=P.amountCurrency,R=P.amountFiat,x=Object(b.e)(k);return p.a.createElement("div",{className:_.a.container},p.a.createElement("div",{className:_.a.header},p.a.createElement("div",{className:_.a.title},Object(m.a)("send_to")),p.a.createElement("span",{className:_.a.goback,onClick:this.gotoBack}," ",Object(m.a)("cancel"))),p.a.createElement(f.a,{onSubmit:this.handleSubmit,hideRequiredMark:!0,className:_.a.content},p.a.createElement(M,null,l("toAddress",{rules:[{required:!0}]})(p.a.createElement(u.a,{allowClear:!0}))),p.a.createElement("div",{className:_.a.header},p.a.createElement("div",{className:_.a.title},Object(m.a)("from")," ",y)),p.a.createElement("div",{className:_.a.total},p.a.createElement("span",{onClick:function(){t.setAmount(Object(I.e)(g))}},p.a.createElement("span",{className:_.a.balance},Object(m.a)("balance"))," ",Object(I.e)(g)," ",x," | ",p.a.createElement(w.a,{token:k,value:g})),v>0&&p.a.createElement(p.a.Fragment,null," | ",Object(m.a)("frozen")," ",Object(I.e)(v)," ",x)),p.a.createElement("div",{className:_.a.amount_container},p.a.createElement(M,{style:{display:A===x?"block":"none",flex:1}},l("amount",{rules:[{validator:this.validate}]})(p.a.createElement(u.a,{onChange:this.changeBSV,style:{width:"100%"},allowClear:!0}))),p.a.createElement(M,{style:{display:A===x?"none":"block",flex:1}},l("total",{rules:[{validator:this.validateTotal}]})(p.a.createElement(u.a,{onChange:this.changeCurrency,style:{width:"100%"},allowClear:!0}))),p.a.createElement("div",{className:_.a.currency_content},[x,d].map((function(e){return p.a.createElement("div",{key:e,className:e===A?Object(I.j)(_.a.current_currency,_.a.currency_item):_.a.currency_item,onClick:function(){return t.switchCurrency(e)}},e)})))),p.a.createElement("div",{className:_.a.total_container},Object(m.a)("equivalent_to")," ",A===x?"".concat(R," ").concat(d):"".concat(T," ").concat(x)),p.a.createElement("div",{className:_.a.label},Object(m.a)("add_a_msg")),p.a.createElement(M,null,l("note")(p.a.createElement(u.a,null))),2===E&&p.a.createElement("div",{className:_.a.tips},p.a.createElement("span",{style:{fontWeight:"bold"}},Object(m.a)("notice"),":")," ",Object(m.a)("transfer_tips",O)),p.a.createElement("div",null,p.a.createElement(a.a,{type:"primary",loading:h,className:"btn",htmlType:"submit"},Object(m.a)("send")," ",A===x?"".concat(T," ").concat(x):"".concat(R," ").concat(d)))))}},{key:"render",value:function(){var t=this.props,e=t.signing,r=t.broadcasting,n=t.loading;return e?p.a.createElement(o.a,{tip:"Signing..."},this.renderForm()):r?p.a.createElement(o.a,{tip:"Broadcasting..."},this.renderForm()):n?p.a.createElement(o.a,null,this.renderForm()):this.renderForm()}}])&&R(e.prototype,r),n&&R(e,n),d}(h.Component))||s)||s)||s)}}]);