(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1125:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g}));n(1144);var a=n(3),r=n.n(a),o=n(60),c=n.n(o),i=n(284);window.location;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?("string"==typeof e&&/^\d+$/.test(e)&&(e=parseInt(e,10)),r()(e).format(t)):e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!e)return"";var n=e;"number"==typeof e?n=new Date(e):"string"==typeof e&&(n=new Date(+e));var a={"y+":n.getFullYear(),"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var r in a)if(new RegExp("("+r+")").test(t))if("y+"===r)t=t.replace(RegExp.$1,(""+a[r]).substr(4-RegExp.$1.length));else if("S+"===r){var o=RegExp.$1.length;o=1===o?3:o,t=t.replace(RegExp.$1,("00"+a[r]).substr((""+a[r]).length-1,o))}else t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length));return t}var u=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;function p(e){return!!e&&u.test(e)}function f(e){if(!e)return e;if(!parseFloat(e))return 0;for(var t="",n=0,a=(e=(e||0).toString()).split("."),r=a[0],o=r.length-1;o>=0;o--)n++,t=r.charAt(o)+t,n%3||0==o||(t=","+t);return 1===a.length?t:t+"."+a[1]}function m(){return Array.prototype.slice.call(arguments).join(" ")}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,7];if(e)return e.length<t[0]+t[1]?e:e.substr(0,t[0])+"****"+e.substr(-t[1],t[1])}var y,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e)return 0;var n=e.toString().split(".");return e.toString().indexOf("e")>-1||n[1]&&n[1].length>t?c()(e).toFixed(t):e},h=function(e){return c()(e).div(1e8).toString()},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return c()(e).div(Math.pow(10,t)).toString()},g=function(){var e=i.a.findIndex((function(e){return"usd"===e.currencyCode.toLowerCase()})),t=window.localStorage.getItem("VoltLocalCurrencyIndex")||e,n=i.a[t];return n||(window.localStorage.removeItem("VoltLocalCurrencyIndex"),n=i.a[e]),n};function O(e,t,n,a,r){!function(e,t,n,a,r,o){if(e>n||e<t){var c,i="bigint"==typeof t?"n":"";throw c=o>3?0===t||t===BigInt(0)?">= 0".concat(i," and < 2").concat(i," ** ").concat(8*(o+1)).concat(i):">= -(2".concat(i," ** ").concat(8*(o+1)-1).concat(i,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(i):">= ".concat(t).concat(i," and <= ").concat(n).concat(i),new errors.ERR_OUT_OF_RANGE("value",c,e)}!function(e,t,n){E(t,"offset"),(void 0===e[t]||void 0===e[t+n])&&function(e,t,n){if(Math.floor(e)!==e)throw E(e,n),new errors.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new errors.ERR_BUFFER_OUT_OF_BOUNDS;throw new errors.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}(t,e.length-(n+1))}(a,r,o)}(t,a,r,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var c=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=c,c>>=8,e[n++]=c,c>>=8,e[n++]=c,c>>=8,e[n++]=c,n}function E(e,t){if("number"!=typeof e)throw new errors.ERR_INVALID_ARG_TYPE(t,"number",e)}e.prototype.writeBigUInt64LE=(y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"undefined"==typeof BigInt?BufferBigIntNotDefined:y)}).call(this,n(20).Buffer)},1144:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return i(e,t);return null},e.exports.format=i,e.exports.parse=s;var a=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},c=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function i(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),c=t&&t.thousandsSeparator||"",i=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var p=(e/o[u.toLowerCase()]).toFixed(s);return l||(p=p.replace(r,"$1")),c&&(p=p.replace(a,c)),p+i+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=c.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(o[a]*t)}},1148:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),c=n(165),i=(n(284),n(60)),s=n.n(i),l=n(15),u=n(1125);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(u.f)(),v=Object(c.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){d(e,t,n[t])}))}return e}({},e.wallet)}))(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.price,n=e.value,a=e.usd,r=e.exchangeRate,c=e.token,i=e.tokenAmount,u=l.t[c||1].name.toLowerCase();if(!t[u])return null;var p=null,f=h.currencyCode.toLowerCase();p=t[u][f]?t[u][f]:s()(t[u].usd).times(r[f]),a&&(p=s()(p).div(t[u].usd).multipliedBy(a));var m=0;return m=3===c?(m=(m=s()(n).times(p)).plus(i||0)).toFixed(2,1):s()(n).div(1e8).times(p).toFixed(2,1),o.a.createElement("span",null,h.symbol,m," ",h.currencyCode)}}])&&f(n.prototype,a),r&&f(n,r),t}(r.Component))||a;t.a=v},1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n.n(a),o=n(76),c=n(1050),i=n.n(c),s=n(15);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props.className||i.a.icon,t=this.props.token||1;return r.a.createElement("div",{className:e},r.a.createElement(o.a,{type:Object(s.n)(t).icon}))}}])&&u(n.prototype,a),c&&u(n,c),t}(a.Component)},1187:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n.n(a),o=n(1049),c=n.n(o);n(18),n(1143);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){s(o,a,r,c,i,"next",e)}function i(e){s(o,a,r,c,i,"throw",e)}c(void 0)}))}}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,f(t).call(this,e))).state={ready:!1},n}var n,a,o,i,s,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:(b=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentWallet();case 1:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getWalletId",value:function(e,t){if(void 0===t)for(var n=0;n<e.length;n++){t=e[n].id;break}return t}},{key:"currentWallet",value:(s=l(regeneratorRuntime.mark((function e(){var t,n,a,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.dispatch,a=t.match,r=this.props.currentWallet,o=a.params.id,r.id&&r.id===parseInt(o)){e.next=7;break}return e.next=6,n({type:"service/queryWalletById",payload:{wid:parseInt(o)}});case 6:r=e.sent;case 7:if(1!==r.type){e.next=13;break}if(r.address||r.deposit){e.next=13;break}return e.next=11,n({type:"service/createSingleWalletAddress",payload:{wid:o}});case 11:(c=e.sent)&&n({type:"wallet/saveCurrentAddress",payload:{address:c}});case 13:this.ready&&this.ready(parseInt(o));case 14:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getWalletDetail",value:(i=l(regeneratorRuntime.mark((function e(t){var n,a,r,o,c,i,s,l,u,p,f,m,b,y,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.dispatch,r=n.allWallets,o=n.currentWallet,c=n.ercTokenTimestamp,i=n.ercToken,n.bsvTokenTimestamp,n.bsvToken,s=r[t],o&&o.id==t&&(s=o),s){e.next=5;break}return e.abrupt("return");case 5:if(3===o.token&&i.length<1&&a({type:"wallet/queryErcToken",payload:{timestamp:c}}),s.parties&&!(s.parties.length<1)){e.next=11;break}return e.next=9,a({type:"wallet/queryParties",payload:{id:t}});case 9:l=e.sent,s.parties=l;case 11:if(s.paymail&&!(s.paymail.length<1)){e.next=16;break}return e.next=14,a({type:"service/queryPaymailById",payload:{wid:t}});case 14:u=e.sent,s.paymail=u;case 16:if(!(s.parties&&s.parties.length>0)){e.next=36;break}for(p=!0,f=!1,m=void 0,e.prev=20,b=s.parties[Symbol.iterator]();!(p=(y=b.next()).done);p=!0)(d=y.value).uid===s.uid&&(s.founder=d.user,s.founderId=d.uid);e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),f=!0,m=e.t0;case 28:e.prev=28,e.prev=29,p||null==b.return||b.return();case 31:if(e.prev=31,!f){e.next=34;break}throw m;case 34:return e.finish(31);case 35:return e.finish(28);case 36:a({type:"wallet/saveCurrent",payload:s});case 37:case"end":return e.stop()}}),e,this,[[20,24,28,36],[29,,31,35]])}))),function(e){return i.apply(this,arguments)})},{key:"loadTransactions",value:function(e){if(e&&-1!==e){var t=this.props,n=t.currentWallet,a=t.match.params.tk,r={wid:e};3===n.token&&(r.token=a||"eth"),this.props.dispatch({type:"service/queryTransaction",payload:r})}else this.props.dispatch({type:"wallet/saveTransaction",payload:{transactions:[]}})}},{key:"render",value:function(){return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.detail}))}}])&&u(n.prototype,a),o&&u(n,o),t}(a.Component)},1257:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(570);var a,r=n(292),o=(n(565),n(285)),c=n(1),i=n.n(c),s=n(165),l=n(1125),u=n(58),p=n(76),f=n(1065),m=n.n(f),b=n(18);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){d(o,a,r,c,i,"next",e)}function i(e){d(o,a,r,c,i,"throw",e)}c(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Object(s.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){w(e,t,n[t])}))}return e}({},t,n,{partiesLoading:a["wallet/queryParties"]||a["wallet/checkOnline"]||!1})}))(a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,O(t).call(this,e))).state={loading:!1},n}var n,a,c,s,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:(f=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkStatus();case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"checkStatus",value:(s=h(regeneratorRuntime.mark((function e(){var t,n,a,r,o,c,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,this.setState({loading:!0}),n.parties){e.next=5;break}return e.next=5,a({type:"wallet/queryParties",payload:{id:n.id}});case 5:if(0!==n.status){e.next=8;break}return e.next=8,a({type:"wallet/checkOnline",payload:{id:n.id,users:n.parties}});case 8:if(r=this.props,o=r.approve,c=r.txid,i=n.parties,!(o&&o.length>0)){e.next=15;break}return e.next=13,u.a.querySignDetail(c);case 13:s=e.sent,i.forEach((function(e,t){i[t].time="";for(var n=0;n<s.length;n++)e.uid===s[n].uid&&(i[t].time=s[n].createtime,i[t].status=s[n].status)}));case 15:this.setState({parties:i}),this.setState({loading:!1});case 17:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.currentWallet,n=e.visible,a=e.partiesLoading,c=e.cancel,s=e.approve,u=e.st,f=t.name,y=t.share,d=t.status,h=t.createtime,v=this.state,g=v.parties,O=v.loading;return i.a.createElement(r.a,{width:600,title:null,visible:n,footer:null,onCancel:c},i.a.createElement("div",{className:m.a.body},i.a.createElement("div",{className:m.a.title},"".concat(f," - ").concat(Object(b.a)("key_share_members"))),i.a.createElement("div",{className:m.a.desc},Object(b.a)("created_on")," ",Object(l.b)(h)," | ",y," ",Object(b.a)("members")," ",s&&"| ".concat(s.length," ").concat(Object(b.a)("signee_signed"))),i.a.createElement(o.a,{spinning:a||O},g&&g.map((function(e,t){var n=e.user,a=e.online,r=e.uid,o=e.time;if(n)return 0===d?i.a.createElement("div",{className:m.a.item,key:n},i.a.createElement(p.a,{type:a?"iconicon-keyshare-member-online":"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:m.a.no},t+1),i.a.createElement("span",{className:m.a.email},n),1===e.status?i.a.createElement("span",{className:m.a.joined},Object(b.a)("joined").toUpperCase()):i.a.createElement("span",{className:m.a.pending},Object(b.a)("pending").toUpperCase())):i.a.createElement("div",{className:m.a.item,key:n},a?i.a.createElement(p.a,{type:"iconicon-keyshare-member-online"}):i.a.createElement(p.a,{type:"iconicon-keyshare-member-offline"}),i.a.createElement("span",{className:m.a.no},t+1),i.a.createElement("span",{className:m.a.email},n),s&&i.a.createElement("span",{className:m.a.time},Object(l.b)(o)),s&&(s.indexOf(r)>-1?i.a.createElement("span",{className:m.a.signed},Object(b.a)("signed").toUpperCase()):i.a.createElement("span",{className:m.a.pending},Object(b.a)(2===u?"unsigned2":"unsigned").toUpperCase())))})))))}}])&&v(n.prototype,a),c&&v(n,c),t}(c.Component))||a},300:function(e,t,n){"use strict";n.r(t);n(565);var a,r,o,c=n(285),i=n(1),s=n.n(i),l=n(165),u=n(1049),p=n.n(u),f=n(287),m=(n(563),n(139)),b=(n(564),n(166)),y=(n(1154),n(1155)),d=n(69),h=n(1148),v=n(76),g=n(1152),O=n(1075),E=n.n(O),w=n(18),j=n(1125),k=n(15),_=n(1257);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){x(o,a,r,c,i,"next",e)}function i(e){x(o,a,r,c,i,"throw",e)}c(void 0)}))}}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=(a=y.a.create(),r=Object(l.connect)((function(e){var t=e.user,n=e.wallet,a=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){D(e,t,n[t])}))}return e}({},t,n,{loading:a["service/queryWalletById"]||a["service/updateWallet"]||a["wallet/save"]})})),Object(d.withRouter)(o=a(o=r(o=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=C(t).call(this,e),n=!r||"object"!==N(r)&&"function"!=typeof r?T(a):r,D(T(n),"gotoTransfer",(function(e,t){var a=n.props,r=a.history,o=a.match;3===e?r.push({pathname:"/money/transfer/".concat(e,"/").concat(t,"/").concat(o.params.tk||"eth")}):r.push({pathname:"/money/transfer/".concat(e,"/").concat(t)})})),D(T(n),"gotoInfoPage",(function(e){n.props.history.push({pathname:"/money/walletinfo/".concat(e)})})),D(T(n),"gotoReceive",(function(e){n.props.history.push({pathname:"/money/receive/".concat(e)})})),D(T(n),"switchDisplay",(function(){var e=n.state.hideAmount;n.props.dispatch({type:"user/switchDisplay"}),n.setState({hideAmount:!e})})),D(T(n),"showMembers",(function(){n.setState({visible:!0})})),D(T(n),"hideMembers",(function(){n.setState({visible:!1})})),D(T(n),"archived",S(regeneratorRuntime.mark((function e(){var t,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.currentWallet,a=t.id,r=t.type,e.next=3,n.props.dispatch({type:"service/archive",payload:{wid:parseInt(a)}});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")));case 6:if(401!==o.code){e.next=8;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("archiveWithoutPermission")));case 8:if(402!==o.code){e.next=10;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("hasBalance")));case 10:if(403!==o.code){e.next=12;break}return e.abrupt("return",b.a.error(Object(w.a)("failure")+Object(w.a)("hasPaymail")));case 12:return b.a.success(Object(w.a)("archived_success")),n.props.history.push({pathname:"/money/home/0"}),e.next=16,n.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(r)}});case 16:case"end":return e.stop()}}),e)})))),D(T(n),"getCurrentToken",(function(){var e=n.props,t=e.currentWallet,a=e.match,r=e.ercToken,o=e.bsvToken;if(t.balance){var c,i,s=a.params.tk,l=t.balance.balance;return 3==t.token?(s||(s="eth"),c=r.find((function(e){return e.tokenSymbol.toLowerCase()==s}))):1==t.token&&(s||(s="bsv"),c=o.find((function(e){return e.tokenSymbol.toLowerCase()==s}))),i=l.find((function(e){return e.token===s})),!c&&i?i:(c&&i&&Object.assign(c,i),c)}})),n.state={joining:!1,visible:!1,hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0},n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(a=[{key:"joinWallet",value:(i=S(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({joining:!0}),e.next=3,this.props.dispatch({type:"service/joinWallet",payload:{wid:t}});case 3:(n=e.sent)&&n.success?(this.props.dispatch({type:"service/queryWalletById",payload:{wid:t}}),this.updateWallet()):this.setState({joining:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"updateWallet",value:(o=S(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n=this.props.currentWallet.type,e.next=4,this.props.dispatch({type:"service/updateWallet",payload:{type:parseInt(n)}});case 4:return e.next=6,this.props.dispatch({type:"wallet/save",payload:{currentWallet:this.props.allWallets[t]}});case 6:this.setState({joining:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.currentWallet,a=t.match;if(t.loading)return s.a.createElement(f.a,null);if(!n||!n.id)return null;var r,o,i=n.id,l=n.share,u=(n.threshold,n.name),p=(n.type,n.founderId,n.joinStatus),b=n.founder,y=n.status,d=this.state,O=d.joining,N=d.hideAmount,x=d.visible,S=a.params.tk,P=n.token,C=n.total,T=null,R=3===P&&S&&"eth"!==S||1===P&&S&&"bsv"!==S;if(3===P){if(!n.balance)return null;var D=this.getCurrentToken();C=Object(j.a)(D.value,8),S&&"eth"!==S?(o=D.name,r=s.a.createElement("div",null,s.a.createElement("img",{src:D.logoURI,width:50,height:50}))):(o=Object(k.e)(P),r=s.a.createElement(g.a,{token:P}))}else if(1===P&&S&&"bsv"!==S){var I=this.getCurrentToken();if(!n.balance||!I)return null;C=Object(j.a)(I.value,8),o=I.name,r=s.a.createElement("div",null,s.a.createElement("img",{src:I.logoURI,width:50,height:50}))}else C=Object(j.d)(C),o=Object(k.e)(P),r=s.a.createElement(g.a,{token:P});0===p&&(W=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:E.a.join_warn},Object(w.a)("join_wallet_warn",b)),s.a.createElement("div",{className:E.a.join_tips},Object(w.a)("join_wallet_tips",l-1))),T=s.a.createElement("div",{className:E.a.btns},s.a.createElement(c.a,{spinning:O},s.a.createElement(m.a,{className:E.a.join_btn,onClick:function(){return e.joinWallet(i)}},O?Object(w.a)("processing"):Object(w.a)("join")))));var W=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:E.a.join_warn},Object(w.a)("owne_by",b)),s.a.createElement("div",{className:E.a.join_tips},Object(w.a)("member_tips",l-1)));if(0===parseInt(y))return s.a.createElement("div",{className:E.a.join_box},r,s.a.createElement("div",{className:E.a.wallet_name},u),W,s.a.createElement("div",{className:E.a.check_status,onClick:this.showMembers,style:{cursor:"pointer"}},Object(w.a)("check_status")," ",s.a.createElement(v.a,{type:"iconicon-keyshare-member-online"})),T,s.a.createElement("div",{className:E.a.archive},s.a.createElement("span",{className:E.a.archived,onClick:this.archived},Object(w.a)("archived_account"))),x&&s.a.createElement(_.a,{visible:x,cancel:this.hideMembers}));var A=N?s.a.createElement(v.a,{type:"iconhide"}):s.a.createElement(v.a,{type:"iconshow"});return s.a.createElement("div",{className:E.a.info_box},r,!R&&s.a.createElement("div",{className:E.a.wallet_name,onClick:function(){return e.gotoInfoPage(i)}},u," ",s.a.createElement("span",null,s.a.createElement(v.a,{type:"iconwallet-info"}))),s.a.createElement("div",{className:E.a.total},N?k.q:C," ",s.a.createElement("span",null,o),R&&s.a.createElement("span",{onClick:this.switchDisplay,className:E.a.show_balance},A)),!R&&s.a.createElement("div",{className:E.a.total_assets},s.a.createElement("span",{className:E.a.balance},N?k.q:s.a.createElement(h.a,{value:n.total,token:P})),s.a.createElement("span",{onClick:this.switchDisplay,className:E.a.show_balance},A)),s.a.createElement("div",{className:E.a.action},s.a.createElement("span",{className:E.a.transfer,onClick:function(){return e.gotoTransfer(P,i)}},s.a.createElement(v.a,{type:"iconicon-send"})," ",Object(w.a)("transfer")),s.a.createElement("span",{className:E.a.receive,onClick:function(){return e.gotoReceive(i)}},s.a.createElement(v.a,{type:"iconreceive"})," ",Object(w.a)("collection"))))}}])&&P(n.prototype,a),r&&P(n,r),t}(i.Component))||o)||o)||o),W=(n(68),n(1076),n(38)),A=n(301),M=n(23),B=n(94),q=n(162),Y=n(26);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},z=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=V(t).call(this,e),(n=!r||"object"!==L(r)&&"function"!=typeof r?H(a):r).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(H(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(H(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,r=a.okButtonProps,o=a.cancelButtonProps,c=a.title,s=a.cancelText,l=a.okText,u=a.okType,p=a.icon;return i.createElement("div",null,i.createElement("div",{className:"".concat(e,"-inner-content")},i.createElement("div",{className:"".concat(e,"-message")},p,i.createElement("div",{className:"".concat(e,"-message-title")},c)),i.createElement("div",{className:"".concat(e,"-buttons")},i.createElement(m.a,U({onClick:n.onCancel,size:"small"},o),s||t.cancelText),i.createElement(m.a,U({onClick:n.onConfirm,type:u,size:"small"},r),l||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,r=a.prefixCls,o=a.placement,c=G(a,["prefixCls","placement"]),s=t("popover",r),l=i.createElement(B.a,{componentName:"Popconfirm",defaultLocale:q.a.Popconfirm},(function(e){return n.renderOverlay(s,e)}));return i.createElement(A.a,U({},c,{prefixCls:s,placement:o,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:l,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),n=t,r=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return i.createElement(Y.a,null,this.renderConfirm)}}])&&F(n.prototype,a),r&&F(n,r),t}(i.Component);z.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i.createElement(M.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(W.polyfill)(z);var X,J,K=z,Q=n(1066),Z=n.n(Q);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){te(o,a,r,c,i,"next",e)}function i(e){te(o,a,r,c,i,"throw",e)}c(void 0)}))}}function ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se,le,ue=(X=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ie(e,t,n[t])}))}return e}({},e.user,e.wallet,{loading:e.loading.effects["service/queryTransaction"]})})),Object(d.withRouter)(J=X(J=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=re(t).call(this,e),n=!r||"object"!==ee(r)&&"function"!=typeof r?oe(a):r,ie(oe(n),"showSignee",(function(e){n.setState({visible:!0,currentTx:e})})),ie(oe(n),"hideSignee",(function(){n.setState({visible:!1})})),ie(oe(n),"gotoDetail",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;n.props.history.push({pathname:"/money/tx/".concat(t,"/").concat(e),state:{index:a}})})),n.state={showArr:[],hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0,visible:!1},n}var n,a,r,o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(a=[{key:"approveTransaction",value:(i=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/approveTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"cancelTransaction",value:(c=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/cancelTransaction",payload:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"refresh",value:(o=ne(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,n.id){e.next=3;break}return e.abrupt("return");case 3:return a({type:"service/queryTransaction",payload:{wid:n.id}}),e.next=6,a({type:"service/updateWallet",payload:{type:parseInt(n.type)}});case 6:a({type:"wallet/saveCurrent",payload:this.props.allWallets[n.id]});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"switchDetail",value:function(e){var t=this.state.showArr;t[e]=!t[e],this.setState({showArr:t})}},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.props.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this,t=this.props,n=t.transactions,a=(t.loading,t.userid),r=t.currentWallet,o=this.state,c=o.hideAmount,i=o.currentTx,l=o.visible;return r.id?s.a.createElement("div",{className:Z.a.history},n&&n.map((function(t,n){var o=t.id,i=t.type,l=t.value,u=t.status,p=t.user_status,f=t.txid,b=t.createtime,y=t.note,d=t.uid,g=t.parties,O=t.price,E=Object(j.d)(l),_=null,N=null,x=null,S="-",P="",C=null;2===i?2===u?(_=Object(w.a)("sent"),N=s.a.createElement(v.a,{type:"iconicon-send"}),x=s.a.createElement("label",{className:Z.a.success},Object(w.a)("tx_success")),P=Object(w.a)("success_desc","".concat(r.share))):3===u?(_=Object(w.a)("tran_cancel"),N=s.a.createElement(v.a,{type:"iconcancelled-red"}),C=Z.a.cancel_item):1===u&&(parseInt(d)===parseInt(a)?(_=Object(w.a)("pending_transaction"),N=s.a.createElement(v.a,{type:"iconoutgoing-cancel"}),x=s.a.createElement("label",{className:Z.a.pending},Object(w.a)("recall_tx")),P=Object(w.a)("pending_desc")):p.approve.indexOf(a)>-1?(_=Object(w.a)("signed"),N=s.a.createElement(v.a,{type:"iconicon-send"}),x=s.a.createElement("label",{className:Z.a.signed},Object(w.a)("signed").toUpperCase()),P=Object(w.a)("signed_desc","".concat(r.share-p.approve.length))):(_=Object(w.a)("not_signed_out"),N=s.a.createElement(v.a,{type:"iconpending-signed"}),x=s.a.createElement("label",{className:Z.a.unsigned},Object(w.a)("unsigned")),P=Object(w.a)("unsigned_desc"))):(_=Object(w.a)("collection"),N=s.a.createElement(v.a,{type:"iconreceive"}),S="+");var T=null;g&&g.forEach((function(e){e.uid===d&&(T=e.user)}));var R=null;1===u&&(t.action||(R=s.a.createElement(m.a,{type:"primary",className:Z.a.agree_btn,onClick:function(){e.approveTransaction(o)}},s.a.createElement(v.a,{type:"iconpendingsigning",style:{marginRight:10}}),Object(w.a)("sign_tx"))),String(d)===String(a)&&(R=s.a.createElement(K,{title:Object(w.a)("doubleCheckCancel"),onConfirm:function(){return e.cancelTransaction(o)},okText:Object(w.a)("ok"),cancelText:Object(w.a)("cancel")},s.a.createElement(m.a,{type:"primary",className:Z.a.cancel_btn},s.a.createElement(v.a,{type:"iconcancel",style:{marginRight:10}})," ",Object(w.a)("recall_cancel")))));var D=e.state,I=D.showArr,W=(D.visible,I[n]?s.a.createElement(v.a,{type:"iconchevron",style:{transform:"rotateX(180deg)"}}):s.a.createElement(v.a,{type:"iconchevron"})),A=I[n]?Z.a.showDetail:Z.a.hideDetail,M=Object(k.e)(r.token);return s.a.createElement("div",{className:Object(j.g)(Z.a.item_wrap,A,C),key:t.id},s.a.createElement("div",{className:Z.a.item},s.a.createElement("div",{className:Z.a.type},N," ",_),s.a.createElement("div",{className:Z.a.date},Object(j.b)(b,"MM.DD.YYYY")),s.a.createElement("div",{className:Z.a.amount},S," ",c?k.q:E),s.a.createElement("div",{className:Z.a.token},M),s.a.createElement("div",{className:Z.a.arrow,onClick:function(){return e.switchDetail(n)}},W)),2===r.type&&P&&s.a.createElement("div",{className:Z.a.item_desc},s.a.createElement("div",{className:Z.a.label},x),s.a.createElement("div",{className:Z.a.desc},P)),s.a.createElement("div",{className:Z.a.item_content},s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("address")),s.a.createElement("span",{className:Z.a.value},t.biz_data)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("time")),s.a.createElement("span",{className:Z.a.value},Object(j.b)(b,"MM.DD.YYYY @ HH:mm"))),T&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("originator")),s.a.createElement("span",{className:Z.a.value},T)),p&&p.approve.length>0&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("signees")),s.a.createElement("span",{className:Z.a.value},p.approve.length," ",Object(w.a)("signed"),". ",s.a.createElement("span",{className:Z.a.link,onClick:function(){return e.showSignee(t)}},Object(w.a)("check_signee")))),y&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("memo")),s.a.createElement("span",{className:Z.a.value},y)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},"TX Link"),s.a.createElement("span",{className:Z.a.value},Object(j.h)(f)," ",2===u?s.a.createElement("span",{onClick:function(){return e.gotoDetail(f,r.token,n)}},s.a.createElement(v.a,{type:"iconink"})):null)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("amount")),s.a.createElement("span",{className:Z.a.value},S," ",c?k.q:E," ",M," | ",S,c?k.q:s.a.createElement(h.a,{token:r.token,value:l,usd:O}))),s.a.createElement("div",{className:Z.a.action},R)))})),l&&s.a.createElement(_.a,{visible:l,cancel:this.hideSignee,approve:i.user_status.approve,txid:i.id,st:i.status})):s.a.createElement("div",{className:Z.a.nodata},Object(w.a)("nodata"))}}])&&ae(n.prototype,a),r&&ae(n,r),t}(i.Component))||J)||J);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){fe(o,a,r,c,i,"next",e)}function i(e){fe(o,a,r,c,i,"throw",e)}c(void 0)}))}}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge,Oe=(se=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ve(e,t,n[t])}))}return e}({},e.user,e.wallet,{loading:e.loading.effects["service/queryTransaction"]})})),Object(d.withRouter)(le=se(le=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=ye(t).call(this,e),n=!r||"object"!==pe(r)&&"function"!=typeof r?de(a):r,ve(de(n),"showSignee",(function(e){n.setState({visible:!0,currentTx:e})})),ve(de(n),"hideSignee",(function(){n.setState({visible:!1})})),ve(de(n),"gotoDetail",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;n.props.history.push({pathname:"/money/tx/".concat(t,"/").concat(e),state:{index:a,tk:n.props.match.params.tk}})})),n.state={showArr:[],hideAmount:window.localStorage.getItem(k.b.HIDEAMOUNT)||0,visible:!1},n}var n,a,r,o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),n=t,(a=[{key:"approveTransaction",value:(i=me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/approveTransaction",payload:{id:t,token:"eth"}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"cancelTransaction",value:(c=me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch({type:"service/cancelTransaction",payload:{id:t,token:"eth"}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"refresh",value:(o=me(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.currentWallet,a=t.dispatch,r=t.match,n.id){e.next=3;break}return e.abrupt("return");case 3:return a({type:"service/queryTransaction",payload:{wid:n.id,token:r.params.tk||"eth"}}),e.next=6,a({type:"service/updateWallet",payload:{type:parseInt(n.type)}});case 6:a({type:"wallet/saveCurrent",payload:this.props.allWallets[n.id]});case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"switchDetail",value:function(e){var t=this.state.showArr;t[e]=!t[e],this.setState({showArr:t})}},{key:"componentWillReceiveProps",value:function(e){e.hideAmount!==this.props.hideAmount&&this.setState({hideAmount:e.hideAmount})}},{key:"render",value:function(){var e=this,t=this.props,n=t.transactions,a=(t.loading,t.userid),r=t.currentWallet,o=t.match,c=this.state,i=c.hideAmount,l=c.currentTx,u=c.visible,p=o.params.tk,f=void 0===p?"eth":p;return!r.id||n.length<1?s.a.createElement("div",{className:Z.a.nodata},Object(w.a)("nodata")):s.a.createElement("div",{className:Z.a.history},n&&n.map((function(t,n){var o=t.id,c=t.type,l=t.value,u=t.status,p=t.user_status,b=t.txid,y=t.createtime,d=t.note,g=t.uid,O=t.parties,E=t.price,_=t.gas,N=Object(j.a)(l),x=null,S=null,P=null,C="-",T="",R=null;2===c?2===u?(x=Object(w.a)("sent"),S=s.a.createElement(v.a,{type:"iconicon-send"}),P=s.a.createElement("label",{className:Z.a.success},Object(w.a)("tx_success")),T=Object(w.a)("success_desc","".concat(r.share))):3===u?(x=1===r.type?Object(w.a)("tx_failed"):Object(w.a)("tran_cancel"),S=s.a.createElement(v.a,{type:"iconcancelled-red"}),R=Z.a.cancel_item):5===u?(x=Object(w.a)("tx_confirming"),S=s.a.createElement(v.a,{type:"iconoutgoing-cancel"}),P=s.a.createElement("label",{className:Z.a.success},Object(w.a)("tx_confirming")),T=Object(w.a)("tx_confirming")):1===u?1===r.type?(x=Object(w.a)("tx_confirming"),S=s.a.createElement(v.a,{type:"iconoutgoing-cancel"})):parseInt(g)===parseInt(a)?(x=Object(w.a)("pending_transaction"),S=s.a.createElement(v.a,{type:"iconoutgoing-cancel"}),P=s.a.createElement("label",{className:Z.a.pending},Object(w.a)("recall_tx")),T=Object(w.a)("pending_desc")):p&&p.approve.indexOf(a)>-1?(x=Object(w.a)("signed"),S=s.a.createElement(v.a,{type:"iconicon-send"}),P=s.a.createElement("label",{className:Z.a.signed},Object(w.a)("signed").toUpperCase()),T=Object(w.a)("signed_desc","".concat(r.share-p.approve.length))):(x=Object(w.a)("not_signed_out"),S=s.a.createElement(v.a,{type:"iconpending-signed"}),P=s.a.createElement("label",{className:Z.a.unsigned},Object(w.a)("unsigned")),T=Object(w.a)("unsigned_desc")):6!==u&&7!==u||2===r.type&&(x=Object(w.a)("tx_failed"),S=s.a.createElement(v.a,{type:"iconcancelled-red"}),R=Z.a.cancel_item):(x=Object(w.a)("collection"),S=s.a.createElement(v.a,{type:"iconreceive"}),C="+");var D=null;O&&O.forEach((function(e){e.uid===g&&(D=e.user)}));var I=null;1===u&&(t.action||(I=s.a.createElement(m.a,{type:"primary",className:Z.a.agree_btn,onClick:function(){e.approveTransaction(o)}},s.a.createElement(v.a,{type:"iconpendingsigning",style:{marginRight:10}}),Object(w.a)("sign_tx"))),String(g)===String(a)&&(I=s.a.createElement(K,{title:Object(w.a)("doubleCheckCancel"),onConfirm:function(){return e.cancelTransaction(o)},okText:Object(w.a)("ok"),cancelText:Object(w.a)("cancel")},s.a.createElement(m.a,{type:"primary",className:Z.a.cancel_btn},s.a.createElement(v.a,{type:"iconcancel",style:{marginRight:10}})," ",Object(w.a)("recall_cancel")))));var W=e.state,A=W.showArr,M=(W.visible,A[n]?s.a.createElement(v.a,{type:"iconchevron",style:{transform:"rotateX(180deg)"}}):s.a.createElement(v.a,{type:"iconchevron"})),B=A[n]?Z.a.showDetail:Z.a.hideDetail;return s.a.createElement("div",{className:Object(j.g)(Z.a.item_wrap,B,R),key:t.id},s.a.createElement("div",{className:Z.a.item},s.a.createElement("div",{className:Z.a.type},S," ",x),s.a.createElement("div",{className:Z.a.date},Object(j.b)(y,"MM.DD.YYYY")),s.a.createElement("div",{className:Z.a.amount},C," ",i?k.q:N),s.a.createElement("div",{className:Z.a.token},f.toUpperCase()),s.a.createElement("div",{className:Z.a.arrow,onClick:function(){return e.switchDetail(n)}},M)),2===r.type&&T&&s.a.createElement("div",{className:Z.a.item_desc},s.a.createElement("div",{className:Z.a.label},P),s.a.createElement("div",{className:Z.a.desc},T)),s.a.createElement("div",{className:Z.a.item_content},s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("eth_from")),s.a.createElement("span",{className:Z.a.value},t.from)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("eth_to")),s.a.createElement("span",{className:Z.a.value},t.to)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("time")),s.a.createElement("span",{className:Z.a.value},Object(j.b)(y,"MM.DD.YYYY @ HH:mm"))),D&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("originator")),s.a.createElement("span",{className:Z.a.value},D)),p&&p.approve.length>0&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("signees")),s.a.createElement("span",{className:Z.a.value},p.approve.length," ",Object(w.a)("signed"),". ",s.a.createElement("span",{className:Z.a.link,onClick:function(){return e.showSignee(t)}},Object(w.a)("check_signee")))),d&&s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("memo")),s.a.createElement("span",{className:Z.a.value},d)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},"TX Link"),s.a.createElement("span",{className:Z.a.value},Object(j.h)(b)," ",2===u||1===r.type?s.a.createElement("span",{onClick:function(){return e.gotoDetail(b,r.token,n)}},s.a.createElement(v.a,{type:"iconink"})):null)),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("amount")),s.a.createElement("span",{className:Z.a.value},C," ",i?k.q:N," ",f.toUpperCase(),"eth"===f&&s.a.createElement(s.a.Fragment,null,"| ",C,i?k.q:s.a.createElement(h.a,{token:r.token,value:l,usd:E})))),s.a.createElement("div",{className:Z.a.m_item},s.a.createElement("span",{className:Z.a.label},Object(w.a)("gas")),s.a.createElement("span",{className:Z.a.value},_," ETH")),2===r.type&&s.a.createElement("div",{className:Z.a.action},I)))})),u&&s.a.createElement(_.a,{visible:u,cancel:this.hideSignee,approve:l.user_status.approve,txid:l.id,st:l.status}))}}])&&be(n.prototype,a),r&&be(n,r),t}(i.Component))||le)||le),Ee=n(1187);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return Pe}));var Pe=Object(l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Se(e,t,n[t])}))}return e}({},e.wallet,{txLoading:e.loading.effects["service/queryTransaction"]})}))(ge=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return a=this,r=(e=_e(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==we(r)&&"function"!=typeof r?Ne(a):r,Se(Ne(n),"goList",(function(){var e=n.props,t=e.currentWallet,a=e.history,r=t.type,o=t.token,c=t.id,i=t.status;3===o&&1===i?a.push({pathname:"/money/eth/".concat(c)}):a.push({pathname:"/money/home/".concat(r)})})),n}var n,a,r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(a=[{key:"ready",value:(o=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),this.loadTransactions(t),e.next=4,this.getWalletDetail(t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=o.apply(e,t);function c(e){je(r,n,a,c,i,"next",e)}function i(e){je(r,n,a,c,i,"throw",e)}c(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.currentWallet,a=t.txLoading;return e=n&&0==n.status?null:a?s.a.createElement(c.a,null):s.a.createElement("div",{className:p.a.history},3===n.token?s.a.createElement(Oe,null):s.a.createElement(ue,null)),s.a.createElement("div",{className:p.a.container},s.a.createElement("div",{className:p.a.detail},s.a.createElement(c.a,{spinning:this.state.loading},s.a.createElement("div",{className:p.a.wallet_info},s.a.createElement(I,{history:this.props.history}))),s.a.createElement("span",{className:p.a.goback,onClick:this.goList}," ",Object(w.a)("back")),e))}}])&&ke(n.prototype,a),r&&ke(n,r),t}(Ee.a))||ge}}]);