(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1117:function(e,t,r){"use strict";r.r(t);r(1845);var n,o=r(1866),i=r(1),a=r.n(i),c=r(1051),s=r.n(c),u=r(18),l=r(15),f=(r(563),r(139)),h=(r(1153),r(1156)),p=(r(564),r(166)),v=(r(1154),r(1155)),d=r(165);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=v.a.Item,j={labelCol:{span:3},wrapperCol:{span:16}},E=(v.a.create()(n=Object(d.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}({},e.user)}))(n=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=this,o=(e=w(t)).call.apply(e,[this].concat(a)),r=!o||"object"!==y(o)&&"function"!=typeof o?_(n):o,S(_(r),"handleSubmit",(function(e){e.preventDefault();var t=r.props,n=t.form,o=t.recoverCallback;n.validateFields(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(console.log("Received values of form: ",r),p.a.success(Object(u.a)("recover_account_title")),o&&o(r.seed));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){g(i,n,o,a,c,"next",e)}function c(e){g(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())})),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(v.a,m({onSubmit:this.handleSubmit},j),a.a.createElement(k,{label:Object(u.a)("mnemonic")},e("seed",{rules:[{required:!0}]})(a.a.createElement(h.a.TextArea,{rows:3,style:{width:650},placeholder:Object(u.a)("mnemonic_placeholder")}))),a.a.createElement("div",{className:"btn_wrap"},a.a.createElement(f.a,{className:"btn",type:"primary",htmlType:"submit"},Object(u.a)("recover"))))}}])&&b(r.prototype,n),o&&b(r,o),t}(i.Component))||n),r(1846)),P=r(1847);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",(function(){return W}));var R=window.localStorage,L=window.sessionStorage,B=o.a.TabPane,H=l.b.TOKEN,$=l.b.SEED,D=l.b.PRIVACY,W=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=I(t).call(this,e),r=!o||"object"!==C(o)&&"function"!=typeof o?A(n):o,T(A(r),"changeTab",(function(e){})),T(A(r),"recoverCallback",(function(e){R.setItem($,e),R.removeItem(D),L.removeItem($),L.removeItem(H),setTimeout((function(){r.props.history.push({pathname:"/user/login"})}),2e3)})),T(A(r),"backSignIn",(function(){r.props.history.push({pathname:"/user/signin"})})),L.getItem(H)||r.backSignIn(),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:s.a.container},a.a.createElement("div",{className:"logo"},a.a.createElement("i",{className:"iconfont"},"î™…")),a.a.createElement("h3",{className:s.a.title},Object(u.a)("recover_old_wallet")),a.a.createElement(o.a,{defaultActiveKey:"1",onChange:this.changeTab},a.a.createElement(B,{tab:Object(u.a)("recover_with_backup"),key:"1"},a.a.createElement(P.a,{recoverCallback:this.recoverCallback})),a.a.createElement(B,{tab:Object(u.a)("backup_lost"),key:"2"},a.a.createElement(E.a,{recoverCallback:this.recoverCallback,backSignIn:this.backSignIn}))))}}])&&x(r.prototype,n),i&&x(r,i),t}(i.Component)},1405:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n,o,i,a,c=c||function(e,t){var r={},n=r.lib={},o=function(){},i=n.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(r[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<r.length)for(o=0;o<e;o+=4)t[n+o>>>2]=r[o>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new a.init(r,t)}}),c=r.enc={},s=c.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=c.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},l=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,c=o/(4*i);if(t=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*i,o=e.min(4*t,o),t){for(var s=0;s<t;s+=i)this._doProcessBlock(n,s);s=n.splice(0,t),r.sigBytes-=o}return new a.init(s,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}});var h=r.algo={};return r}(Math);function s(e,t,r){return result=Array(),result.push(.299*e+.587*t+.114*r),result.push(128-.168736*e-.331264*t+.5*r),result.push(128+.5*e-.418688*t-.081312*r),result}function u(e,t,r){return result=Array(),result.push(e+1.402*(r-128)),result.push(e-.344136*(t-128)-.714136*(r-128)),result.push(e+1.772*(t-128)),result}function l(e,t,r){for(var n,o=0,i=0,a=1;a<20;a++)i+=e.charCodeAt(a);o+=41943e4*i,i=0;for(a=30;a<50;a++)i+=e.charCodeAt(a);o+=4194e3*i,i=0;for(a=70;a<90;a++)i+=e.charCodeAt(a);o+=41940*i,i=0;for(a=100;a<110;a++)i+=e.charCodeAt(a);o+=419*i;for(a=20;a<29;a++)o+=e.charCodeAt(a);for(a=90;a<99;a++)o+=e.charCodeAt(a);for(o%=t;n=o,-1!=r.indexOf(n);)o=(o+1)%t;return r.push(o),o}function f(e,t){return(t=void 0!==t&&t)?function(e){result=Array();for(var t=0;t<64;t++)result.push(Array());for(var r=0;r<3;r++)for(var n=0;n<8;n++)for(var o=0;o<8;o++){for(var i=0,a=0;a<8;a++)for(var c=0;c<8;c++){i+=(0==a?1/Math.sqrt(2):1)*(0==c?1/Math.sqrt(2):1)*e[8*a+c][r]*Math.cos((2*n+1)*a*Math.PI/16)*Math.cos((2*o+1)*c*Math.PI/16)}result[8*n+o].push(.25*i)}return result}(e):function(e){result=Array();for(var t=0;t<64;t++)result.push(Array());for(var r=0;r<3;r++)for(var n=0;n<8;n++)for(var o=0;o<8;o++){for(var i=0==n?1/Math.sqrt(2):1,a=0==o?1/Math.sqrt(2):1,c=0,s=0;s<8;s++)for(var u=0;u<8;u++)c+=e[8*s+u][r]*Math.cos((2*s+1)*n*Math.PI/16)*Math.cos((2*u+1)*o*Math.PI/16);result[8*n+o].push(.25*i*a*c)}return result}(e)}function h(e,t,r){for(var n=Math.floor(t/8),o=Math.floor(r/8),i=Array(),a=0;a<o;a++)for(var c=0;c<n;c++){for(var u=Array(),l=0;l<8;l++)for(var h=0;h<8;h++)u.push(s(e[4*((8*a+l)*t+8*c+h)],e[4*((8*a+l)*t+8*c+h)+1],e[4*((8*a+l)*t+8*c+h)+2]));i.push(f(u))}return i}function p(e,t,r,n){switch(n=void 0===n?0:parseInt(n)){case 1:return w(e,t,r,!0,11,15);case 2:return w(e,t,r,!0,9,20);case 3:return w(e,t,r,!0,5,30);case 4:return w(e,t,r,!0,5,35);case 5:return w(e,t,r,!0,5,50);case 0:default:return w(e,t,r)}}function v(e){for(var t=function(e){var t,r,n=[],o=0;e=encodeURI(e),t=e.length;for(;o<t;)r=e[o],o+=1,"%"!==r?n.push(r.charCodeAt(0)):(r=e[o]+e[o+1],n.push(parseInt(r,16)),o+=2);return n}(e),r=Array(),n=t.length,o=0;o<n;o++)for(var i=128;i>0;i=Math.floor(i/2))Math.floor(t[o]/i)?(r.push(!0),t[o]-=i):r.push(!1);return r}function d(e){return e%2==1?e-1:e}function y(e){return e%2==1?e:e+1}function m(e,t){var r=Math.floor(e/t);return r%2==1?r*t:(r+1)*t}function g(e,t){var r=Math.floor(e/t);return r%2==1?(r-1)*t:r*t}function b(e,t,r,n){var o=v(t);if((o.length+24)*n>e)return alert("TEXT TOO LONG!"),null;var i=function(e){for(var t=Array(),r=0;r<e;r++)t.push(!!Math.floor(2*Math.random()));return t}(e),a=o.length;r=String(c.SHA512(r));for(var s=Array(),u=e,f=0;f<a;f++)for(var h=0;h<n;h++)i[l(r,u,s)]=o[f],r=String(c.SHA512(r));for(h=0;h<24;h++)for(f=0;f<n;f++)i[l(r,u,s)]=!0,r=String(c.SHA512(r));return i}function w(e,t,r,n,o,i){n=void 0!==n&&n,r=void 0===r?"":r,o=void 0===o?5:o,i=void 0===i?30:i;var a=e,c=a.getContext("2d"),s=c.getImageData(0,0,a.width,a.height),l=n?h(s.data,a.width,a.height):null,p=n?3*l.length:3*Math.floor(s.data.length/4),v=b(p,t,r,n?o:1);return null==v?null:(n?function(e,t,r,n,o,i){t.length;for(var a=o.length/3,c=0;c<a;c++)t[c][0][0]=o[3*c]?m(t[c][0][0],i):g(t[c][0][0],i),t[c][0][1]=o[3*c+1]?m(t[c][0][1],i):g(t[c][0][1],i),t[c][0][2]=o[3*c+2]?m(t[c][0][2],i):g(t[c][0][2],i);for(var s,l=Math.floor(r/8),h=Math.floor(n/8),p=(Array(),0),v=0;v<h;v++)for(var d=0;d<l;d++){var y=f(t[p],!0);for(c=0;c<8;c++)for(var b=0;b<8;b++)for(var w=u(y[8*c+b][0],y[8*c+b][1],y[8*c+b][2]),_=0;_<3;_++)e[4*((8*v+c)*r+8*d+b)+_]=(s=w[_],(s=(s=Math.round(s))>255?255:s)<0?0:s);p++}for(c=0;c<e.length;c+=4)e[c+3]=255}(s.data,l,a.width,a.height,v,i):function(e,t){for(var r=0,n=0;n<e.data.length;n+=4)e.data[n]=t[r]?y(e.data[n]):d(e.data[n]),e.data[n+1]=t[r+1]?y(e.data[n+1]):d(e.data[n+1]),e.data[n+2]=t[r+2]?y(e.data[n+2]):d(e.data[n+2]),e.data[n+3]=255,r+=3}(s,v),c.putImageData(s,0,0),1)}o=(n=c).lib,i=o.Base,a=o.WordArray,(n=n.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return a.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),function(){function e(){return n.create.apply(n,arguments)}for(var t=c,r=t.lib.Hasher,n=(i=t.x64).Word,o=i.WordArray,i=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=e();i=i.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(f=this._hash.words)[0],n=f[1],o=f[2],i=f[3],c=f[4],u=f[5],l=f[6],f=f[7],h=r.high,p=r.low,v=n.high,d=n.low,y=o.high,m=o.low,g=i.high,b=i.low,w=c.high,_=c.low,O=u.high,S=u.low,k=l.high,j=l.low,E=f.high,P=f.low,C=h,x=p,I=v,A=d,M=y,T=m,R=g,L=b,B=w,H=_,$=O,D=S,W=k,N=j,q=E,F=P,U=0;80>U;U++){var K=s[U];if(16>U)var V=K.high=0|e[t+2*U],z=K.low=0|e[t+2*U+1];else{V=((z=(V=s[U-15]).high)>>>1|(X=V.low)<<31)^(z>>>8|X<<24)^z>>>7;var X=(X>>>1|z<<31)^(X>>>8|z<<24)^(X>>>7|z<<25),Q=((z=(Q=s[U-2]).high)>>>19|(G=Q.low)<<13)^(z<<3|G>>>29)^z>>>6,G=(G>>>19|z<<13)^(G<<3|z>>>29)^(G>>>6|z<<26),J=(z=s[U-7]).high,Z=(Y=s[U-16]).high,Y=Y.low;V=(V=(V=V+J+((z=X+z.low)>>>0<X>>>0?1:0))+Q+((z=z+G)>>>0<G>>>0?1:0))+Z+((z=z+Y)>>>0<Y>>>0?1:0);K.high=V,K.low=z}J=B&$^~B&W,Y=H&D^~H&N,K=C&I^C&M^I&M;var ee=x&A^x&T^A&T,te=(X=(C>>>28|x<<4)^(C<<30|x>>>2)^(C<<25|x>>>7),Q=(x>>>28|C<<4)^(x<<30|C>>>2)^(x<<25|C>>>7),(G=a[U]).high),re=G.low;Z=q+((B>>>14|H<<18)^(B>>>18|H<<14)^(B<<23|H>>>9))+((G=F+((H>>>14|B<<18)^(H>>>18|B<<14)^(H<<23|B>>>9)))>>>0<F>>>0?1:0),q=W,F=N,W=$,N=D,$=B,D=H,B=R+(Z=(Z=(Z=Z+J+((G=G+Y)>>>0<Y>>>0?1:0))+te+((G=G+re)>>>0<re>>>0?1:0))+V+((G=G+z)>>>0<z>>>0?1:0))+((H=L+G|0)>>>0<L>>>0?1:0)|0,R=M,L=T,M=I,T=A,I=C,A=x,C=Z+(K=X+K+((z=Q+ee)>>>0<Q>>>0?1:0))+((x=G+z|0)>>>0<G>>>0?1:0)|0}p=r.low=p+x,r.high=h+C+(p>>>0<x>>>0?1:0),d=n.low=d+A,n.high=v+I+(d>>>0<A>>>0?1:0),m=o.low=m+T,o.high=y+M+(m>>>0<T>>>0?1:0),b=i.low=b+L,i.high=g+R+(b>>>0<L>>>0?1:0),_=c.low=_+H,c.high=w+B+(_>>>0<H>>>0?1:0),S=u.low=S+D,u.high=O+$+(S>>>0<D>>>0?1:0),j=l.low=j+N,l.high=k+W+(j>>>0<N>>>0?1:0),P=f.low=P+F,f.high=E+q+(P>>>0<F>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(i),t.HmacSHA512=r._createHmacHelper(i)}()},1846:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return M}));r(565);var n,o=r(285),i=(r(563),r(139)),a=(r(1153),r(1156)),c=(r(564),r(166)),s=(r(1154),r(1155)),u=r(1),l=r.n(u),f=r(165),h=r(5),p=r(1446),v=r.n(p),d=r(1051),y=r.n(d),m=r(18),g=r(15);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_(i,n,o,a,c,"next",e)}function c(e){_(i,n,o,a,c,"throw",e)}a(void 0)}))}}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=s.a.Item,x={labelCol:{span:8},wrapperCol:{span:16}},I=window.sessionStorage;function A(e){var t=v.a.combine(e);return v.a.hex2str(t)}var M=s.a.create()(n=Object(f.connect)((function(e){var t=e.user,r=e.loading.effects;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){P(e,t,r[t])}))}return e}({},t,{loading:r["user/requestRecover"]||r["user/recover"]})}))(n=function(t){function r(t){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o=this,i=k(r).call(this,t),n=!i||"object"!==b(i)&&"function"!=typeof i?j(o):i,P(j(n),"getCode",O(regeneratorRuntime.mark((function e(){var t,r,o,i,a,s,u,l,f,h,p,v,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.trustee,o=t.dispatch,i=t.backSignIn,!((a=t.userTrustee).length<1)){e.next=4;break}return c.a.error(Object(m.a)("visit_expired")),e.abrupt("return",i&&i());case 4:s=!0,u=I.getItem(g.b.TOKEN),l=!0,f=!1,h=void 0,e.prev=9,p=r[Symbol.iterator]();case 11:if(l=(v=p.next()).done){e.next=21;break}if(d=v.value,!(a.indexOf(d.id.toString())>-1)){e.next=18;break}return e.next=16,o({type:"user/requestRecover",payload:{token:u,pubkey:n.pubkey,trustee:d.name}});case 16:!0!==e.sent&&(s=!1);case 18:l=!0,e.next=11;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(9),f=!0,h=e.t0;case 27:e.prev=27,e.prev=28,l||null==p.return||p.return();case 30:if(e.prev=30,!f){e.next=33;break}throw h;case 33:return e.finish(30);case 34:return e.finish(27);case 35:s?(n.setState({getCode:!0}),y=window.sessionStorage.getItem(g.b.EMAIL),c.a.success(Object(m.a)("send_code_tips",y))):(c.a.error(Object(m.a)("visit_expired")),window.sessionStorage.removeItem(g.b.TOKEN),i&&i());case 36:case"end":return e.stop()}}),e,null,[[9,23,27,35],[28,,30,34]])})))),P(j(n),"handleSubmit",(function(t){t.preventDefault();var r=n.props,o=r.form,i=r.trustee,a=r.recoverCallback,s=r.dispatch,u=r.userTrustee;o.validateFields(function(){var t=O(regeneratorRuntime.mark((function t(r,o){var l,f,p,v,d,y,b,w,_,O,S,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=36;break}console.log("Received values of form: ",o),l=[],f=I.getItem(g.b.TOKEN),p=!0,v=!1,d=void 0,t.prev=7,y=i[Symbol.iterator]();case 9:if(p=(b=y.next()).done){t.next=20;break}if(w=b.value,!(u.indexOf(w.id.toString())>-1)){t.next=17;break}return t.next=14,s({type:"user/recover",payload:{token:f,trustee:w.name,code:o.code}});case 14:(_=t.sent).code&&c.a.error(Object(m.a)("invalid_code_title")),_&&(O=Object(h.computeSecret)(n.privkey.toHex(),w.publicKey),S=e.from(_,"hex"),l.push(Object(h.decrypt)(O,S).toString()));case 17:p=!0,t.next=9;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(7),v=!0,d=t.t0;case 26:t.prev=26,t.prev=27,p||null==y.return||y.return();case 29:if(t.prev=29,!v){t.next=32;break}throw d;case 32:return t.finish(29);case 33:return t.finish(26);case 34:k=A(l),l.length<2?c.a.error(Object(m.a)("invalid_code_title")):(c.a.success(Object(m.a)("recover_account_title")),a&&a(k));case 36:case"end":return t.stop()}}),t,null,[[7,22,26,34],[27,,29,33]])})));return function(e,r){return t.apply(this,arguments)}}())})),n.privkey=new h.PrivateKey,n.pubkey=n.privkey.toPublicKey().toHex(),n.state={getCode:!1},n}var n,u,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(r,t),n=r,(u=[{key:"render",value:function(){var e=this,t=this.props,r=t.form,n=t.loading,c=r.getFieldDecorator,u=void 0!==n&&n;return l.a.createElement(o.a,{spinning:u},l.a.createElement(s.a,w({onSubmit:function(t){return e.handleSubmit(t)}},x),l.a.createElement("p",{className:y.a.form_note},"Tips: ",Object(m.a)("maxthon_code_tips")),l.a.createElement("div",{className:y.a.email_account},l.a.createElement(C,{label:Object(m.a)("maxthon_code")},c("code",{rules:[{required:!0}]})(l.a.createElement(a.a,{style:{width:350},placeholder:Object(m.a)("input_email_code")})),l.a.createElement(i.a,{className:"btn_short",type:"primary",onClick:function(){return e.getCode()}},Object(m.a)("get_code")))),l.a.createElement("div",{className:"btn_wrap"},this.state.getCode&&l.a.createElement(i.a,{className:"btn",type:"primary",htmlType:"submit"},Object(m.a)("recover")))))}}])&&S(n.prototype,u),f&&S(n,f),r}(u.Component))||n)||n}).call(this,r(20).Buffer)},1847:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return O}));r(563);var n,o=r(139),i=(r(564),r(166)),a=(r(1154),r(1155)),c=r(1),s=r.n(c),u=r(165),l=r(1184),f=r.n(l),h=r(18),p=(r(1405),r(15)),v=r(5),d=r(1848);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=a.a.create()(n=Object(u.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}({},e.user)}))(n=function(t){function r(){var t,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return o=this,a=(t=g(r)).call.apply(t,[this].concat(s)),n=!a||"object"!==y(a)&&"function"!=typeof a?b(o):a,_(b(n),"state",{seed:""}),_(b(n),"encodeSeed",(function(t){var r=window.sessionStorage.getItem(p.b.SECRET),o=f()(r),a="";try{a=Object(v.decrypt)(o,e.from(t,"hex")).toString(),n.setState({seed:a})}catch(e){i.a.error(Object(h.a)("recover_photo_error"))}})),_(b(n),"uploadImage",(function(e){var t=e.target.files[0];t&&d.a.scanImage(t).then((function(e){n.encodeSeed(e)})).catch((function(e){console.log(e||"No QR code found.")}))})),_(b(n),"recover",(function(){var e=n.props.recoverCallback;i.a.success(Object(h.a)("recover_account_title")),e&&e(n.state.seed)})),n}var n,c,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,t),n=r,(c=[{key:"render",value:function(){var e=this;return s.a.createElement(a.a,{onSubmit:this.handleSubmit},s.a.createElement("div",{style:S.wrap1},s.a.createElement("input",{type:"file",id:"file-selector",accept:"image/*",onChange:function(t){return e.uploadImage(t)}})),s.a.createElement("div",{style:S.wrap},s.a.createElement(o.a,{className:"btn",type:"primary",onClick:function(){return e.recover()}},Object(h.a)("recover"))))}}])&&m(n.prototype,c),u&&m(n,u),r}(c.Component))||n)||n,S={wrap1:{marginTop:40,marginLeft:50},wrap:{textAlign:"center",marginTop:30}}}).call(this,r(20).Buffer)},1848:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}));var i=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_CANVAS_SIZE;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$video=t,this.$canvas=document.createElement("canvas"),this._onDecode=r,this._active=!1,this._paused=!1,this.$canvas.width=n,this.$canvas.height=n,this._sourceRect={x:0,y:0,width:n,height:n},this._onCanPlay=this._onCanPlay.bind(this),this._onPlay=this._onPlay.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this.$video.addEventListener("canplay",this._onCanPlay),this.$video.addEventListener("play",this._onPlay),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrWorker=new Worker(e.WORKER_PATH)}return o(e,null,[{key:"hasCamera",value:function(){return navigator.mediaDevices.enumerateDevices().then((function(e){return e.some((function(e){return"videoinput"===e.kind}))})).catch((function(){return!1}))}}]),o(e,[{key:"destroy",value:function(){this.$video.removeEventListener("canplay",this._onCanPlay),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),this._qrWorker.postMessage({type:"close"})}},{key:"start",value:function(){var e=this;if(this._active&&!this._paused)return Promise.resolve();if("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,this._paused=!1,document.hidden)return Promise.resolve();if(clearTimeout(this._offTimeout),this._offTimeout=null,this.$video.srcObject)return this.$video.play(),Promise.resolve();var t="environment";return this._getCameraStream("environment",!0).catch((function(){return t="user",e._getCameraStream()})).then((function(r){e.$video.srcObject=r,e._setVideoMirror(t)})).catch((function(t){throw e._active=!1,t}))}},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:function(){var e=this;this._paused=!0,this._active&&(this.$video.pause(),this._offTimeout||(this._offTimeout=setTimeout((function(){var t=e.$video.srcObject&&e.$video.srcObject.getTracks()[0];t&&(t.stop(),e.$video.srcObject=null,e._offTimeout=null)}),300)))}},{key:"setGrayscaleWeights",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._qrWorker.postMessage({type:"grayscaleWeights",data:{red:e,green:t,blue:r,useIntegerApproximation:n}})}},{key:"setInversionMode",value:function(e){this._qrWorker.postMessage({type:"inversionMode",data:e})}},{key:"_onCanPlay",value:function(){this._updateSourceRect(),this.$video.play()}},{key:"_onPlay",value:function(){this._updateSourceRect(),this._scanFrame()}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_updateSourceRect",value:function(){var e=Math.min(this.$video.videoWidth,this.$video.videoHeight),t=Math.round(2/3*e);this._sourceRect.width=this._sourceRect.height=t,this._sourceRect.x=(this.$video.videoWidth-t)/2,this._sourceRect.y=(this.$video.videoHeight-t)/2}},{key:"_scanFrame",value:function(){var t=this;if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame((function(){e.scanImage(t.$video,t._sourceRect,t._qrWorker,t.$canvas,!0).then(t._onDecode,(function(e){t._active&&"QR code not found."!==e&&console.error(e)})).then((function(){return t._scanFrame()}))}))}},{key:"_getCameraStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[{width:{min:1024}},{width:{min:768}},{}];return e&&(t&&(e={exact:e}),r.forEach((function(t){return t.facingMode=e}))),this._getMatchingCameraStream(r)}},{key:"_getMatchingCameraStream",value:function(e){var t=this;return 0===e.length?Promise.reject("Camera not found."):navigator.mediaDevices.getUserMedia({video:e.shift()}).catch((function(){return t._getMatchingCameraStream(e)}))}},{key:"_setVideoMirror",value:function(e){var t="user"===e?-1:1;this.$video.style.transform="scaleX("+t+")"}}],[{key:"scanImage",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=!1,s=new Promise((function(a,s){var u,l,f;n||(n=new Worker(e.WORKER_PATH),c=!0,n.postMessage({type:"inversionMode",data:"both"})),l=function(e){"qrResult"===e.data.type&&(n.removeEventListener("message",l),n.removeEventListener("error",f),clearTimeout(u),null!==e.data.data?a(e.data.data):s("QR code not found."))},f=function(e){n.removeEventListener("message",l),n.removeEventListener("error",f),clearTimeout(u);var t=e?e.message||e:"Unknown Error";s("Scanner error: "+t)},n.addEventListener("message",l),n.addEventListener("error",f),u=setTimeout((function(){return f("timeout")}),3e3),e._loadImage(t).then((function(t){var a=e._getImageData(t,r,o,i);n.postMessage({type:"decode",data:a},[a.data.buffer])})).catch(f)}));return r&&a&&(s=s.catch((function(){return e.scanImage(t,null,n,o,i)}))),s=s.finally((function(){c&&n.postMessage({type:"close"})}))}},{key:"_getImageData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r=r||document.createElement("canvas");var o=t&&t.x?t.x:0,i=t&&t.y?t.y:0,a=t&&t.width?t.width:e.width||e.videoWidth,c=t&&t.height?t.height:e.height||e.videoHeight;n||r.width===a&&r.height===c||(r.width=a,r.height=c);var s=r.getContext("2d",{alpha:!1});return s.imageSmoothingEnabled=!1,s.drawImage(e,o,i,a,c,0,0,r.width,r.height),s.getImageData(0,0,r.width,r.height)}},{key:"_loadImage",value:function(t){if(t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||window.ImageBitmap&&t instanceof window.ImageBitmap||window.OffscreenCanvas&&t instanceof window.OffscreenCanvas)return Promise.resolve(t);if(t instanceof Image)return e._awaitImageLoad(t).then((function(){return t}));if(t instanceof File||t instanceof URL||"string"==typeof t){var r=new Image;return t instanceof File?r.src=URL.createObjectURL(t):r.src=t,e._awaitImageLoad(r).then((function(){return t instanceof File&&URL.revokeObjectURL(r.src),r}))}return Promise.reject("Unsupported image type.")}},{key:"_awaitImageLoad",value:function(e){return new Promise((function(t,r){var n,o;e.complete&&0!==e.naturalWidth?t():(n=function(){e.removeEventListener("load",n),e.removeEventListener("error",o),t()},o=function(){e.removeEventListener("load",n),e.removeEventListener("error",o),r("Image load error")},e.addEventListener("load",n),e.addEventListener("error",o))}))}}]),e}();i.DEFAULT_CANVAS_SIZE=400,i.WORKER_PATH="qr-scanner-worker.min.js"}}]);