(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1197:function(e,t,a){"use strict";var r,n=a(0),c=a.n(n),s=a(170),i=(a(115),a(32)),o=a.n(i),l=a(11),u=a(171);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v(e);if(t){var n=v(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b(this,a)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O=Object(u.h)(),E=Object(s.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.wallet)}))(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,a,r,n=y(s);function s(){return m(this,s),n.apply(this,arguments)}return t=s,(a=[{key:"render",value:function(){var e=this.props,t=e.price,a=e.value,r=e.usd,n=e.exchangeRate,s=e.token,i=e.tokenAmount,u=(l.s[s]||l.s[1]).name.toLowerCase();if(7===s&&(u="bsv"),!t[u])return null;var p=null,m=O.currencyCode.toLowerCase();p=t[u][m]?t[u][m]:o()(t[u].usd).times(n[m]),r&&(p=o()(p).div(t[u].usd).multipliedBy(r));var d=0;return d=3===s||6===s?(d=(d=o()(a).times(p)).plus(i||0)).toFixed(2,1):o()(a).div(1e8).times(p).toFixed(2,1),c.a.createElement("span",null,O.symbol,d," ",O.currencyCode)}}])&&d(t.prototype,a),r&&d(t,r),s}(n.Component))||r;t.a=E},619:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));a(606);var r,n,c,s=a(299),i=(a(1192),a(1196)),o=(a(604),a(140)),l=(a(605),a(172)),u=(a(1193),a(1195)),p=a(0),m=a.n(p),d=a(170),f=a(32),y=a.n(f),b=a(58),v=a(15),h=a(1109),g=a.n(h),O=a(11),E=a(115),j=a(171),_=a(1197),w=a(67),k=a(1228),x=a.n(k),N=a(4);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,a,r,n,c,s){try{var i=e[c](s),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(r,n)}function S(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var c=e.apply(t,a);function s(e){P(c,r,n,s,i,"next",e)}function i(e){P(c,r,n,s,i,"throw",e)}s(void 0)}))}}function C(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=W(e);if(t){var n=W(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return A(this,a)}}function A(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var z=Object(j.h)(),L=u.a.Item,V=(r=u.a.create(),n=Object(d.connect)((function(e){var t=e.user,a=e.wallet,r=e.loading.effects;return B(B(B({},t),a),{},{signing:r["service/signSingWalletMessage"],broadcasting:r["service/broadcast"],loading:r["service/queryWalletById"]||r["service/createSingleWalletAddress"]||r["service/createMultiPartyAddress"],creating:r["service/createMultiPartyTransaction"]||r["service/bsvTransfer"]})})),Object(b.withRouter)(c=r(c=n(c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(f,e);var t,a,r,n,c,p,d=T(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),M(I(t=d.call(this,e)),"handleSubmit",(function(e){e.preventDefault();var a=t.props,r=a.currentWallet,n=a.form,c=a.dispatch,s=r.token,i=r.type;n.validateFields(function(){var e=S(regeneratorRuntime.mark((function e(a,n){var o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=31;break}if(o=n.toAddress,n.biz_data=o,!(1===r.token&&o.indexOf("@")>-1)){e.next=21;break}return e.next=6,c({type:"service/paymentDestination",payload:{paymail:o.trim(),wid:t.getWalletId()}});case 6:if(u=e.sent){e.next=9;break}return e.abrupt("return",l.a.error(Object(v.a)("invalid_address")));case 9:e.prev=9,N.Script.fromAddress(u),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(9),e.abrupt("return",l.a.error(Object(v.a)("invalid_address")));case 16:n.paymail=o,n.toAddress=u,n.biz_data="".concat(o," (").concat(u,")"),e.next=30;break;case 21:if((1!==s&&2!==s||"1"===o.substr(0,1))&&(7!==s||"m"===o.substr(0,1))){e.next=23;break}return e.abrupt("return",l.a.error(Object(v.a)("invalid_address")));case 23:e.prev=23,N.Script.fromAddress(o),e.next=30;break;case 27:return e.prev=27,e.t1=e.catch(23),e.abrupt("return",l.a.error(Object(v.a)("invalid_address")));case 30:1===i?t.createTransaction(n):t.createTransaction1(n);case 31:case"end":return e.stop()}}),e,null,[[9,13],[23,27]])})));return function(t,a){return e.apply(this,arguments)}}())})),M(I(t),"sign",function(){var e=S(regeneratorRuntime.mark((function e(a,r){var n,c,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.dispatch,e.next=3,n({type:"service/signSingWalletMessage",payload:r});case 3:return c=e.sent,e.next=6,n({type:"service/bsvTransfer",payload:{action_type:"sign",transferId:a,siglist:c}});case 6:if(s=e.sent,"sign"!==(i=s.data.type)){e.next=12;break}return e.next=11,t.sign(s.data.transferId,s.data.hashlist);case 11:return e.abrupt("return",e.sent);case 12:if("success"!==i){e.next=14;break}return e.abrupt("return",s);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),M(I(t),"createTransaction",function(){var e=S(regeneratorRuntime.mark((function e(a){var r,n,c,s,i,o,u,p,m,d,f,b,v,h,g,E,_,w,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getWalletId(),n=a.toAddress,c=a.amount,s=a.note,i=a.total,o=a.paymail,u=a.biz_data,p=t.props,m=p.currentWallet,d=p.dispatch,f=p.exchangeRate,b=m.type,v=m.token,h=t.state.change_address||m.deposit.address||m.address,g=y()(i),E=z.currencyCode.toLowerCase(),1!==parseInt(b)||!g.div(f[E]).isGreaterThan(O.c)){e.next=10;break}return t.setState({toAddress:n,biz_data:o||n,amount:c,note:s,showResult:"pay"}),e.abrupt("return");case 10:return _=y()(c).multipliedBy(1e8).toString(),e.next=13,d({type:"service/bsvTransfer",payload:{action_type:"start_transfer",token_map_id:v,wid:r,list:[{type:"bsv",receiver_address:n,receiver_amount:_,change_address:h,note:s}]}});case 13:if((w=e.sent).success){e.next=16;break}return e.abrupt("return",l.a.error(w.message));case 16:return e.next=18,t.sign(w.data.transferId,w.data.hashlist);case 18:if((k=e.sent).success){e.next=21;break}return e.abrupt("return",l.a.error("Transaction failed. ".concat(k.message)));case 21:t.setState({toAddress:u,amount:c,note:s,showResult:"single",fee:Object(j.e)(k.data.totalEstimateFee)});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M(I(t),"createTransaction1",function(){var e=S(regeneratorRuntime.mark((function e(a){var r,n,c,s,i,o,u,p,m,d,f,b,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getWalletId(),n=a.toAddress,c=a.amount,s=a.note,i=t.props,o=i.currentWallet,u=i.dispatch,p=o.type,m=o.token,d=t.state.change_address){e.next=7;break}return e.abrupt("return",l.a.error(Object(v.a)("need_all_online")));case 7:if(2!==parseInt(p)){e.next=21;break}return f=y()(c).multipliedBy(1e8).toString(),b={action_type:"start_transfer",token_map_id:m,wid:r,list:[{type:"bsv",receiver_address:n,receiver_amount:f,change_address:d,note:s}]},e.next=12,u({type:"service/getTransferEstimateFee",payload:B({},b)});case 12:return h=e.sent,e.next=15,u({type:"service/bsvMulTransfer",payload:b});case 15:if((g=e.sent).success){e.next=18;break}return e.abrupt("return",l.a.error(g.message));case 18:g.code=13,g.value=c,t.setState({showResult:"multi",toAddress:a.biz_data,amount:c,note:s,fee:Object(j.e)(h.data.estimateFee)});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M(I(t),"changeBSV",(function(e){t.setFiatValue(e.target.value)})),M(I(t),"changeCurrency",(function(e){var a=t.props,r=a.form,n=a.currencyIndex,c=a.price,s=a.exchangeRate,i=a.currentWallet,o=E.a[n],l=e.target.value,u=O.s[i.token||1].name.toLowerCase();if(c[u]){var p=null,m=o.currencyCode.toLowerCase();p=c[u][m]?c[u][m]:y()(c[u].usd).times(s[m]),r.setFieldsValue({amount:l?y()(l).div(p).toFixed(8,1):0}),t.setState({amountCurrency:l?y()(l).div(p).toFixed(8,1):0,amountFiat:l||0})}})),M(I(t),"validate",(function(e,a,r){t.props.price;!a||y()(a).times(1e8).isLessThan(457)?r(Object(v.a)("amount_less_than")):r()})),M(I(t),"validateTotal",(function(e,a,r){var n=t.props,c=(n.price,n.form),s=(n.currentWallet,c.getFieldValue("amount"));y()(s).times(1e8).isLessThan(457)?r(Object(v.a)("amount_less_than")):r()})),M(I(t),"gotoBack",(function(){var e=t.props.match.params.id;t.props.history.push({pathname:"/money/list/".concat(e)})})),M(I(t),"finishPayOnPhone",(function(){t.props.dispatch({type:"wallet/save",payload:{current_payment_walletId:"",current_payment_t:"",current_payment_finish:!1}});var e=t.props.match.params.id;t.props.history.push({pathname:"/money/list/".concat(e)})})),M(I(t),"switchCurrency",(function(e){t.setState({currencyType:e})})),t.payment_t=Date.now().toString(),t.state={showResult:!1,amountCurrency:0,amountFiat:0},t}return t=f,(a=[{key:"getWalletId",value:function(){return parseInt(this.props.match.params.id)}},{key:"createSingleAddress",value:(p=S(regeneratorRuntime.mark((function e(){var t,a,r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,r=t.dispatch,n=a.params.id,e.next=4,r({type:"service/createSingleWalletAddress",payload:{wid:n,type:2}});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"createMultiAddress",value:(c=S(regeneratorRuntime.mark((function e(){var t,a,r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,r=t.dispatch,n=a.params.id,e.next=4,r({type:"service/createMultiPartyAddress",payload:{wid:parseInt(n),type:2}});case 4:if(!(c=e.sent).msg){e.next=7;break}return e.abrupt("return",l.a.error(c.msg));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"renderSingleResult",value:function(){var e=this.state,t=e.toAddress,a=e.amount,r=e.note,n=e.fee,c=e.currencyType;return m.a.createElement("div",{className:g.a.result},m.a.createElement("div",{className:g.a.icon},m.a.createElement(w.a,{type:"iconsent"})),m.a.createElement("div",{className:g.a.title},Object(v.a)("payment_sent")),m.a.createElement("div",{className:g.a.desc},Object(v.a)("sent")," ",m.a.createElement("span",null,a," ",c)," ",Object(v.a)("to")," ",t),r&&m.a.createElement("div",{className:g.a.note},r),m.a.createElement("div",{className:g.a.btns},m.a.createElement(o.a,{type:"primary",className:g.a.btn,onClick:this.gotoBack},Object(v.a)("close"))),m.a.createElement("div",{className:g.a.fee},Object(v.a)("network_fee")," ",n," ",c))}},{key:"renderMultiResult",value:function(){var e=this.state,t=e.toAddress,a=e.amount,r=e.note,n=e.fee,c=e.currencyType;return m.a.createElement("div",{className:g.a.result},m.a.createElement("div",{className:g.a.icon},m.a.createElement(w.a,{type:"iconsigned"})),m.a.createElement("div",{className:g.a.title},Object(v.a)("tx_signed_you")),m.a.createElement("div",{className:g.a.desc},Object(v.a)("sign_tx_multi",a)," ",t),r&&m.a.createElement("div",{className:g.a.note},r),m.a.createElement("div",{className:g.a.btns},m.a.createElement(o.a,{type:"primary",className:g.a.btn,onClick:this.gotoBack},Object(v.a)("close"))),m.a.createElement("div",{className:g.a.fee},Object(v.a)("network_fee")," ",n," ",c))}},{key:"renderPay",value:function(){var e=this.state,t=e.toAddress,a=e.amount,r=e.note,n=e.biz_data,c=e.currencyType,s=r?encodeURIComponent(r):"",i="voltid:".concat(t,"?amount=").concat(a,"&label=").concat(s,"&walletId=").concat(this.props.match.params.id,"&biz_data=").concat(n,"&action=confirm_tx&t=").concat(this.payment_t);return m.a.createElement("div",{className:g.a.result_pay},m.a.createElement("div",{className:g.a.title},Object(v.a)("send_to")),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("to")),m.a.createElement("div",{className:g.a.value},n)),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("amount")),m.a.createElement("div",{className:g.a.value},a," ",c)),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("note")),m.a.createElement("div",{className:g.a.value},r)),m.a.createElement("div",{className:g.a.qrcode},m.a.createElement(x.a,{value:i})),m.a.createElement("div",{className:g.a.desc},Object(v.a)("payOnPhoneDesc",O.c)),m.a.createElement("div",{className:g.a.btns},m.a.createElement(o.a,{type:"primary",className:g.a.btn,onClick:this.gotoBack},Object(v.a)("close"))))}},{key:"renderPayResult",value:function(){var e=this.state,t=e.amount,a=e.note,r=e.biz_data,n=e.currencyType;return m.a.createElement("div",{className:g.a.result_pay},m.a.createElement("div",{className:g.a.icon},m.a.createElement(w.a,{type:"iconsent"})),m.a.createElement("div",{className:g.a.title},Object(v.a)("payment_sent")),m.a.createElement("div",{className:g.a.sub_title},Object(v.a)("payOnPhoneFinish")),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("to")),m.a.createElement("div",{className:g.a.value},r)),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("amount")),m.a.createElement("div",{className:g.a.value},t," ",n)),m.a.createElement("div",{className:g.a.item},m.a.createElement("div",{className:g.a.label},Object(v.a)("note")),m.a.createElement("div",{className:g.a.value},a)),m.a.createElement("div",{className:g.a.btns},m.a.createElement(o.a,{type:"primary",className:g.a.btn,onClick:this.finishPayOnPhone},Object(v.a)("close"))))}},{key:"componentDidMount",value:(n=S(regeneratorRuntime.mark((function e(){var t,a,r,n,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,a=this.props.currentWallet,e.next=4,t({type:"service/queryWalletById",payload:{wid:this.getWalletId()}});case 4:if(a=e.sent,n=(r=a).type,c=r.token,2!==parseInt(n)){e.next=12;break}return e.next=9,this.createMultiAddress();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,this.createSingleAddress();case 14:e.t0=e.sent;case 15:s=e.t0,this.setState({currencyType:Object(O.e)(c),change_address:s});case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setFiatValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,a=t.form,r=t.currencyIndex,n=t.price,c=t.exchangeRate,s=t.currentWallet,i=E.a[r],o=O.s[s.token||1].name.toLowerCase();if(7===s.token&&(o="bsv"),n[o]){var l=null,u=i.currencyCode.toLowerCase();l=n[o][u]?n[o][u]:y()(n[o].usd).times(c[u]),a.setFieldsValue({total:e?y()(e).multipliedBy(l).toFixed(8,1):0}),this.setState({amountCurrency:e||0,amountFiat:e?y()(e).multipliedBy(l).toFixed(8,1):0})}}},{key:"setAmount",value:function(e){this.props.form.setFieldsValue({amount:e}),this.setFiatValue(e)}},{key:"renderForm",value:function(){var e=this,t=this.props,a=t.current_payment_t,r=t.current_payment_finish;if(a===this.payment_t&&r)return this.renderPayResult();if("single"===this.state.showResult)return this.renderSingleResult();if("multi"===this.state.showResult)return this.renderMultiResult();if("pay"===this.state.showResult)return this.renderPay();var n=this.props,c=n.form,s=n.currencyIndex,l=n.currentWallet,p=(n.loading,n.creating),d=c.getFieldDecorator,f=E.a[s].currencyCode,y=l.total,b=l.frozen,h=l.name,w=l.type,k=l.threshold,x=l.token,N=this.state,R=N.currencyType,P=N.amountCurrency,S=N.amountFiat,C=Object(O.e)(x);return m.a.createElement("div",{className:g.a.container},m.a.createElement("div",{className:g.a.header},m.a.createElement("div",{className:g.a.title},Object(v.a)("send_to")),m.a.createElement("span",{className:g.a.goback,onClick:this.gotoBack}," ",Object(v.a)("cancel"))),m.a.createElement(u.a,{onSubmit:this.handleSubmit,hideRequiredMark:!0,className:g.a.content},m.a.createElement(L,null,d("toAddress",{rules:[{required:!0}]})(m.a.createElement(i.a,{allowClear:!0}))),m.a.createElement("div",{className:g.a.header},m.a.createElement("div",{className:g.a.title},Object(v.a)("from")," ",h)),m.a.createElement("div",{className:g.a.total},m.a.createElement("span",{onClick:function(){e.setAmount(Object(j.e)(y))}},m.a.createElement("span",{className:g.a.balance},Object(v.a)("balance"))," ",Object(j.e)(y)," ",C," | ",m.a.createElement(_.a,{token:x,value:y})),b>0&&m.a.createElement(m.a.Fragment,null," | ",Object(v.a)("frozen")," ",Object(j.e)(b)," ",C)),m.a.createElement("div",{className:g.a.amount_container},m.a.createElement(L,{style:{display:R===C?"block":"none",flex:1}},d("amount",{rules:[{validator:this.validate}]})(m.a.createElement(i.a,{onChange:this.changeBSV,style:{width:"100%"},allowClear:!0}))),m.a.createElement(L,{style:{display:R===C?"none":"block",flex:1}},d("total",{rules:[{validator:this.validateTotal}]})(m.a.createElement(i.a,{onChange:this.changeCurrency,style:{width:"100%"},allowClear:!0}))),m.a.createElement("div",{className:g.a.currency_content},[C,f].map((function(t){return m.a.createElement("div",{key:t,className:t===R?Object(j.j)(g.a.current_currency,g.a.currency_item):g.a.currency_item,onClick:function(){return e.switchCurrency(t)}},t)})))),m.a.createElement("div",{className:g.a.total_container},Object(v.a)("equivalent_to")," ",R===C?"".concat(S," ").concat(f):"".concat(P," ").concat(C)),m.a.createElement("div",{className:g.a.label},Object(v.a)("add_a_msg")),m.a.createElement(L,null,d("note")(m.a.createElement(i.a,null))),2===w&&m.a.createElement("div",{className:g.a.tips},m.a.createElement("span",{style:{fontWeight:"bold"}},Object(v.a)("notice"),":")," ",Object(v.a)("transfer_tips",k)),m.a.createElement("div",null,m.a.createElement(o.a,{type:"primary",loading:p,className:"btn",htmlType:"submit"},Object(v.a)("send")," ",R===C?"".concat(P," ").concat(C):"".concat(S," ").concat(f)))))}},{key:"render",value:function(){var e=this.props,t=e.signing,a=e.broadcasting,r=e.loading;return t?m.a.createElement(s.a,{tip:"Signing..."},this.renderForm()):a?m.a.createElement(s.a,{tip:"Broadcasting..."},this.renderForm()):r?m.a.createElement(s.a,null,this.renderForm()):this.renderForm()}}])&&C(t.prototype,a),r&&C(t,r),f}(p.Component))||c)||c)||c)}}]);