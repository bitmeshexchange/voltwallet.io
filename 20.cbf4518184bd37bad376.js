(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1173:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return Q}));r(1231);var n,i=r(1242),o=(r(607),r(300)),s=(r(605),r(139)),u=(r(1194),r(1197)),a=(r(606),r(172)),c=(r(1195),r(1196)),f=r(0),h=r.n(f),p=r(170),l=r(67),d=r(1198),g=(r(115),r(33)),v=r.n(g),m=r(171);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return I(this,r)}}function I(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var P,A,T,x=Object(m.h)(),R=Object(p.connect)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.wallet)}))(n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(o,t);var e,r,n,i=w(o);function o(){return _(this,o),i.apply(this,arguments)}return e=o,(r=[{key:"render",value:function(){var t=this.props,e=t.value,r=t.exchangeRate,n=x.currencyCode.toLowerCase();if("usd"===n)return"".concat(x.symbol).concat(e);var i=v()(r[n]).multipliedBy(e).toFixed(2,1).toString();return"".concat(x.symbol).concat(i)}}])&&b(e.prototype,r),n&&b(e,n),o}(f.Component))||n,N=r(1120),C=r.n(N),B=r(17),U=r(1329),F=r(11);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e,r,n,i,o,s){try{var u=t[o](s),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,i)}function H(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){L(o,n,i,s,u,"next",t)}function u(t){L(o,n,i,s,u,"throw",t)}s(void 0)}))}}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=z(t);if(e){var i=z(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return V(this,r)}}function V(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?W(t):e}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Z=[Object(B.a)("owned"),Object(B.a)("buy_new")],X=c.a.Item,Q=(P=c.a.create(),A=Object(p.connect)((function(t){var e=t.user,r=t.wallet,n=t.loading.effects;return Y(Y(Y({},e),r),{},{loading:n["service/queryPaymailById"],addLoading:n["service/addPaymail"],signLoading:n["service/signSingWalletMessage"],broadcasting:n["service/broadcast"]})})),Object(l.withRouter)(T=P(T=A(T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(v,t);var e,r,n,f,p,l,g=j(v);function v(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),q(W(e=g.call(this,t)),"gotoBack",(function(){var t=e.props.match.params.id;e.props.history.push({pathname:"/money/walletinfo/".concat(t)})})),q(W(e),"switchMenu",(function(t){e.setState({currentMenuIndex:t})})),q(W(e),"queryPaymail",function(){var t=H(regeneratorRuntime.mark((function t(r,n,i){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(/^[a-zA-Z0-9]{1,20}$/.test(n)){t.next=3;break}return t.abrupt("return",i(Object(B.a)("invalidPaymail")));case 3:return t.next=5,e.props.dispatch({type:"service/queryPaymail",payload:{name:n}});case 5:if(!((o=t.sent)>0)){t.next=8;break}return t.abrupt("return",i(Object(B.a)("existing")));case 8:if(0!==o){t.next=10;break}return t.abrupt("return",i());case 10:return t.abrupt("return",i("error"));case 11:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),q(W(e),"assignPrimary",function(){var t=H(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.dispatch({type:"service/setMainPaymail",payload:{wid:e.getWalletId(),id:r}});case 2:a.a.success(Object(B.a)("setting_success")),e.update();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),q(W(e),"handleSubmit",(function(t){t.preventDefault();var r=e.props,n=r.form,i=(r.wallets,r.currentWallet);n.validateFields(function(){var t=H(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=6;break}return t.next=3,e.props.dispatch({type:"service/queryPaymailById",payload:{wid:i.id}});case 3:return t.sent,e.showDrawer(),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})),q(W(e),"showDrawer",(function(){e.setState({drawer_visible:!0})})),q(W(e),"closeDrawer",(function(){e.setState({drawer_visible:!1})})),e.init(),e.state={currentMenuIndex:0,drawer_visible:!1},e}return e=v,(r=[{key:"init",value:(l=H(regeneratorRuntime.mark((function t(){var e,r,n,i,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props.currentWallet,r=this.props,n=r.dispatch,i=r.match,o=parseInt(i.params.id),e.id===o){t.next=7;break}return t.next=6,n({type:"service/queryWalletById",payload:{wid:o}});case 6:e=t.sent;case 7:if(s=e.token,u=e.paymail,1!==s){t.next=16;break}if(u&&!(u.length<1)){t.next=16;break}return t.next=13,n({type:"service/queryPaymailById",payload:{wid:o}});case 13:return u=t.sent,t.next=16,n({type:"wallet/saveCurrent",payload:Y(Y({},e),{},{paymail:u})});case 16:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getWalletId",value:function(){return this.props.match.params.id}},{key:"update",value:(p=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.dispatch({type:"service/queryPaymailById",payload:{wid:this.getWalletId()}});case 2:this.setState({currentMenuIndex:0});case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"payCallback",value:function(t){t&&this.addPaymail(),this.closeDrawer()}},{key:"addPaymail",value:(f=H(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,r=e.form,n=e.dispatch,i=r.getFieldsValue(),t.next=4,n({type:"service/addPaymail",payload:{wid:this.getWalletId(),name:i.name}});case 4:a.a.success(Object(B.a)("add_success")),this.update();case 6:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"render",value:function(){var t,e,r=this,n=this.props,a=n.currentWallet,f=(n.loading,n.form),p=n.addLoading,l=void 0!==p&&p,g=(n.wallets,n.signLoading),v=void 0!==g&&g,y=n.broadcasting,_=void 0!==y&&y,b=a.paymail,S=a.token,w=this.state.currentMenuIndex,I=f.getFieldDecorator,O=f.getFieldValue;b&&b.length>0&&(t=b.find((function(t){return 1===t.main})),e=b.filter((function(t){return 0===t.main})),t||(t=b[0],e=b.slice(1)));var E="";l?E="adding...":v?E="Signing...":_&&(E="Broadcasting");var k=O("name");return h.a.createElement("div",{className:C.a.container},h.a.createElement("div",{className:C.a.detail},h.a.createElement("div",{className:C.a.paymail_container},h.a.createElement(d.a,{token:S}),h.a.createElement("div",{className:C.a.title},Object(B.a)("wallet_paymail")),h.a.createElement("span",{className:C.a.goback,onClick:this.gotoBack}," ",Object(B.a)("cancel")),h.a.createElement("div",{className:C.a.op_container},h.a.createElement("div",{className:C.a.op},Z.map((function(t,e){return h.a.createElement("div",{className:w===e?Object(m.j)(C.a.item,C.a.current_item):C.a.item,key:t,onClick:function(){return r.switchMenu(e)}},t)})))),0===w&&h.a.createElement(h.a.Fragment,null,b&&b.length>0?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:C.a.label},Object(B.a)("primary_paymail")),h.a.createElement("div",{className:C.a.value},t?h.a.createElement("div",null,h.a.createElement("span",{className:C.a.name},t.name),"@","volt.id"):Object(B.a)("no_main_paymail"))):h.a.createElement("div",{className:C.a.tips},Object(B.a)("no_paymail")),e&&e.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:C.a.label},Object(B.a)("other_paymail")),h.a.createElement("div",{className:C.a.paymails},h.a.createElement("div",null,e.map((function(t,e){return h.a.createElement("div",{className:C.a.value,key:t.id},h.a.createElement("div",null,h.a.createElement("span",{className:C.a.name},t.name),"@","volt.id"),1===t.main?h.a.createElement("div",{className:C.a.primary},Object(B.a)("primary_paymail")):h.a.createElement("div",{className:C.a.action,onClick:function(){return r.assignPrimary(t.id)}},Object(B.a)("assign_primary")))})))))),1===w&&h.a.createElement(o.a,{spinning:l||v||_,tip:E},h.a.createElement(c.a,{onSubmit:this.handleSubmit},h.a.createElement(X,{className:C.a.input},I("name",{initialValue:k,rules:[{required:!0},{validator:this.queryPaymail}]})(h.a.createElement(u.a,{addonAfter:"@".concat("volt.id")}))),h.a.createElement(s.a,{type:"primary",htmlType:"submit",className:C.a.btn},Object(B.a)("buy_for")," ",h.a.createElement(R,{value:Object(F.g)(k)})))),this.state.drawer_visible&&h.a.createElement(i.a,{width:480,title:Object(B.a)("confirm_payment"),placement:"right",closable:!1,maskClosable:!1,onClose:this.closeDrawer,visible:this.state.drawer_visible,getContainer:!1,style:{position:"absolute"}},h.a.createElement(U.a,{note:"Buy a new Paymail ".concat(k),payCallback:function(t){return r.payCallback(t)},unitPrice:Object(F.g)(k)})))))}}])&&M(e.prototype,r),n&&M(e,n),v}(f.Component))||T)||T)||T)},1178:function(t,e,r){(function(t,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",s="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",f="[object Boolean]",h="[object Date]",p="[object Error]",l="[object Function]",d="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",S="[object Symbol]",w="[object WeakMap]",I="[object ArrayBuffer]",O="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",x="[object Uint8Array]",R="[object Uint16Array]",N="[object Uint32Array]",C=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,L=RegExp(F.source),H=RegExp(D.source),M=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(G.source),q=/^\s+|\s+$/g,Z=/^\s+/,X=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",gt="["+lt+"]",vt="["+pt+"]",mt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+lt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",St="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",It="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+_t+"|"+bt+")",Pt="(?:"+Et+"|"+bt+")",At="(?:"+vt+"|"+St+")"+"?",Tt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[wt,It,Ot].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),xt="(?:"+[yt,It,Ot].join("|")+")"+Tt,Rt="(?:"+[wt+vt+"?",vt,It,Ot,dt].join("|")+")",Nt=RegExp("['’]","g"),Ct=RegExp(vt,"g"),Bt=RegExp(St+"(?="+St+")|"+Rt+Tt,"g"),Ut=RegExp([Et+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[gt,Et,"$"].join("|")+")",Pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[gt,Et+kt,"$"].join("|")+")",Et+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,xt].join("|"),"g"),Ft=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ht=-1,Mt={};Mt[E]=Mt[k]=Mt[P]=Mt[A]=Mt[T]=Mt[x]=Mt["[object Uint8ClampedArray]"]=Mt[R]=Mt[N]=!0,Mt[a]=Mt[c]=Mt[I]=Mt[f]=Mt[O]=Mt[h]=Mt[p]=Mt[l]=Mt[g]=Mt[v]=Mt[m]=Mt[y]=Mt[_]=Mt[b]=Mt[w]=!1;var Kt={};Kt[a]=Kt[c]=Kt[I]=Kt[O]=Kt[f]=Kt[h]=Kt[E]=Kt[k]=Kt[P]=Kt[A]=Kt[T]=Kt[g]=Kt[v]=Kt[m]=Kt[y]=Kt[_]=Kt[b]=Kt[S]=Kt[x]=Kt["[object Uint8ClampedArray]"]=Kt[R]=Kt[N]=!0,Kt[p]=Kt[l]=Kt[w]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,Wt=parseInt,zt="object"==typeof t&&t&&t.Object===Object&&t,Gt="object"==typeof self&&self&&self.Object===Object&&self,Yt=zt||Gt||Function("return this")(),qt=e&&!e.nodeType&&e,Zt=qt&&"object"==typeof n&&n&&!n.nodeType&&n,Xt=Zt&&Zt.exports===qt,Qt=Xt&&zt.process,Jt=function(){try{var t=Zt&&Zt.require&&Zt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,re=Jt&&Jt.isRegExp,ne=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function se(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function ue(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function ae(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function fe(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function he(t,e){return!!(null==t?0:t.length)&&Se(t,e,0)>-1}function pe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function le(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function de(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function ge(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function ve(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function me(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ye=Ee("length");function _e(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function be(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Se(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):be(t,Ie,r)}function we(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Ie(t){return t!=t}function Oe(t,e){var r=null==t?0:t.length;return r?Ae(t,e)/r:NaN}function Ee(t){return function(e){return null==e?void 0:e[t]}}function ke(t){return function(e){return null==t?void 0:t[e]}}function Pe(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ae(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}function Te(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function xe(t){return function(e){return t(e)}}function Re(t,e){return le(e,(function(e){return t[e]}))}function Ne(t,e){return t.has(e)}function Ce(t,e){for(var r=-1,n=t.length;++r<n&&Se(e,t[r],0)>-1;);return r}function Be(t,e){for(var r=t.length;r--&&Se(e,t[r],0)>-1;);return r}function Ue(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var Fe=ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),De=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+jt[t]}function He(t){return Ft.test(t)}function Me(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Ke(t,e){return function(r){return t(e(r))}}function je(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var u=t[r];u!==e&&u!==s||(t[r]=s,o[i++]=r)}return o}function Ve(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function We(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ze(t){return He(t)?function(t){var e=Bt.lastIndex=0;for(;Bt.test(t);)++e;return e}(t):ye(t)}function Ge(t){return He(t)?function(t){return t.match(Bt)||[]}(t):function(t){return t.split("")}(t)}var Ye=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qe=function t(e){var r,n=(e=null==e?Yt:qe.defaults(Yt.Object(),e,qe.pick(Yt,Lt))).Array,i=e.Date,pt=e.Error,lt=e.Function,dt=e.Math,gt=e.Object,vt=e.RegExp,mt=e.String,yt=e.TypeError,_t=n.prototype,bt=lt.prototype,St=gt.prototype,wt=e["__core-js_shared__"],It=bt.toString,Ot=St.hasOwnProperty,Et=0,kt=(r=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Pt=St.toString,At=It.call(gt),Tt=Yt._,xt=vt("^"+It.call(Ot).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Xt?e.Buffer:void 0,Bt=e.Symbol,Ft=e.Uint8Array,jt=Rt?Rt.allocUnsafe:void 0,zt=Ke(gt.getPrototypeOf,gt),Gt=gt.create,qt=St.propertyIsEnumerable,Zt=_t.splice,Qt=Bt?Bt.isConcatSpreadable:void 0,Jt=Bt?Bt.iterator:void 0,ye=Bt?Bt.toStringTag:void 0,ke=function(){try{var t=$i(gt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ze=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Xe=i&&i.now!==Yt.Date.now&&i.now,Qe=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Je=dt.ceil,$e=dt.floor,tr=gt.getOwnPropertySymbols,er=Rt?Rt.isBuffer:void 0,rr=e.isFinite,nr=_t.join,ir=Ke(gt.keys,gt),or=dt.max,sr=dt.min,ur=i.now,ar=e.parseInt,cr=dt.random,fr=_t.reverse,hr=$i(e,"DataView"),pr=$i(e,"Map"),lr=$i(e,"Promise"),dr=$i(e,"Set"),gr=$i(e,"WeakMap"),vr=$i(gt,"create"),mr=gr&&new gr,yr={},_r=Po(hr),br=Po(pr),Sr=Po(lr),wr=Po(dr),Ir=Po(gr),Or=Bt?Bt.prototype:void 0,Er=Or?Or.valueOf:void 0,kr=Or?Or.toString:void 0;function Pr(t){if(Ws(t)&&!Cs(t)&&!(t instanceof Rr)){if(t instanceof xr)return t;if(Ot.call(t,"__wrapped__"))return Ao(t)}return new xr(t)}var Ar=function(){function t(){}return function(e){if(!Vs(e))return{};if(Gt)return Gt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Tr(){}function xr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Cr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Br(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ur(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Br;++e<r;)this.add(t[e])}function Fr(t){var e=this.__data__=new Cr(t);this.size=e.size}function Dr(t,e){var r=Cs(t),n=!r&&Ns(t),i=!r&&!n&&Ds(t),o=!r&&!n&&!i&&Js(t),s=r||n||i||o,u=s?Te(t.length,mt):[],a=u.length;for(var c in t)!e&&!Ot.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||so(c,a))||u.push(c);return u}function Lr(t){var e=t.length;return e?t[Fn(0,e-1)]:void 0}function Hr(t,e){return Oo(mi(t),qr(e,0,t.length))}function Mr(t){return Oo(mi(t))}function Kr(t,e,r){(void 0!==r&&!Ts(t[e],r)||void 0===r&&!(e in t))&&Gr(t,e,r)}function jr(t,e,r){var n=t[e];Ot.call(t,e)&&Ts(n,r)&&(void 0!==r||e in t)||Gr(t,e,r)}function Vr(t,e){for(var r=t.length;r--;)if(Ts(t[r][0],e))return r;return-1}function Wr(t,e,r,n){return $r(t,(function(t,i,o){e(n,t,r(t),o)})),n}function zr(t,e){return t&&yi(e,bu(e),t)}function Gr(t,e,r){"__proto__"==e&&ke?ke(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Yr(t,e){for(var r=-1,i=e.length,o=n(i),s=null==t;++r<i;)o[r]=s?void 0:gu(t,e[r]);return o}function qr(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}function Zr(t,e,r,n,i,o){var s,u=1&e,c=2&e,p=4&e;if(r&&(s=i?r(t,n,i,o):r(t)),void 0!==s)return s;if(!Vs(t))return t;var w=Cs(t);if(w){if(s=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return mi(t,s)}else{var C=ro(t),B=C==l||C==d;if(Ds(t))return hi(t,u);if(C==m||C==a||B&&!i){if(s=c||B?{}:io(t),!u)return c?function(t,e){return yi(t,eo(t),e)}(t,function(t,e){return t&&yi(e,Su(e),t)}(s,t)):function(t,e){return yi(t,to(t),e)}(t,zr(s,t))}else{if(!Kt[C])return i?t:{};s=function(t,e,r){var n=t.constructor;switch(e){case I:return pi(t);case f:case h:return new n(+t);case O:return function(t,e){var r=e?pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case E:case k:case P:case A:case T:case x:case"[object Uint8ClampedArray]":case R:case N:return li(t,r);case g:return new n;case v:case b:return new n(t);case y:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new n;case S:return i=t,Er?gt(Er.call(i)):{}}var i}(t,C,u)}}o||(o=new Fr);var U=o.get(t);if(U)return U;o.set(t,s),Zs(t)?t.forEach((function(n){s.add(Zr(n,e,r,n,t,o))})):zs(t)&&t.forEach((function(n,i){s.set(i,Zr(n,e,r,i,t,o))}));var F=w?void 0:(p?c?Gi:zi:c?Su:bu)(t);return ue(F||t,(function(n,i){F&&(n=t[i=n]),jr(s,i,Zr(n,e,r,i,t,o))})),s}function Xr(t,e,r){var n=r.length;if(null==t)return!n;for(t=gt(t);n--;){var i=r[n],o=e[i],s=t[i];if(void 0===s&&!(i in t)||!o(s))return!1}return!0}function Qr(t,e,r){if("function"!=typeof t)throw new yt(o);return bo((function(){t.apply(void 0,r)}),e)}function Jr(t,e,r,n){var i=-1,o=he,s=!0,u=t.length,a=[],c=e.length;if(!u)return a;r&&(e=le(e,xe(r))),n?(o=pe,s=!1):e.length>=200&&(o=Ne,s=!1,e=new Ur(e));t:for(;++i<u;){var f=t[i],h=null==r?f:r(f);if(f=n||0!==f?f:0,s&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;a.push(f)}else o(e,h,n)||a.push(f)}return a}Pr.templateSettings={escape:M,evaluate:K,interpolate:j,variable:"",imports:{_:Pr}},Pr.prototype=Tr.prototype,Pr.prototype.constructor=Pr,xr.prototype=Ar(Tr.prototype),xr.prototype.constructor=xr,Rr.prototype=Ar(Tr.prototype),Rr.prototype.constructor=Rr,Nr.prototype.clear=function(){this.__data__=vr?vr(null):{},this.size=0},Nr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nr.prototype.get=function(t){var e=this.__data__;if(vr){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ot.call(e,t)?e[t]:void 0},Nr.prototype.has=function(t){var e=this.__data__;return vr?void 0!==e[t]:Ot.call(e,t)},Nr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vr&&void 0===e?"__lodash_hash_undefined__":e,this},Cr.prototype.clear=function(){this.__data__=[],this.size=0},Cr.prototype.delete=function(t){var e=this.__data__,r=Vr(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Cr.prototype.get=function(t){var e=this.__data__,r=Vr(e,t);return r<0?void 0:e[r][1]},Cr.prototype.has=function(t){return Vr(this.__data__,t)>-1},Cr.prototype.set=function(t,e){var r=this.__data__,n=Vr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Br.prototype.clear=function(){this.size=0,this.__data__={hash:new Nr,map:new(pr||Cr),string:new Nr}},Br.prototype.delete=function(t){var e=Qi(this,t).delete(t);return this.size-=e?1:0,e},Br.prototype.get=function(t){return Qi(this,t).get(t)},Br.prototype.has=function(t){return Qi(this,t).has(t)},Br.prototype.set=function(t,e){var r=Qi(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Ur.prototype.add=Ur.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ur.prototype.has=function(t){return this.__data__.has(t)},Fr.prototype.clear=function(){this.__data__=new Cr,this.size=0},Fr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Fr.prototype.get=function(t){return this.__data__.get(t)},Fr.prototype.has=function(t){return this.__data__.has(t)},Fr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Cr){var n=r.__data__;if(!pr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Br(n)}return r.set(t,e),this.size=r.size,this};var $r=Si(an),tn=Si(cn,!0);function en(t,e){var r=!0;return $r(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function rn(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(null!=s&&(void 0===u?s==s&&!Qs(s):r(s,u)))var u=s,a=o}return a}function nn(t,e){var r=[];return $r(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function on(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=oo),i||(i=[]);++o<s;){var u=t[o];e>0&&r(u)?e>1?on(u,e-1,r,n,i):de(i,u):n||(i[i.length]=u)}return i}var sn=wi(),un=wi(!0);function an(t,e){return t&&sn(t,e,bu)}function cn(t,e){return t&&un(t,e,bu)}function fn(t,e){return fe(e,(function(e){return Ms(t[e])}))}function hn(t,e){for(var r=0,n=(e=ui(e,t)).length;null!=t&&r<n;)t=t[ko(e[r++])];return r&&r==n?t:void 0}function pn(t,e,r){var n=e(t);return Cs(t)?n:de(n,r(t))}function ln(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in gt(t)?function(t){var e=Ot.call(t,ye),r=t[ye];try{t[ye]=void 0;var n=!0}catch(t){}var i=Pt.call(t);n&&(e?t[ye]=r:delete t[ye]);return i}(t):function(t){return Pt.call(t)}(t)}function dn(t,e){return t>e}function gn(t,e){return null!=t&&Ot.call(t,e)}function vn(t,e){return null!=t&&e in gt(t)}function mn(t,e,r){for(var i=r?pe:he,o=t[0].length,s=t.length,u=s,a=n(s),c=1/0,f=[];u--;){var h=t[u];u&&e&&(h=le(h,xe(e))),c=sr(h.length,c),a[u]=!r&&(e||o>=120&&h.length>=120)?new Ur(u&&h):void 0}h=t[0];var p=-1,l=a[0];t:for(;++p<o&&f.length<c;){var d=h[p],g=e?e(d):d;if(d=r||0!==d?d:0,!(l?Ne(l,g):i(f,g,r))){for(u=s;--u;){var v=a[u];if(!(v?Ne(v,g):i(t[u],g,r)))continue t}l&&l.push(g),f.push(d)}}return f}function yn(t,e,r){var n=null==(t=vo(t,e=ui(e,t)))?t:t[ko(Ho(e))];return null==n?void 0:oe(n,t,r)}function _n(t){return Ws(t)&&ln(t)==a}function bn(t,e,r,n,i){return t===e||(null==t||null==e||!Ws(t)&&!Ws(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var s=Cs(t),u=Cs(e),l=s?c:ro(t),d=u?c:ro(e),w=(l=l==a?m:l)==m,E=(d=d==a?m:d)==m,k=l==d;if(k&&Ds(t)){if(!Ds(e))return!1;s=!0,w=!1}if(k&&!w)return o||(o=new Fr),s||Js(t)?Vi(t,e,r,n,i,o):function(t,e,r,n,i,o,s){switch(r){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case f:case h:case v:return Ts(+t,+e);case p:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var u=Me;case _:var a=1&n;if(u||(u=Ve),t.size!=e.size&&!a)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var l=Vi(u(t),u(e),n,i,o,s);return s.delete(t),l;case S:if(Er)return Er.call(t)==Er.call(e)}return!1}(t,e,l,r,n,i,o);if(!(1&r)){var P=w&&Ot.call(t,"__wrapped__"),A=E&&Ot.call(e,"__wrapped__");if(P||A){var T=P?t.value():t,x=A?e.value():e;return o||(o=new Fr),i(T,x,r,n,o)}}if(!k)return!1;return o||(o=new Fr),function(t,e,r,n,i,o){var s=1&r,u=zi(t),a=u.length,c=zi(e).length;if(a!=c&&!s)return!1;var f=a;for(;f--;){var h=u[f];if(!(s?h in e:Ot.call(e,h)))return!1}var p=o.get(t),l=o.get(e);if(p&&l)return p==e&&l==t;var d=!0;o.set(t,e),o.set(e,t);var g=s;for(;++f<a;){h=u[f];var v=t[h],m=e[h];if(n)var y=s?n(m,v,h,e,t,o):n(v,m,h,t,e,o);if(!(void 0===y?v===m||i(v,m,r,n,o):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,r,n,bn,i))}function Sn(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=gt(t);i--;){var u=r[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var a=(u=r[i])[0],c=t[a],f=u[1];if(s&&u[2]){if(void 0===c&&!(a in t))return!1}else{var h=new Fr;if(n)var p=n(c,f,a,t,e,h);if(!(void 0===p?bn(f,c,3,n,h):p))return!1}}return!0}function wn(t){return!(!Vs(t)||(e=t,kt&&kt in e))&&(Ms(t)?xt:st).test(Po(t));var e}function In(t){return"function"==typeof t?t:null==t?Gu:"object"==typeof t?Cs(t)?Tn(t[0],t[1]):An(t):ea(t)}function On(t){if(!ho(t))return ir(t);var e=[];for(var r in gt(t))Ot.call(t,r)&&"constructor"!=r&&e.push(r);return e}function En(t){if(!Vs(t))return function(t){var e=[];if(null!=t)for(var r in gt(t))e.push(r);return e}(t);var e=ho(t),r=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&r.push(n);return r}function kn(t,e){return t<e}function Pn(t,e){var r=-1,i=Us(t)?n(t.length):[];return $r(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function An(t){var e=Ji(t);return 1==e.length&&e[0][2]?lo(e[0][0],e[0][1]):function(r){return r===t||Sn(r,t,e)}}function Tn(t,e){return ao(t)&&po(e)?lo(ko(t),e):function(r){var n=gu(r,t);return void 0===n&&n===e?vu(r,t):bn(e,n,3)}}function xn(t,e,r,n,i){t!==e&&sn(e,(function(o,s){if(i||(i=new Fr),Vs(o))!function(t,e,r,n,i,o,s){var u=yo(t,r),a=yo(e,r),c=s.get(a);if(c)return void Kr(t,r,c);var f=o?o(u,a,r+"",t,e,s):void 0,h=void 0===f;if(h){var p=Cs(a),l=!p&&Ds(a),d=!p&&!l&&Js(a);f=a,p||l||d?Cs(u)?f=u:Fs(u)?f=mi(u):l?(h=!1,f=hi(a,!0)):d?(h=!1,f=li(a,!0)):f=[]:Ys(a)||Ns(a)?(f=u,Ns(u)?f=su(u):Vs(u)&&!Ms(u)||(f=io(a))):h=!1}h&&(s.set(a,f),i(f,a,n,o,s),s.delete(a));Kr(t,r,f)}(t,e,s,r,xn,n,i);else{var u=n?n(yo(t,s),o,s+"",t,e,i):void 0;void 0===u&&(u=o),Kr(t,s,u)}}),Su)}function Rn(t,e){var r=t.length;if(r)return so(e+=e<0?r:0,r)?t[e]:void 0}function Nn(t,e,r){e=e.length?le(e,(function(t){return Cs(t)?function(e){return hn(e,1===t.length?t[0]:t)}:t})):[Gu];var n=-1;return e=le(e,xe(Xi())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(Pn(t,(function(t,r,i){return{criteria:le(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,u=r.length;for(;++n<s;){var a=di(i[n],o[n]);if(a){if(n>=u)return a;var c=r[n];return a*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)}))}function Cn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],u=hn(t,s);r(u,s)&&Kn(o,ui(s,t),u)}return o}function Bn(t,e,r,n){var i=n?we:Se,o=-1,s=e.length,u=t;for(t===e&&(e=mi(e)),r&&(u=le(t,xe(r)));++o<s;)for(var a=0,c=e[o],f=r?r(c):c;(a=i(u,f,a,n))>-1;)u!==t&&Zt.call(u,a,1),Zt.call(t,a,1);return t}function Un(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;so(i)?Zt.call(t,i,1):$n(t,i)}}return t}function Fn(t,e){return t+$e(cr()*(e-t+1))}function Dn(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=$e(e/2))&&(t+=t)}while(e);return r}function Ln(t,e){return So(go(t,e,Gu),t+"")}function Hn(t){return Lr(Tu(t))}function Mn(t,e){var r=Tu(t);return Oo(r,qr(e,0,r.length))}function Kn(t,e,r,n){if(!Vs(t))return t;for(var i=-1,o=(e=ui(e,t)).length,s=o-1,u=t;null!=u&&++i<o;){var a=ko(e[i]),c=r;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(i!=s){var f=u[a];void 0===(c=n?n(f,a,u):void 0)&&(c=Vs(f)?f:so(e[i+1])?[]:{})}jr(u,a,c),u=u[a]}return t}var jn=mr?function(t,e){return mr.set(t,e),t}:Gu,Vn=ke?function(t,e){return ke(t,"toString",{configurable:!0,enumerable:!1,value:Vu(e),writable:!0})}:Gu;function Wn(t){return Oo(Tu(t))}function zn(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function Gn(t,e){var r;return $r(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function Yn(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!Qs(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return qn(t,e,Gu,r)}function qn(t,e,r,n){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=r(e))!=e,u=null===e,a=Qs(e),c=void 0===e;i<o;){var f=$e((i+o)/2),h=r(t[f]),p=void 0!==h,l=null===h,d=h==h,g=Qs(h);if(s)var v=n||d;else v=c?d&&(n||p):u?d&&p&&(n||!l):a?d&&p&&!l&&(n||!g):!l&&!g&&(n?h<=e:h<e);v?i=f+1:o=f}return sr(o,4294967294)}function Zn(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],u=e?e(s):s;if(!r||!Ts(u,a)){var a=u;o[i++]=0===s?0:s}}return o}function Xn(t){return"number"==typeof t?t:Qs(t)?NaN:+t}function Qn(t){if("string"==typeof t)return t;if(Cs(t))return le(t,Qn)+"";if(Qs(t))return kr?kr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jn(t,e,r){var n=-1,i=he,o=t.length,s=!0,u=[],a=u;if(r)s=!1,i=pe;else if(o>=200){var c=e?null:Di(t);if(c)return Ve(c);s=!1,i=Ne,a=new Ur}else a=e?[]:u;t:for(;++n<o;){var f=t[n],h=e?e(f):f;if(f=r||0!==f?f:0,s&&h==h){for(var p=a.length;p--;)if(a[p]===h)continue t;e&&a.push(h),u.push(f)}else i(a,h,r)||(a!==u&&a.push(h),u.push(f))}return u}function $n(t,e){return null==(t=vo(t,e=ui(e,t)))||delete t[ko(Ho(e))]}function ti(t,e,r,n){return Kn(t,e,r(hn(t,e)),n)}function ei(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?zn(t,n?0:o,n?o+1:i):zn(t,n?o+1:0,n?i:o)}function ri(t,e){var r=t;return r instanceof Rr&&(r=r.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),r)}function ni(t,e,r){var i=t.length;if(i<2)return i?Jn(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var u=t[o],a=-1;++a<i;)a!=o&&(s[o]=Jr(s[o]||u,t[a],e,r));return Jn(on(s,1),e,r)}function ii(t,e,r){for(var n=-1,i=t.length,o=e.length,s={};++n<i;){var u=n<o?e[n]:void 0;r(s,t[n],u)}return s}function oi(t){return Fs(t)?t:[]}function si(t){return"function"==typeof t?t:Gu}function ui(t,e){return Cs(t)?t:ao(t,e)?[t]:Eo(uu(t))}var ai=Ln;function ci(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:zn(t,e,r)}var fi=Ze||function(t){return Yt.clearTimeout(t)};function hi(t,e){if(e)return t.slice();var r=t.length,n=jt?jt(r):new t.constructor(r);return t.copy(n),n}function pi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function li(t,e){var r=e?pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function di(t,e){if(t!==e){var r=void 0!==t,n=null===t,i=t==t,o=Qs(t),s=void 0!==e,u=null===e,a=e==e,c=Qs(e);if(!u&&!c&&!o&&t>e||o&&s&&a&&!u&&!c||n&&s&&a||!r&&a||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||u&&r&&i||!s&&i||!a)return-1}return 0}function gi(t,e,r,i){for(var o=-1,s=t.length,u=r.length,a=-1,c=e.length,f=or(s-u,0),h=n(c+f),p=!i;++a<c;)h[a]=e[a];for(;++o<u;)(p||o<s)&&(h[r[o]]=t[o]);for(;f--;)h[a++]=t[o++];return h}function vi(t,e,r,i){for(var o=-1,s=t.length,u=-1,a=r.length,c=-1,f=e.length,h=or(s-a,0),p=n(h+f),l=!i;++o<h;)p[o]=t[o];for(var d=o;++c<f;)p[d+c]=e[c];for(;++u<a;)(l||o<s)&&(p[d+r[u]]=t[o++]);return p}function mi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function yi(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var u=e[o],a=n?n(r[u],t[u],u,r,t):void 0;void 0===a&&(a=t[u]),i?Gr(r,u,a):jr(r,u,a)}return r}function _i(t,e){return function(r,n){var i=Cs(r)?se:Wr,o=e?e():{};return i(r,t,Xi(n,2),o)}}function bi(t){return Ln((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&uo(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=gt(e);++n<i;){var u=r[n];u&&t(e,u,n,o)}return e}))}function Si(t,e){return function(r,n){if(null==r)return r;if(!Us(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=gt(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function wi(t){return function(e,r,n){for(var i=-1,o=gt(e),s=n(e),u=s.length;u--;){var a=s[t?u:++i];if(!1===r(o[a],a,o))break}return e}}function Ii(t){return function(e){var r=He(e=uu(e))?Ge(e):void 0,n=r?r[0]:e.charAt(0),i=r?ci(r,1).join(""):e.slice(1);return n[t]()+i}}function Oi(t){return function(e){return ge(Mu(Nu(e).replace(Nt,"")),t,"")}}function Ei(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Ar(t.prototype),n=t.apply(r,e);return Vs(n)?n:r}}function ki(t){return function(e,r,n){var i=gt(e);if(!Us(e)){var o=Xi(r,3);e=bu(e),r=function(t){return o(i[t],t,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}function Pi(t){return Wi((function(e){var r=e.length,n=r,i=xr.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new yt(o);if(i&&!u&&"wrapper"==qi(s))var u=new xr([],!0)}for(n=u?n:r;++n<r;){var a=qi(s=e[n]),c="wrapper"==a?Yi(s):void 0;u=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[qi(c[0])].apply(u,c[3]):1==s.length&&co(s)?u[a]():u.thru(s)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Cs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Ai(t,e,r,i,o,s,u,a,c,f){var h=128&e,p=1&e,l=2&e,d=24&e,g=512&e,v=l?void 0:Ei(t);return function m(){for(var y=arguments.length,_=n(y),b=y;b--;)_[b]=arguments[b];if(d)var S=Zi(m),w=Ue(_,S);if(i&&(_=gi(_,i,o,d)),s&&(_=vi(_,s,u,d)),y-=w,d&&y<f){var I=je(_,S);return Ui(t,e,Ai,m.placeholder,r,_,I,a,c,f-y)}var O=p?r:this,E=l?O[t]:t;return y=_.length,a?_=mo(_,a):g&&y>1&&_.reverse(),h&&c<y&&(_.length=c),this&&this!==Yt&&this instanceof m&&(E=v||Ei(E)),E.apply(O,_)}}function Ti(t,e){return function(r,n){return function(t,e,r,n){return an(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function xi(t,e){return function(r,n){var i;if(void 0===r&&void 0===n)return e;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Qn(r),n=Qn(n)):(r=Xn(r),n=Xn(n)),i=t(r,n)}return i}}function Ri(t){return Wi((function(e){return e=le(e,xe(Xi())),Ln((function(r){var n=this;return t(e,(function(t){return oe(t,n,r)}))}))}))}function Ni(t,e){var r=(e=void 0===e?" ":Qn(e)).length;if(r<2)return r?Dn(e,t):e;var n=Dn(e,Je(t/ze(e)));return He(e)?ci(Ge(n),0,t).join(""):n.slice(0,t)}function Ci(t){return function(e,r,i){return i&&"number"!=typeof i&&uo(e,r,i)&&(r=i=void 0),e=ru(e),void 0===r?(r=e,e=0):r=ru(r),function(t,e,r,i){for(var o=-1,s=or(Je((e-t)/(r||1)),0),u=n(s);s--;)u[i?s:++o]=t,t+=r;return u}(e,r,i=void 0===i?e<r?1:-1:ru(i),t)}}function Bi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ou(e),r=ou(r)),t(e,r)}}function Ui(t,e,r,n,i,o,s,u,a,c){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var h=[t,e,i,f?o:void 0,f?s:void 0,f?void 0:o,f?void 0:s,u,a,c],p=r.apply(void 0,h);return co(t)&&_o(p,h),p.placeholder=n,wo(p,t,e)}function Fi(t){var e=dt[t];return function(t,r){if(t=ou(t),(r=null==r?0:sr(nu(r),292))&&rr(t)){var n=(uu(t)+"e").split("e");return+((n=(uu(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Di=dr&&1/Ve(new dr([,-0]))[1]==1/0?function(t){return new dr(t)}:Qu;function Li(t){return function(e){var r=ro(e);return r==g?Me(e):r==_?We(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Hi(t,e,r,i,u,a,c,f){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(o);var p=i?i.length:0;if(p||(e&=-97,i=u=void 0),c=void 0===c?c:or(nu(c),0),f=void 0===f?f:nu(f),p-=u?u.length:0,64&e){var l=i,d=u;i=u=void 0}var g=h?void 0:Yi(t),v=[t,e,r,i,u,l,d,a,c,f];if(g&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,u=128==n&&8==r||128==n&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!u)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var a=e[3];if(a){var c=t[3];t[3]=c?gi(c,a,e[4]):a,t[4]=c?je(t[3],s):e[4]}(a=e[5])&&(c=t[5],t[5]=c?vi(c,a,e[6]):a,t[6]=c?je(t[5],s):e[6]);(a=e[7])&&(t[7]=a);128&n&&(t[8]=null==t[8]?e[8]:sr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],r=v[2],i=v[3],u=v[4],!(f=v[9]=void 0===v[9]?h?0:t.length:or(v[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,r){var i=Ei(t);return function o(){for(var s=arguments.length,u=n(s),a=s,c=Zi(o);a--;)u[a]=arguments[a];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:je(u,c);if((s-=f.length)<r)return Ui(t,e,Ai,o.placeholder,void 0,u,f,void 0,void 0,r-s);var h=this&&this!==Yt&&this instanceof o?i:t;return oe(h,this,u)}}(t,e,f):32!=e&&33!=e||u.length?Ai.apply(void 0,v):function(t,e,r,i){var o=1&e,s=Ei(t);return function e(){for(var u=-1,a=arguments.length,c=-1,f=i.length,h=n(f+a),p=this&&this!==Yt&&this instanceof e?s:t;++c<f;)h[c]=i[c];for(;a--;)h[c++]=arguments[++u];return oe(p,o?r:this,h)}}(t,e,r,i);else var m=function(t,e,r){var n=1&e,i=Ei(t);return function e(){var o=this&&this!==Yt&&this instanceof e?i:t;return o.apply(n?r:this,arguments)}}(t,e,r);return wo((g?jn:_o)(m,v),t,e)}function Mi(t,e,r,n){return void 0===t||Ts(t,St[r])&&!Ot.call(n,r)?e:t}function Ki(t,e,r,n,i,o){return Vs(t)&&Vs(e)&&(o.set(e,t),xn(t,e,void 0,Ki,o),o.delete(e)),t}function ji(t){return Ys(t)?void 0:t}function Vi(t,e,r,n,i,o){var s=1&r,u=t.length,a=e.length;if(u!=a&&!(s&&a>u))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var h=-1,p=!0,l=2&r?new Ur:void 0;for(o.set(t,e),o.set(e,t);++h<u;){var d=t[h],g=e[h];if(n)var v=s?n(g,d,h,e,t,o):n(d,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(l){if(!me(e,(function(t,e){if(!Ne(l,e)&&(d===t||i(d,t,r,n,o)))return l.push(e)}))){p=!1;break}}else if(d!==g&&!i(d,g,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Wi(t){return So(go(t,void 0,Bo),t+"")}function zi(t){return pn(t,bu,to)}function Gi(t){return pn(t,Su,eo)}var Yi=mr?function(t){return mr.get(t)}:Qu;function qi(t){for(var e=t.name+"",r=yr[e],n=Ot.call(yr,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Zi(t){return(Ot.call(Pr,"placeholder")?Pr:t).placeholder}function Xi(){var t=Pr.iteratee||Yu;return t=t===Yu?In:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=bu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,po(i)]}return e}function $i(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return wn(r)?r:void 0}var to=tr?function(t){return null==t?[]:(t=gt(t),fe(tr(t),(function(e){return qt.call(t,e)})))}:ia,eo=tr?function(t){for(var e=[];t;)de(e,to(t)),t=zt(t);return e}:ia,ro=ln;function no(t,e,r){for(var n=-1,i=(e=ui(e,t)).length,o=!1;++n<i;){var s=ko(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&js(i)&&so(s,i)&&(Cs(t)||Ns(t))}function io(t){return"function"!=typeof t.constructor||ho(t)?{}:Ar(zt(t))}function oo(t){return Cs(t)||Ns(t)||!!(Qt&&t&&t[Qt])}function so(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&at.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,r){if(!Vs(r))return!1;var n=typeof e;return!!("number"==n?Us(r)&&so(e,r.length):"string"==n&&e in r)&&Ts(r[e],t)}function ao(t,e){if(Cs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Qs(t))||(W.test(t)||!V.test(t)||null!=e&&t in gt(e))}function co(t){var e=qi(t),r=Pr[e];if("function"!=typeof r||!(e in Rr.prototype))return!1;if(t===r)return!0;var n=Yi(r);return!!n&&t===n[0]}(hr&&ro(new hr(new ArrayBuffer(1)))!=O||pr&&ro(new pr)!=g||lr&&"[object Promise]"!=ro(lr.resolve())||dr&&ro(new dr)!=_||gr&&ro(new gr)!=w)&&(ro=function(t){var e=ln(t),r=e==m?t.constructor:void 0,n=r?Po(r):"";if(n)switch(n){case _r:return O;case br:return g;case Sr:return"[object Promise]";case wr:return _;case Ir:return w}return e});var fo=wt?Ms:oa;function ho(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||St)}function po(t){return t==t&&!Vs(t)}function lo(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in gt(r)))}}function go(t,e,r){return e=or(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=or(i.length-e,0),u=n(s);++o<s;)u[o]=i[e+o];o=-1;for(var a=n(e+1);++o<e;)a[o]=i[o];return a[e]=r(u),oe(t,this,a)}}function vo(t,e){return e.length<2?t:hn(t,zn(e,0,-1))}function mo(t,e){for(var r=t.length,n=sr(e.length,r),i=mi(t);n--;){var o=e[n];t[n]=so(o,r)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _o=Io(jn),bo=Qe||function(t,e){return Yt.setTimeout(t,e)},So=Io(Vn);function wo(t,e,r){var n=e+"";return So(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ue(u,(function(r){var n="_."+r[0];e&r[1]&&!he(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split($):[]}(n),r)))}function Io(t){var e=0,r=0;return function(){var n=ur(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Oo(t,e){var r=-1,n=t.length,i=n-1;for(e=void 0===e?n:e;++r<e;){var o=Fn(r,i),s=t[o];t[o]=t[r],t[r]=s}return t.length=e,t}var Eo=function(t){var e=Is(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,(function(t,r,n,i){e.push(n?i.replace(et,"$1"):r||t)})),e}));function ko(t){if("string"==typeof t||Qs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Po(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ao(t){if(t instanceof Rr)return t.clone();var e=new xr(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var To=Ln((function(t,e){return Fs(t)?Jr(t,on(e,1,Fs,!0)):[]})),xo=Ln((function(t,e){var r=Ho(e);return Fs(r)&&(r=void 0),Fs(t)?Jr(t,on(e,1,Fs,!0),Xi(r,2)):[]})),Ro=Ln((function(t,e){var r=Ho(e);return Fs(r)&&(r=void 0),Fs(t)?Jr(t,on(e,1,Fs,!0),void 0,r):[]}));function No(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:nu(r);return i<0&&(i=or(n+i,0)),be(t,Xi(e,3),i)}function Co(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=nu(r),i=r<0?or(n+i,0):sr(i,n-1)),be(t,Xi(e,3),i,!0)}function Bo(t){return(null==t?0:t.length)?on(t,1):[]}function Uo(t){return t&&t.length?t[0]:void 0}var Fo=Ln((function(t){var e=le(t,oi);return e.length&&e[0]===t[0]?mn(e):[]})),Do=Ln((function(t){var e=Ho(t),r=le(t,oi);return e===Ho(r)?e=void 0:r.pop(),r.length&&r[0]===t[0]?mn(r,Xi(e,2)):[]})),Lo=Ln((function(t){var e=Ho(t),r=le(t,oi);return(e="function"==typeof e?e:void 0)&&r.pop(),r.length&&r[0]===t[0]?mn(r,void 0,e):[]}));function Ho(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Mo=Ln(Ko);function Ko(t,e){return t&&t.length&&e&&e.length?Bn(t,e):t}var jo=Wi((function(t,e){var r=null==t?0:t.length,n=Yr(t,e);return Un(t,le(e,(function(t){return so(t,r)?+t:t})).sort(di)),n}));function Vo(t){return null==t?t:fr.call(t)}var Wo=Ln((function(t){return Jn(on(t,1,Fs,!0))})),zo=Ln((function(t){var e=Ho(t);return Fs(e)&&(e=void 0),Jn(on(t,1,Fs,!0),Xi(e,2))})),Go=Ln((function(t){var e=Ho(t);return e="function"==typeof e?e:void 0,Jn(on(t,1,Fs,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(Fs(t))return e=or(t.length,e),!0})),Te(e,(function(e){return le(t,Ee(e))}))}function qo(t,e){if(!t||!t.length)return[];var r=Yo(t);return null==e?r:le(r,(function(t){return oe(e,void 0,t)}))}var Zo=Ln((function(t,e){return Fs(t)?Jr(t,e):[]})),Xo=Ln((function(t){return ni(fe(t,Fs))})),Qo=Ln((function(t){var e=Ho(t);return Fs(e)&&(e=void 0),ni(fe(t,Fs),Xi(e,2))})),Jo=Ln((function(t){var e=Ho(t);return e="function"==typeof e?e:void 0,ni(fe(t,Fs),void 0,e)})),$o=Ln(Yo);var ts=Ln((function(t){var e=t.length,r=e>1?t[e-1]:void 0;return r="function"==typeof r?(t.pop(),r):void 0,qo(t,r)}));function es(t){var e=Pr(t);return e.__chain__=!0,e}function rs(t,e){return e(t)}var ns=Wi((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return Yr(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Rr&&so(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new xr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var is=_i((function(t,e,r){Ot.call(t,r)?++t[r]:Gr(t,r,1)}));var os=ki(No),ss=ki(Co);function us(t,e){return(Cs(t)?ue:$r)(t,Xi(e,3))}function as(t,e){return(Cs(t)?ae:tn)(t,Xi(e,3))}var cs=_i((function(t,e,r){Ot.call(t,r)?t[r].push(e):Gr(t,r,[e])}));var fs=Ln((function(t,e,r){var i=-1,o="function"==typeof e,s=Us(t)?n(t.length):[];return $r(t,(function(t){s[++i]=o?oe(e,t,r):yn(t,e,r)})),s})),hs=_i((function(t,e,r){Gr(t,r,e)}));function ps(t,e){return(Cs(t)?le:Pn)(t,Xi(e,3))}var ls=_i((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var ds=Ln((function(t,e){if(null==t)return[];var r=e.length;return r>1&&uo(t,e[0],e[1])?e=[]:r>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),Nn(t,on(e,1),[])})),gs=Xe||function(){return Yt.Date.now()};function vs(t,e,r){return e=r?void 0:e,Hi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ms(t,e){var r;if("function"!=typeof e)throw new yt(o);return t=nu(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var ys=Ln((function(t,e,r){var n=1;if(r.length){var i=je(r,Zi(ys));n|=32}return Hi(t,n,e,r,i)})),_s=Ln((function(t,e,r){var n=3;if(r.length){var i=je(r,Zi(_s));n|=32}return Hi(e,n,t,r,i)}));function bs(t,e,r){var n,i,s,u,a,c,f=0,h=!1,p=!1,l=!0;if("function"!=typeof t)throw new yt(o);function d(e){var r=n,o=i;return n=i=void 0,f=e,u=t.apply(o,r)}function g(t){return f=t,a=bo(m,e),h?d(t):u}function v(t){var r=t-c;return void 0===c||r>=e||r<0||p&&t-f>=s}function m(){var t=gs();if(v(t))return y(t);a=bo(m,function(t){var r=e-(t-c);return p?sr(r,s-(t-f)):r}(t))}function y(t){return a=void 0,l&&n?d(t):(n=i=void 0,u)}function _(){var t=gs(),r=v(t);if(n=arguments,i=this,c=t,r){if(void 0===a)return g(c);if(p)return fi(a),a=bo(m,e),d(c)}return void 0===a&&(a=bo(m,e)),u}return e=ou(e)||0,Vs(r)&&(h=!!r.leading,s=(p="maxWait"in r)?or(ou(r.maxWait)||0,e):s,l="trailing"in r?!!r.trailing:l),_.cancel=function(){void 0!==a&&fi(a),f=0,n=c=i=a=void 0},_.flush=function(){return void 0===a?u:y(gs())},_}var Ss=Ln((function(t,e){return Qr(t,1,e)})),ws=Ln((function(t,e,r){return Qr(t,ou(e)||0,r)}));function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Is.Cache||Br),r}function Os(t){if("function"!=typeof t)throw new yt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Br;var Es=ai((function(t,e){var r=(e=1==e.length&&Cs(e[0])?le(e[0],xe(Xi())):le(on(e,1),xe(Xi()))).length;return Ln((function(n){for(var i=-1,o=sr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return oe(t,this,n)}))})),ks=Ln((function(t,e){return Hi(t,32,void 0,e,je(e,Zi(ks)))})),Ps=Ln((function(t,e){return Hi(t,64,void 0,e,je(e,Zi(Ps)))})),As=Wi((function(t,e){return Hi(t,256,void 0,void 0,void 0,e)}));function Ts(t,e){return t===e||t!=t&&e!=e}var xs=Bi(dn),Rs=Bi((function(t,e){return t>=e})),Ns=_n(function(){return arguments}())?_n:function(t){return Ws(t)&&Ot.call(t,"callee")&&!qt.call(t,"callee")},Cs=n.isArray,Bs=$t?xe($t):function(t){return Ws(t)&&ln(t)==I};function Us(t){return null!=t&&js(t.length)&&!Ms(t)}function Fs(t){return Ws(t)&&Us(t)}var Ds=er||oa,Ls=te?xe(te):function(t){return Ws(t)&&ln(t)==h};function Hs(t){if(!Ws(t))return!1;var e=ln(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ys(t)}function Ms(t){if(!Vs(t))return!1;var e=ln(t);return e==l||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ks(t){return"number"==typeof t&&t==nu(t)}function js(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Vs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ws(t){return null!=t&&"object"==typeof t}var zs=ee?xe(ee):function(t){return Ws(t)&&ro(t)==g};function Gs(t){return"number"==typeof t||Ws(t)&&ln(t)==v}function Ys(t){if(!Ws(t)||ln(t)!=m)return!1;var e=zt(t);if(null===e)return!0;var r=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&It.call(r)==At}var qs=re?xe(re):function(t){return Ws(t)&&ln(t)==y};var Zs=ne?xe(ne):function(t){return Ws(t)&&ro(t)==_};function Xs(t){return"string"==typeof t||!Cs(t)&&Ws(t)&&ln(t)==b}function Qs(t){return"symbol"==typeof t||Ws(t)&&ln(t)==S}var Js=ie?xe(ie):function(t){return Ws(t)&&js(t.length)&&!!Mt[ln(t)]};var $s=Bi(kn),tu=Bi((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Us(t))return Xs(t)?Ge(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Jt]());var e=ro(t);return(e==g?Me:e==_?Ve:Tu)(t)}function ru(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function nu(t){var e=ru(t),r=e%1;return e==e?r?e-r:e:0}function iu(t){return t?qr(nu(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Qs(t))return NaN;if(Vs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Vs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var r=ot.test(t);return r||ut.test(t)?Wt(t.slice(2),r?2:8):it.test(t)?NaN:+t}function su(t){return yi(t,Su(t))}function uu(t){return null==t?"":Qn(t)}var au=bi((function(t,e){if(ho(e)||Us(e))yi(e,bu(e),t);else for(var r in e)Ot.call(e,r)&&jr(t,r,e[r])})),cu=bi((function(t,e){yi(e,Su(e),t)})),fu=bi((function(t,e,r,n){yi(e,Su(e),t,n)})),hu=bi((function(t,e,r,n){yi(e,bu(e),t,n)})),pu=Wi(Yr);var lu=Ln((function(t,e){t=gt(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],s=Su(o),u=-1,a=s.length;++u<a;){var c=s[u],f=t[c];(void 0===f||Ts(f,St[c])&&!Ot.call(t,c))&&(t[c]=o[c])}return t})),du=Ln((function(t){return t.push(void 0,Ki),oe(Iu,void 0,t)}));function gu(t,e,r){var n=null==t?void 0:hn(t,e);return void 0===n?r:n}function vu(t,e){return null!=t&&no(t,e,vn)}var mu=Ti((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=r}),Vu(Gu)),yu=Ti((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),Ot.call(t,e)?t[e].push(r):t[e]=[r]}),Xi),_u=Ln(yn);function bu(t){return Us(t)?Dr(t):On(t)}function Su(t){return Us(t)?Dr(t,!0):En(t)}var wu=bi((function(t,e,r){xn(t,e,r)})),Iu=bi((function(t,e,r,n){xn(t,e,r,n)})),Ou=Wi((function(t,e){var r={};if(null==t)return r;var n=!1;e=le(e,(function(e){return e=ui(e,t),n||(n=e.length>1),e})),yi(t,Gi(t),r),n&&(r=Zr(r,7,ji));for(var i=e.length;i--;)$n(r,e[i]);return r}));var Eu=Wi((function(t,e){return null==t?{}:function(t,e){return Cn(t,e,(function(e,r){return vu(t,r)}))}(t,e)}));function ku(t,e){if(null==t)return{};var r=le(Gi(t),(function(t){return[t]}));return e=Xi(e),Cn(t,r,(function(t,r){return e(t,r[0])}))}var Pu=Li(bu),Au=Li(Su);function Tu(t){return null==t?[]:Re(t,bu(t))}var xu=Oi((function(t,e,r){return e=e.toLowerCase(),t+(r?Ru(e):e)}));function Ru(t){return Hu(uu(t).toLowerCase())}function Nu(t){return(t=uu(t))&&t.replace(ct,Fe).replace(Ct,"")}var Cu=Oi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Bu=Oi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Uu=Ii("toLowerCase");var Fu=Oi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Du=Oi((function(t,e,r){return t+(r?" ":"")+Hu(e)}));var Lu=Oi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Hu=Ii("toUpperCase");function Mu(t,e,r){return t=uu(t),void 0===(e=r?void 0:e)?function(t){return Dt.test(t)}(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Ku=Ln((function(t,e){try{return oe(t,void 0,e)}catch(t){return Hs(t)?t:new pt(t)}})),ju=Wi((function(t,e){return ue(e,(function(e){e=ko(e),Gr(t,e,ys(t[e],t))})),t}));function Vu(t){return function(){return t}}var Wu=Pi(),zu=Pi(!0);function Gu(t){return t}function Yu(t){return In("function"==typeof t?t:Zr(t,1))}var qu=Ln((function(t,e){return function(r){return yn(r,t,e)}})),Zu=Ln((function(t,e){return function(r){return yn(t,r,e)}}));function Xu(t,e,r){var n=bu(e),i=fn(e,n);null!=r||Vs(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=fn(e,bu(e)));var o=!(Vs(r)&&"chain"in r&&!r.chain),s=Ms(t);return ue(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=mi(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,de([this.value()],arguments))})})),t}function Qu(){}var Ju=Ri(le),$u=Ri(ce),ta=Ri(me);function ea(t){return ao(t)?Ee(ko(t)):function(t){return function(e){return hn(e,t)}}(t)}var ra=Ci(),na=Ci(!0);function ia(){return[]}function oa(){return!1}var sa=xi((function(t,e){return t+e}),0),ua=Fi("ceil"),aa=xi((function(t,e){return t/e}),1),ca=Fi("floor");var fa,ha=xi((function(t,e){return t*e}),1),pa=Fi("round"),la=xi((function(t,e){return t-e}),0);return Pr.after=function(t,e){if("function"!=typeof e)throw new yt(o);return t=nu(t),function(){if(--t<1)return e.apply(this,arguments)}},Pr.ary=vs,Pr.assign=au,Pr.assignIn=cu,Pr.assignInWith=fu,Pr.assignWith=hu,Pr.at=pu,Pr.before=ms,Pr.bind=ys,Pr.bindAll=ju,Pr.bindKey=_s,Pr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Cs(t)?t:[t]},Pr.chain=es,Pr.chunk=function(t,e,r){e=(r?uo(t,e,r):void 0===e)?1:or(nu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,u=n(Je(i/e));o<i;)u[s++]=zn(t,o,o+=e);return u},Pr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Pr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Cs(r)?mi(r):[r],on(e,1))},Pr.cond=function(t){var e=null==t?0:t.length,r=Xi();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[r(t[0]),t[1]]})):[],Ln((function(r){for(var n=-1;++n<e;){var i=t[n];if(oe(i[0],this,r))return oe(i[1],this,r)}}))},Pr.conforms=function(t){return function(t){var e=bu(t);return function(r){return Xr(r,t,e)}}(Zr(t,1))},Pr.constant=Vu,Pr.countBy=is,Pr.create=function(t,e){var r=Ar(t);return null==e?r:zr(r,e)},Pr.curry=function t(e,r,n){var i=Hi(e,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=t.placeholder,i},Pr.curryRight=function t(e,r,n){var i=Hi(e,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=t.placeholder,i},Pr.debounce=bs,Pr.defaults=lu,Pr.defaultsDeep=du,Pr.defer=Ss,Pr.delay=ws,Pr.difference=To,Pr.differenceBy=xo,Pr.differenceWith=Ro,Pr.drop=function(t,e,r){var n=null==t?0:t.length;return n?zn(t,(e=r||void 0===e?1:nu(e))<0?0:e,n):[]},Pr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?zn(t,0,(e=n-(e=r||void 0===e?1:nu(e)))<0?0:e):[]},Pr.dropRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0,!0):[]},Pr.dropWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0):[]},Pr.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&uo(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=nu(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:nu(n))<0&&(n+=i),n=r>n?0:iu(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Pr.filter=function(t,e){return(Cs(t)?fe:nn)(t,Xi(e,3))},Pr.flatMap=function(t,e){return on(ps(t,e),1)},Pr.flatMapDeep=function(t,e){return on(ps(t,e),1/0)},Pr.flatMapDepth=function(t,e,r){return r=void 0===r?1:nu(r),on(ps(t,e),r)},Pr.flatten=Bo,Pr.flattenDeep=function(t){return(null==t?0:t.length)?on(t,1/0):[]},Pr.flattenDepth=function(t,e){return(null==t?0:t.length)?on(t,e=void 0===e?1:nu(e)):[]},Pr.flip=function(t){return Hi(t,512)},Pr.flow=Wu,Pr.flowRight=zu,Pr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Pr.functions=function(t){return null==t?[]:fn(t,bu(t))},Pr.functionsIn=function(t){return null==t?[]:fn(t,Su(t))},Pr.groupBy=cs,Pr.initial=function(t){return(null==t?0:t.length)?zn(t,0,-1):[]},Pr.intersection=Fo,Pr.intersectionBy=Do,Pr.intersectionWith=Lo,Pr.invert=mu,Pr.invertBy=yu,Pr.invokeMap=fs,Pr.iteratee=Yu,Pr.keyBy=hs,Pr.keys=bu,Pr.keysIn=Su,Pr.map=ps,Pr.mapKeys=function(t,e){var r={};return e=Xi(e,3),an(t,(function(t,n,i){Gr(r,e(t,n,i),t)})),r},Pr.mapValues=function(t,e){var r={};return e=Xi(e,3),an(t,(function(t,n,i){Gr(r,n,e(t,n,i))})),r},Pr.matches=function(t){return An(Zr(t,1))},Pr.matchesProperty=function(t,e){return Tn(t,Zr(e,1))},Pr.memoize=Is,Pr.merge=wu,Pr.mergeWith=Iu,Pr.method=qu,Pr.methodOf=Zu,Pr.mixin=Xu,Pr.negate=Os,Pr.nthArg=function(t){return t=nu(t),Ln((function(e){return Rn(e,t)}))},Pr.omit=Ou,Pr.omitBy=function(t,e){return ku(t,Os(Xi(e)))},Pr.once=function(t){return ms(2,t)},Pr.orderBy=function(t,e,r,n){return null==t?[]:(Cs(e)||(e=null==e?[]:[e]),Cs(r=n?void 0:r)||(r=null==r?[]:[r]),Nn(t,e,r))},Pr.over=Ju,Pr.overArgs=Es,Pr.overEvery=$u,Pr.overSome=ta,Pr.partial=ks,Pr.partialRight=Ps,Pr.partition=ls,Pr.pick=Eu,Pr.pickBy=ku,Pr.property=ea,Pr.propertyOf=function(t){return function(e){return null==t?void 0:hn(t,e)}},Pr.pull=Mo,Pr.pullAll=Ko,Pr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Bn(t,e,Xi(r,2)):t},Pr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Bn(t,e,void 0,r):t},Pr.pullAt=jo,Pr.range=ra,Pr.rangeRight=na,Pr.rearg=As,Pr.reject=function(t,e){return(Cs(t)?fe:nn)(t,Os(Xi(e,3)))},Pr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=Xi(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Un(t,i),r},Pr.rest=function(t,e){if("function"!=typeof t)throw new yt(o);return Ln(t,e=void 0===e?e:nu(e))},Pr.reverse=Vo,Pr.sampleSize=function(t,e,r){return e=(r?uo(t,e,r):void 0===e)?1:nu(e),(Cs(t)?Hr:Mn)(t,e)},Pr.set=function(t,e,r){return null==t?t:Kn(t,e,r)},Pr.setWith=function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:Kn(t,e,r,n)},Pr.shuffle=function(t){return(Cs(t)?Mr:Wn)(t)},Pr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&uo(t,e,r)?(e=0,r=n):(e=null==e?0:nu(e),r=void 0===r?n:nu(r)),zn(t,e,r)):[]},Pr.sortBy=ds,Pr.sortedUniq=function(t){return t&&t.length?Zn(t):[]},Pr.sortedUniqBy=function(t,e){return t&&t.length?Zn(t,Xi(e,2)):[]},Pr.split=function(t,e,r){return r&&"number"!=typeof r&&uo(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!qs(e))&&!(e=Qn(e))&&He(t)?ci(Ge(t),0,r):t.split(e,r):[]},Pr.spread=function(t,e){if("function"!=typeof t)throw new yt(o);return e=null==e?0:or(nu(e),0),Ln((function(r){var n=r[e],i=ci(r,0,e);return n&&de(i,n),oe(t,this,i)}))},Pr.tail=function(t){var e=null==t?0:t.length;return e?zn(t,1,e):[]},Pr.take=function(t,e,r){return t&&t.length?zn(t,0,(e=r||void 0===e?1:nu(e))<0?0:e):[]},Pr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?zn(t,(e=n-(e=r||void 0===e?1:nu(e)))<0?0:e,n):[]},Pr.takeRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!1,!0):[]},Pr.takeWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3)):[]},Pr.tap=function(t,e){return e(t),t},Pr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new yt(o);return Vs(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bs(t,e,{leading:n,maxWait:e,trailing:i})},Pr.thru=rs,Pr.toArray=eu,Pr.toPairs=Pu,Pr.toPairsIn=Au,Pr.toPath=function(t){return Cs(t)?le(t,ko):Qs(t)?[t]:mi(Eo(uu(t)))},Pr.toPlainObject=su,Pr.transform=function(t,e,r){var n=Cs(t),i=n||Ds(t)||Js(t);if(e=Xi(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:Vs(t)&&Ms(o)?Ar(zt(t)):{}}return(i?ue:an)(t,(function(t,n,i){return e(r,t,n,i)})),r},Pr.unary=function(t){return vs(t,1)},Pr.union=Wo,Pr.unionBy=zo,Pr.unionWith=Go,Pr.uniq=function(t){return t&&t.length?Jn(t):[]},Pr.uniqBy=function(t,e){return t&&t.length?Jn(t,Xi(e,2)):[]},Pr.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jn(t,void 0,e):[]},Pr.unset=function(t,e){return null==t||$n(t,e)},Pr.unzip=Yo,Pr.unzipWith=qo,Pr.update=function(t,e,r){return null==t?t:ti(t,e,si(r))},Pr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:ti(t,e,si(r),n)},Pr.values=Tu,Pr.valuesIn=function(t){return null==t?[]:Re(t,Su(t))},Pr.without=Zo,Pr.words=Mu,Pr.wrap=function(t,e){return ks(si(e),t)},Pr.xor=Xo,Pr.xorBy=Qo,Pr.xorWith=Jo,Pr.zip=$o,Pr.zipObject=function(t,e){return ii(t||[],e||[],jr)},Pr.zipObjectDeep=function(t,e){return ii(t||[],e||[],Kn)},Pr.zipWith=ts,Pr.entries=Pu,Pr.entriesIn=Au,Pr.extend=cu,Pr.extendWith=fu,Xu(Pr,Pr),Pr.add=sa,Pr.attempt=Ku,Pr.camelCase=xu,Pr.capitalize=Ru,Pr.ceil=ua,Pr.clamp=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=ou(r))==r?r:0),void 0!==e&&(e=(e=ou(e))==e?e:0),qr(ou(t),e,r)},Pr.clone=function(t){return Zr(t,4)},Pr.cloneDeep=function(t){return Zr(t,5)},Pr.cloneDeepWith=function(t,e){return Zr(t,5,e="function"==typeof e?e:void 0)},Pr.cloneWith=function(t,e){return Zr(t,4,e="function"==typeof e?e:void 0)},Pr.conformsTo=function(t,e){return null==e||Xr(t,e,bu(e))},Pr.deburr=Nu,Pr.defaultTo=function(t,e){return null==t||t!=t?e:t},Pr.divide=aa,Pr.endsWith=function(t,e,r){t=uu(t),e=Qn(e);var n=t.length,i=r=void 0===r?n:qr(nu(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},Pr.eq=Ts,Pr.escape=function(t){return(t=uu(t))&&H.test(t)?t.replace(D,De):t},Pr.escapeRegExp=function(t){return(t=uu(t))&&Y.test(t)?t.replace(G,"\\$&"):t},Pr.every=function(t,e,r){var n=Cs(t)?ce:en;return r&&uo(t,e,r)&&(e=void 0),n(t,Xi(e,3))},Pr.find=os,Pr.findIndex=No,Pr.findKey=function(t,e){return _e(t,Xi(e,3),an)},Pr.findLast=ss,Pr.findLastIndex=Co,Pr.findLastKey=function(t,e){return _e(t,Xi(e,3),cn)},Pr.floor=ca,Pr.forEach=us,Pr.forEachRight=as,Pr.forIn=function(t,e){return null==t?t:sn(t,Xi(e,3),Su)},Pr.forInRight=function(t,e){return null==t?t:un(t,Xi(e,3),Su)},Pr.forOwn=function(t,e){return t&&an(t,Xi(e,3))},Pr.forOwnRight=function(t,e){return t&&cn(t,Xi(e,3))},Pr.get=gu,Pr.gt=xs,Pr.gte=Rs,Pr.has=function(t,e){return null!=t&&no(t,e,gn)},Pr.hasIn=vu,Pr.head=Uo,Pr.identity=Gu,Pr.includes=function(t,e,r,n){t=Us(t)?t:Tu(t),r=r&&!n?nu(r):0;var i=t.length;return r<0&&(r=or(i+r,0)),Xs(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Se(t,e,r)>-1},Pr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:nu(r);return i<0&&(i=or(n+i,0)),Se(t,e,i)},Pr.inRange=function(t,e,r){return e=ru(e),void 0===r?(r=e,e=0):r=ru(r),function(t,e,r){return t>=sr(e,r)&&t<or(e,r)}(t=ou(t),e,r)},Pr.invoke=_u,Pr.isArguments=Ns,Pr.isArray=Cs,Pr.isArrayBuffer=Bs,Pr.isArrayLike=Us,Pr.isArrayLikeObject=Fs,Pr.isBoolean=function(t){return!0===t||!1===t||Ws(t)&&ln(t)==f},Pr.isBuffer=Ds,Pr.isDate=Ls,Pr.isElement=function(t){return Ws(t)&&1===t.nodeType&&!Ys(t)},Pr.isEmpty=function(t){if(null==t)return!0;if(Us(t)&&(Cs(t)||"string"==typeof t||"function"==typeof t.splice||Ds(t)||Js(t)||Ns(t)))return!t.length;var e=ro(t);if(e==g||e==_)return!t.size;if(ho(t))return!On(t).length;for(var r in t)if(Ot.call(t,r))return!1;return!0},Pr.isEqual=function(t,e){return bn(t,e)},Pr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:void 0)?r(t,e):void 0;return void 0===n?bn(t,e,void 0,r):!!n},Pr.isError=Hs,Pr.isFinite=function(t){return"number"==typeof t&&rr(t)},Pr.isFunction=Ms,Pr.isInteger=Ks,Pr.isLength=js,Pr.isMap=zs,Pr.isMatch=function(t,e){return t===e||Sn(t,e,Ji(e))},Pr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:void 0,Sn(t,e,Ji(e),r)},Pr.isNaN=function(t){return Gs(t)&&t!=+t},Pr.isNative=function(t){if(fo(t))throw new pt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wn(t)},Pr.isNil=function(t){return null==t},Pr.isNull=function(t){return null===t},Pr.isNumber=Gs,Pr.isObject=Vs,Pr.isObjectLike=Ws,Pr.isPlainObject=Ys,Pr.isRegExp=qs,Pr.isSafeInteger=function(t){return Ks(t)&&t>=-9007199254740991&&t<=9007199254740991},Pr.isSet=Zs,Pr.isString=Xs,Pr.isSymbol=Qs,Pr.isTypedArray=Js,Pr.isUndefined=function(t){return void 0===t},Pr.isWeakMap=function(t){return Ws(t)&&ro(t)==w},Pr.isWeakSet=function(t){return Ws(t)&&"[object WeakSet]"==ln(t)},Pr.join=function(t,e){return null==t?"":nr.call(t,e)},Pr.kebabCase=Cu,Pr.last=Ho,Pr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=nu(r))<0?or(n+i,0):sr(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):be(t,Ie,i,!0)},Pr.lowerCase=Bu,Pr.lowerFirst=Uu,Pr.lt=$s,Pr.lte=tu,Pr.max=function(t){return t&&t.length?rn(t,Gu,dn):void 0},Pr.maxBy=function(t,e){return t&&t.length?rn(t,Xi(e,2),dn):void 0},Pr.mean=function(t){return Oe(t,Gu)},Pr.meanBy=function(t,e){return Oe(t,Xi(e,2))},Pr.min=function(t){return t&&t.length?rn(t,Gu,kn):void 0},Pr.minBy=function(t,e){return t&&t.length?rn(t,Xi(e,2),kn):void 0},Pr.stubArray=ia,Pr.stubFalse=oa,Pr.stubObject=function(){return{}},Pr.stubString=function(){return""},Pr.stubTrue=function(){return!0},Pr.multiply=ha,Pr.nth=function(t,e){return t&&t.length?Rn(t,nu(e)):void 0},Pr.noConflict=function(){return Yt._===this&&(Yt._=Tt),this},Pr.noop=Qu,Pr.now=gs,Pr.pad=function(t,e,r){t=uu(t);var n=(e=nu(e))?ze(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Ni($e(i),r)+t+Ni(Je(i),r)},Pr.padEnd=function(t,e,r){t=uu(t);var n=(e=nu(e))?ze(t):0;return e&&n<e?t+Ni(e-n,r):t},Pr.padStart=function(t,e,r){t=uu(t);var n=(e=nu(e))?ze(t):0;return e&&n<e?Ni(e-n,r)+t:t},Pr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),ar(uu(t).replace(Z,""),e||0)},Pr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&uo(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ru(t),void 0===e?(e=t,t=0):e=ru(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=cr();return sr(t+i*(e-t+Vt("1e-"+((i+"").length-1))),e)}return Fn(t,e)},Pr.reduce=function(t,e,r){var n=Cs(t)?ge:Pe,i=arguments.length<3;return n(t,Xi(e,4),r,i,$r)},Pr.reduceRight=function(t,e,r){var n=Cs(t)?ve:Pe,i=arguments.length<3;return n(t,Xi(e,4),r,i,tn)},Pr.repeat=function(t,e,r){return e=(r?uo(t,e,r):void 0===e)?1:nu(e),Dn(uu(t),e)},Pr.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pr.result=function(t,e,r){var n=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++n<i;){var o=null==t?void 0:t[ko(e[n])];void 0===o&&(n=i,o=r),t=Ms(o)?o.call(t):o}return t},Pr.round=pa,Pr.runInContext=t,Pr.sample=function(t){return(Cs(t)?Lr:Hn)(t)},Pr.size=function(t){if(null==t)return 0;if(Us(t))return Xs(t)?ze(t):t.length;var e=ro(t);return e==g||e==_?t.size:On(t).length},Pr.snakeCase=Fu,Pr.some=function(t,e,r){var n=Cs(t)?me:Gn;return r&&uo(t,e,r)&&(e=void 0),n(t,Xi(e,3))},Pr.sortedIndex=function(t,e){return Yn(t,e)},Pr.sortedIndexBy=function(t,e,r){return qn(t,e,Xi(r,2))},Pr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Yn(t,e);if(n<r&&Ts(t[n],e))return n}return-1},Pr.sortedLastIndex=function(t,e){return Yn(t,e,!0)},Pr.sortedLastIndexBy=function(t,e,r){return qn(t,e,Xi(r,2),!0)},Pr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=Yn(t,e,!0)-1;if(Ts(t[r],e))return r}return-1},Pr.startCase=Du,Pr.startsWith=function(t,e,r){return t=uu(t),r=null==r?0:qr(nu(r),0,t.length),e=Qn(e),t.slice(r,r+e.length)==e},Pr.subtract=la,Pr.sum=function(t){return t&&t.length?Ae(t,Gu):0},Pr.sumBy=function(t,e){return t&&t.length?Ae(t,Xi(e,2)):0},Pr.template=function(t,e,r){var n=Pr.templateSettings;r&&uo(t,e,r)&&(e=void 0),t=uu(t),e=fu({},e,n,Mi);var i,o,s=fu({},e.imports,n.imports,Mi),u=bu(s),a=Re(s,u),c=0,f=e.interpolate||ft,h="__p += '",p=vt((e.escape||ft).source+"|"+f.source+"|"+(f===j?rt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),l="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ht+"]")+"\n";t.replace(p,(function(e,r,n,s,u,a){return n||(n=s),h+=t.slice(c,a).replace(ht,Le),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=a+e.length,e})),h+="';\n";var d=Ot.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(C,""):h).replace(B,"$1").replace(U,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ku((function(){return lt(u,l+"return "+h).apply(void 0,a)}));if(g.source=h,Hs(g))throw g;return g},Pr.times=function(t,e){if((t=nu(t))<1||t>9007199254740991)return[];var r=4294967295,n=sr(t,4294967295);t-=4294967295;for(var i=Te(n,e=Xi(e));++r<t;)e(r);return i},Pr.toFinite=ru,Pr.toInteger=nu,Pr.toLength=iu,Pr.toLower=function(t){return uu(t).toLowerCase()},Pr.toNumber=ou,Pr.toSafeInteger=function(t){return t?qr(nu(t),-9007199254740991,9007199254740991):0===t?t:0},Pr.toString=uu,Pr.toUpper=function(t){return uu(t).toUpperCase()},Pr.trim=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(q,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t),i=Ge(e);return ci(n,Ce(n,i),Be(n,i)+1).join("")},Pr.trimEnd=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(X,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t);return ci(n,0,Be(n,Ge(e))+1).join("")},Pr.trimStart=function(t,e,r){if((t=uu(t))&&(r||void 0===e))return t.replace(Z,"");if(!t||!(e=Qn(e)))return t;var n=Ge(t);return ci(n,Ce(n,Ge(e))).join("")},Pr.truncate=function(t,e){var r=30,n="...";if(Vs(e)){var i="separator"in e?e.separator:i;r="length"in e?nu(e.length):r,n="omission"in e?Qn(e.omission):n}var o=(t=uu(t)).length;if(He(t)){var s=Ge(t);o=s.length}if(r>=o)return t;var u=r-ze(n);if(u<1)return n;var a=s?ci(s,0,u).join(""):t.slice(0,u);if(void 0===i)return a+n;if(s&&(u+=a.length-u),qs(i)){if(t.slice(u).search(i)){var c,f=a;for(i.global||(i=vt(i.source,uu(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;a=a.slice(0,void 0===h?u:h)}}else if(t.indexOf(Qn(i),u)!=u){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+n},Pr.unescape=function(t){return(t=uu(t))&&L.test(t)?t.replace(F,Ye):t},Pr.uniqueId=function(t){var e=++Et;return uu(t)+e},Pr.upperCase=Lu,Pr.upperFirst=Hu,Pr.each=us,Pr.eachRight=as,Pr.first=Uo,Xu(Pr,(fa={},an(Pr,(function(t,e){Ot.call(Pr.prototype,e)||(fa[e]=t)})),fa),{chain:!1}),Pr.VERSION="4.17.20",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pr[t].placeholder=Pr})),ue(["drop","take"],(function(t,e){Rr.prototype[t]=function(r){r=void 0===r?1:or(nu(r),0);var n=this.__filtered__&&!e?new Rr(this):this.clone();return n.__filtered__?n.__takeCount__=sr(r,n.__takeCount__):n.__views__.push({size:sr(r,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},Rr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Rr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),ue(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Rr.prototype[t]=function(){return this[r](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Rr.prototype[t]=function(){return this.__filtered__?new Rr(this):this[r](1)}})),Rr.prototype.compact=function(){return this.filter(Gu)},Rr.prototype.find=function(t){return this.filter(t).head()},Rr.prototype.findLast=function(t){return this.reverse().find(t)},Rr.prototype.invokeMap=Ln((function(t,e){return"function"==typeof t?new Rr(this):this.map((function(r){return yn(r,t,e)}))})),Rr.prototype.reject=function(t){return this.filter(Os(Xi(t)))},Rr.prototype.slice=function(t,e){t=nu(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Rr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),void 0!==e&&(r=(e=nu(e))<0?r.dropRight(-e):r.take(e-t)),r)},Rr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rr.prototype.toArray=function(){return this.take(4294967295)},an(Rr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=Pr[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);i&&(Pr.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,u=e instanceof Rr,a=s[0],c=u||Cs(e),f=function(t){var e=i.apply(Pr,de([t],s));return n&&h?e[0]:e};c&&r&&"function"==typeof a&&1!=a.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,l=o&&!h,d=u&&!p;if(!o&&c){e=d?e:new Rr(this);var g=t.apply(e,s);return g.__actions__.push({func:rs,args:[f],thisArg:void 0}),new xr(g,h)}return l&&d?t.apply(this,s):(g=this.thru(f),l?n?g.value()[0]:g.value():g)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Pr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Cs(i)?i:[],t)}return this[r]((function(r){return e.apply(Cs(r)?r:[],t)}))}})),an(Rr.prototype,(function(t,e){var r=Pr[e];if(r){var n=r.name+"";Ot.call(yr,n)||(yr[n]=[]),yr[n].push({name:e,func:r})}})),yr[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],Rr.prototype.clone=function(){var t=new Rr(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Rr.prototype.reverse=function(){if(this.__filtered__){var t=new Rr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Cs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=sr(e,t+s);break;case"takeRight":t=or(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,u=o.end,a=u-s,c=n?u:s-1,f=this.__iteratees__,h=f.length,p=0,l=sr(a,this.__takeCount__);if(!r||!n&&i==a&&l==a)return ri(t,this.__actions__);var d=[];t:for(;a--&&p<l;){for(var g=-1,v=t[c+=e];++g<h;){var m=f[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue t;break t}}d[p++]=v}return d},Pr.prototype.at=ns,Pr.prototype.chain=function(){return es(this)},Pr.prototype.commit=function(){return new xr(this.value(),this.__chain__)},Pr.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pr.prototype.plant=function(t){for(var e,r=this;r instanceof Tr;){var n=Ao(r);n.__index__=0,n.__values__=void 0,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},Pr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rr){var e=t;return this.__actions__.length&&(e=new Rr(this)),(e=e.reverse()).__actions__.push({func:rs,args:[Vo],thisArg:void 0}),new xr(e,this.__chain__)}return this.thru(Vo)},Pr.prototype.toJSON=Pr.prototype.valueOf=Pr.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Pr.prototype.first=Pr.prototype.head,Jt&&(Pr.prototype[Jt]=function(){return this}),Pr}();Yt._=qe,void 0===(i=function(){return qe}.call(e,r,e,n))||(n.exports=i)}).call(this)}).call(this,r(19),r(140)(t))},1179:function(t,e,r){"use strict";var n=r(1187),i=r(1178);t.exports={checkState:function(t,e){if(!t)throw new n.InvalidState(e)},checkArgument:function(t,e,r,i){if(!t)throw new n.InvalidArgument(e,r,i)},checkArgumentType:function(t,e,o){if(o=o||"(unknown name)",i.isString(e)){if("Buffer"===e){if(!r(22).Buffer.isBuffer(t))throw new n.InvalidArgumentType(t,e,o)}else if(typeof t!==e)throw new n.InvalidArgumentType(t,e,o)}else if(!(t instanceof e))throw new n.InvalidArgumentType(t,e.name,o)}}},1180:function(t,e,r){"use strict";(function(e){var n=r(22),i=(r(302),r(1181),r(1179));function o(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}t.exports={fill:function(t,e){i.checkArgumentType(t,"Buffer","buffer"),i.checkArgumentType(e,"number","value");for(var r=t.length,n=0;n<r;n++)t[n]=e;return t},copy:function(t){var r=e.alloc(t.length);return t.copy(r),r},isBuffer:function(t){return n.Buffer.isBuffer(t)||t instanceof Uint8Array},emptyBuffer:function(t){i.checkArgumentType(t,"number","bytes");for(var r=e.alloc(t),n=0;n<t;n++)r.write("\0",n);return r},concat:n.Buffer.concat,equals:o,equal:o,integerAsSingleByteBuffer:function(t){return i.checkArgumentType(t,"number","integer"),e.from([255&t])},integerAsBuffer:function(t){i.checkArgumentType(t,"number","integer");var r=[];return r.push(t>>24&255),r.push(t>>16&255),r.push(t>>8&255),r.push(255&t),e.from(r)},integerFromBuffer:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t[0]<<24|t[1]<<16|t[2]<<8|t[3]},integerFromSingleByteBuffer:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t[0]},bufferToHex:function(t){return i.checkArgumentType(t,"Buffer","buffer"),t.toString("hex")},reverse:function(t){return e.from(t).reverse()}},t.exports.NULL_HASH=t.exports.fill(e.alloc(32),0),t.exports.EMPTY_BUFFER=e.alloc(0)}).call(this,r(22).Buffer)},1181:function(t,e,r){"use strict";var n=r(1178),i=function(t){return!!n.isString(t)&&/^[0-9a-fA-F]+$/.test(t)};t.exports={isValidJSON:function(t){var e;if(!n.isString(t))return!1;try{e=JSON.parse(t)}catch(t){return!1}return"object"==typeof e},isHexa:i,isHexaString:i,cloneArray:function(t){return[].concat(t)},defineImmutable:function(t,e){return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{configurable:!1,enumerable:!0,value:e[r]})})),t},isNaturalNumber:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&t>=0}}},1182:function(t,e,r){"use strict";(function(e){var n=r(75),i=r(1179),o=r(1178),s=function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n++)r[n]=t[t.length-1-n];return r};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(t){return i.checkArgument(o.isNumber(t)),new n(t)},n.fromString=function(t,e){return i.checkArgument(o.isString(t)),new n(t,e)},n.fromBuffer=function(t,e){void 0!==e&&"little"===e.endian&&(t=s(t));var r=t.toString("hex");return new n(r,16)},n.fromSM=function(t,r){var i;if(0===t.length)return n.fromBuffer(e.from([0]));var o="big";return r&&(o=r.endian),"little"===o&&(t=s(t)),128&t[0]?(t[0]=127&t[0],(i=n.fromBuffer(t)).neg().copy(i)):i=n.fromBuffer(t),i},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(t){var r,i;if(t&&t.size){var o=(i=this.toString(16,2)).length/2;r=e.from(i,"hex"),o===t.size?r=r:o>t.size?r=n.trim(r,o):o<t.size&&(r=n.pad(r,o,t.size))}else i=this.toString(16,2),r=e.from(i,"hex");return void 0!==t&&"little"===t.endian&&(r=s(r)),r},n.prototype.toSMBigEndian=function(){var t;return-1===this.cmp(n.Zero)?128&(t=this.neg().toBuffer())[0]?t=e.concat([e.from([128]),t]):t[0]=128|t[0]:128&(t=this.toBuffer())[0]&&(t=e.concat([e.from([0]),t])),1===t.length&0===t[0]&&(t=e.from([])),t},n.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return"little"===e&&(r=s(r)),r},n.fromScriptNumBuffer=function(t,e,r){var o=r||4;if(i.checkArgument(t.length<=o,new Error("script number overflow")),e&&t.length>0&&0==(127&t[t.length-1])&&(t.length<=1||0==(128&t[t.length-2])))throw new Error("non-minimally encoded script number");return n.fromSM(t,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(t,e){return t.slice(e-t.length,t.length)},n.pad=function(t,r,n){for(var i=e.alloc(n),o=0;o<t.length;o++)i[i.length-1-o]=t[t.length-1-o];for(o=0;o<n-r;o++)i[o]=0;return i},t.exports=n}).call(this,r(22).Buffer)},1183:function(t,e,r){"use strict";(function(e){var n=r(608),i=r(1180),o=r(1179),s=t.exports;s.sha1=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha1").update(t).digest()},s.sha1.blocksize=512,s.sha256=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha256").update(t).digest()},s.sha256.blocksize=512,s.sha256sha256=function(t){return o.checkArgument(i.isBuffer(t)),s.sha256(s.sha256(t))},s.ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("ripemd160").update(t).digest()},s.sha256ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),s.ripemd160(s.sha256(t))},s.sha512=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha512").update(t).digest()},s.sha512.blocksize=1024,s.hmac=function(t,r,n){o.checkArgument(i.isBuffer(r)),o.checkArgument(i.isBuffer(n)),o.checkArgument(t.blocksize);var s=t.blocksize/8;if(n.length>s)n=t(n);else if(n<s){var u=e.alloc(s);u.fill(0),n.copy(u),n=u}var a=e.alloc(s);a.fill(92);var c=e.alloc(s);c.fill(54);for(var f=e.alloc(s),h=e.alloc(s),p=0;p<s;p++)f[p]=a[p]^n[p],h[p]=c[p]^n[p];return t(e.concat([f,t(e.concat([h,r]))]))},s.sha256hmac=function(t,e){return s.hmac(s.sha256,t,e)},s.sha512hmac=function(t,e){return s.hmac(s.sha512,t,e)}}).call(this,r(22).Buffer)},1184:function(t,e,r){"use strict";(function(e){var n=r(1180),i=r(302),o=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};o.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce((function(t,e){return t+e.length}),0),this},o.prototype.toBuffer=function(){return this.concat()},o.prototype.concat=function(){return e.concat(this.bufs,this.bufLen)},o.prototype.write=function(t){return i(n.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this},o.prototype.writeReverse=function(t){return i(n.isBuffer(t)),this.bufs.push(n.reverse(t)),this.bufLen+=t.length,this},o.prototype.writeUInt8=function(t){var r=e.alloc(1);return r.writeUInt8(t,0),this.write(r),this},o.prototype.writeUInt16BE=function(t){var r=e.alloc(2);return r.writeUInt16BE(t,0),this.write(r),this},o.prototype.writeUInt16LE=function(t){var r=e.alloc(2);return r.writeUInt16LE(t,0),this.write(r),this},o.prototype.writeUInt32BE=function(t){var r=e.alloc(4);return r.writeUInt32BE(t,0),this.write(r),this},o.prototype.writeInt32LE=function(t){var r=e.alloc(4);return r.writeInt32LE(t,0),this.write(r),this},o.prototype.writeUInt32LE=function(t){var r=e.alloc(4);return r.writeUInt32LE(t,0),this.write(r),this},o.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this},o.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this},o.prototype.writeVarintNum=function(t){var e=o.varintBufNum(t);return this.write(e),this},o.prototype.writeVarintBN=function(t){var e=o.varintBufBN(t);return this.write(e),this},o.varintBufNum=function(t){var r=void 0;return t<253?(r=e.alloc(1)).writeUInt8(t,0):t<65536?((r=e.alloc(3)).writeUInt8(253,0),r.writeUInt16LE(t,1)):t<4294967296?((r=e.alloc(5)).writeUInt8(254,0),r.writeUInt32LE(t,1)):((r=e.alloc(9)).writeUInt8(255,0),r.writeInt32LE(-1&t,1),r.writeUInt32LE(Math.floor(t/4294967296),5)),r},o.varintBufBN=function(t){var r=void 0,n=t.toNumber();if(n<253)(r=e.alloc(1)).writeUInt8(n,0);else if(n<65536)(r=e.alloc(3)).writeUInt8(253,0),r.writeUInt16LE(n,1);else if(n<4294967296)(r=e.alloc(5)).writeUInt8(254,0),r.writeUInt32LE(n,1);else{var i=new o;i.writeUInt8(255),i.writeUInt64LEBN(t);r=i.concat()}return r},t.exports=o}).call(this,r(22).Buffer)},1185:function(t,e,r){"use strict";(function(e){var n=r(1182),i=r(1178),o=r(1179),s=r(1180),u=r(1181),a=function t(e,r){if(!(this instanceof t))return new t(e,r);if(e instanceof n)this.set({r:e,s:r});else if(e){var i=e;this.set(i)}};a.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=void 0!==t.i?t.i:this.i,this.compressed=void 0!==t.compressed?t.compressed:this.compressed,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this},a.fromCompact=function(t){o.checkArgument(s.isBuffer(t),"Argument is expected to be a Buffer");var e=new a,r=!0,i=t.slice(0,1)[0]-27-4;i<0&&(r=!1,i+=4);var u=t.slice(1,33),c=t.slice(33,65);return o.checkArgument(0===i||1===i||2===i||3===i,new Error("i must be 0, 1, 2, or 3")),o.checkArgument(32===u.length,new Error("r must be 32 bytes")),o.checkArgument(32===c.length,new Error("s must be 32 bytes")),e.compressed=r,e.i=i,e.r=n.fromBuffer(u),e.s=n.fromBuffer(c),e},a.fromDER=a.fromBuffer=function(t,e){var r=a.parseDER(t,e),n=new a;return n.r=r.r,n.s=r.s,n},a.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new a.fromDER(r,!1);return n.nhashtype=e,n},a.fromString=function(t){var r=e.from(t,"hex");return a.fromDER(r)},a.parseDER=function(t,e){o.checkArgument(s.isBuffer(t),new Error("DER formatted signature should be a buffer")),i.isUndefined(e)&&(e=!0);var r=t[0];o.checkArgument(48===r,new Error("Header byte should be 0x30"));var u=t[1],a=t.slice(2).length;o.checkArgument(!e||u===a,new Error("Length byte should length of what follows")),u=u<a?u:a;var c=t[2];o.checkArgument(2===c,new Error("Integer byte for r should be 0x02"));var f=t[3],h=t.slice(4,4+f),p=n.fromBuffer(h),l=0===t[4];o.checkArgument(f===h.length,new Error("Length of r incorrect"));var d=t[4+f+0];o.checkArgument(2===d,new Error("Integer byte for s should be 0x02"));var g=t[4+f+1],v=t.slice(4+f+2,4+f+2+g),m=n.fromBuffer(v),y=0===t[4+f+2+2];o.checkArgument(g===v.length,new Error("Length of s incorrect"));var _=4+f+2+g;return o.checkArgument(u===_-2,new Error("Length of signature incorrect")),{header:r,length:u,rheader:c,rlength:f,rneg:l,rbuf:h,r:p,sheader:d,slength:g,sneg:y,sbuf:v,s:m}},a.prototype.toCompact=function(t,r){if(t="number"==typeof t?t:this.i,r="boolean"==typeof r?r:this.compressed,0!==t&&1!==t&&2!==t&&3!==t)throw new Error("i must be equal to 0, 1, 2, or 3");var n=t+27+4;!1===r&&(n-=4);var i=e.from([n]),o=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return e.concat([i,o,s])},a.prototype.toBuffer=a.prototype.toDER=function(){var t=this.r.toBuffer(),r=this.s.toBuffer(),n=!!(128&t[0]),i=!!(128&r[0]),o=n?e.concat([e.from([0]),t]):t,s=i?e.concat([e.from([0]),r]):r,u=o.length,a=s.length,c=2+u+2+a;return e.concat([e.from([48,c,2,u]),o,e.from([2,a]),s])},a.prototype.toString=function(){return this.toDER().toString("hex")},a.isTxDER=function(t){if(t.length<9)return!1;if(t.length>73)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(2!==t[2])return!1;if(0===e)return!1;if(128&n[0])return!1;if(e>1&&0===n[0]&&!(128&n[1]))return!1;var i=t.slice(6+e);return 2===t[6+e-2]&&(0!==r&&(!(128&i[0])&&!(r>1&&0===i[0]&&!(128&i[1]))))},a.prototype.hasLowS=function(){return!this.s.lt(new n(1))&&!this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex"))},a.prototype.hasDefinedHashtype=function(){if(!u.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~a.SIGHASH_ANYONECANPAY;return!(t<a.SIGHASH_ALL||t>a.SIGHASH_SINGLE)},a.prototype.toTxFormat=function(){var t=this.toDER(),r=e.alloc(1);return r.writeUInt8(this.nhashtype,0),e.concat([t,r])},a.SIGHASH_ALL=1,a.SIGHASH_NONE=2,a.SIGHASH_SINGLE=3,a.SIGHASH_ANYONECANPAY=128,t.exports=a}).call(this,r(22).Buffer)},1186:function(t,e,r){t.exports=r(1234),t.exports.Interpreter=r(1273)},1187:function(t,e,r){"use strict";var n=r(1178);function i(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var o=function(t,e){var r=function(){if(n.isString(e.message))this.message=i(e.message,arguments);else{if(!n.isFunction(e.message))throw new Error("Invalid error definition for "+e.name);this.message=e.message.apply(null,arguments)}this.stack=this.message+"\n"+(new Error).stack};return(r.prototype=Object.create(t.prototype)).name=t.prototype.name+e.name,t[e.name]=r,e.errors&&s(r,e.errors),r},s=function(t,e){n.each(e,(function(e){o(t,e)}))},u={Error:function(){this.message="Internal error",this.stack=this.message+"\n"+(new Error).stack}};u.Error.prototype=Object.create(Error.prototype),u.Error.prototype.name="bitcore.Error";var a,c=r(1270);a=u.Error,s(a,c),t.exports=u.Error,t.exports.extend=function(t){return o(u.Error,t)}},1188:function(t,e,r){"use strict";(function(e){var n=r(1182),i=r(1201),o=r(1183),s=r(1181),u=r(1193),a=r(1178),c=r(1179);function f(t,e){if(!(this instanceof f))return new f(t,e);if(c.checkArgument(t,"First argument is required, please include public key data."),t instanceof f)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),s.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||u.defaultNetwork}),this}f.prototype._classifyArgs=function(t,r){var n={compressed:a.isUndefined(r.compressed)||r.compressed};if(t instanceof i)n.point=t;else if(t.x&&t.y)n=f._transformObject(t);else if("string"==typeof t)n=f._transformDER(e.from(t,"hex"));else if(f._isBuffer(t))n=f._transformDER(t);else{if(!f._isPrivateKey(t))throw new TypeError("First argument is an unrecognized data format.");n=f._transformPrivateKey(t)}return n.network||(n.network=a.isUndefined(r.network)?void 0:u.get(r.network)),n},f._isPrivateKey=function(t){return t instanceof r(1203)},f._isBuffer=function(t){return t instanceof e||t instanceof Uint8Array},f._transformPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=i.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e},f._transformDER=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r,o,s,u,h={};if(e=!!a.isUndefined(e)||e,4!==t[0]&&(e||6!==t[0]&&7!==t[0]))if(3===t[0])s=t.slice(1),r=new n(s),(h=f._transformX(!0,r)).compressed=!0;else{if(2!==t[0])throw new TypeError("Invalid DER format public key");s=t.slice(1),r=new n(s),(h=f._transformX(!1,r)).compressed=!0}else{if(s=t.slice(1,33),u=t.slice(33,65),32!==s.length||32!==u.length||65!==t.length)throw new TypeError("Length of x and y must be 32 bytes");r=new n(s),o=new n(u),h.point=new i(r,o),h.compressed=!1}return h},f._transformX=function(t,e){c.checkArgument("boolean"==typeof t,"Must specify whether y is odd or not (true or false)");var r={};return r.point=i.fromX(t,e),r},f._transformObject=function(t){var e=new n(t.x,"hex"),r=new n(t.y,"hex");return new f(new i(e,r),{compressed:t.compressed})},f.fromPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e=f._transformPrivateKey(t);return new f(e.point,{compressed:e.compressed,network:e.network})},f.fromDER=f.fromBuffer=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=f._transformDER(t,e);return new f(r.point,{compressed:r.compressed})},f.fromPoint=function(t,e){return c.checkArgument(t instanceof i,"First argument must be an instance of Point."),new f(t,{compressed:e})},f.fromString=function(t,r){var n=e.from(t,r||"hex"),i=f._transformDER(n);return new f(i.point,{compressed:i.compressed})},f.fromX=function(t,e){var r=f._transformX(t,e);return new f(r.point,{compressed:r.compressed})},f.getValidationError=function(t){var e;try{new f(t)}catch(t){e=t}return e},f.isValid=function(t){return!f.getValidationError(t)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var t,r=this.point.getX(),n=this.point.getY(),i=r.toBuffer({size:32}),o=n.toBuffer({size:32});return this.compressed?(t=o[o.length-1]%2?e.from([3]):e.from([2]),e.concat([t,i])):(t=e.from([4]),e.concat([t,i,o]))},f.prototype._getID=function(){return o.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(t,e){return r(1189).fromPublicKey(this,t||this.network,e)},f.prototype.toString=function(){return this.toDER().toString("hex")},f.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"},t.exports=f}).call(this,r(22).Buffer)},1189:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(1187),s=r(1204),u=r(1271),a=r(1193),c=r(1183),f=r(1181),h=r(1188);function p(t,e,r,o){if(!(this instanceof p))return new p(t,e,r);if(n.isArray(t)&&n.isNumber(e))return p.createMultisig(t,e,r,!1,o);if(t instanceof p)return t;if(i.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!a.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==p.PayToPublicKeyHash&&r!==p.PayToScriptHash&&r!==p.PayToWitnessPublicKeyHash&&r!==p.PayToWitnessScriptHash)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", or "witnessscripthash".');var s=this._classifyArguments(t,e,r);return s.network=s.network||a.get(e)||a.defaultNetwork,s.type=s.type||r||p.PayToPublicKeyHash,f.defineImmutable(this,{hashBuffer:s.hashBuffer,network:s.network,type:s.type}),this}p.prototype._classifyArguments=function(t,r,i){if(!(t instanceof e||t instanceof Uint8Array)||20!==t.length&&32!==t.length){if((t instanceof e||t instanceof Uint8Array)&&t.length>=21)return p._transformBuffer(t,r,i);if(t instanceof h)return p._transformPublicKey(t,r,i);if(t instanceof l)return p._transformScript(t,r);if("string"==typeof t)return p._transformString(t,r,i);if(n.isObject(t))return p._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")}return p._transformHash(t,r,i)},p.PayToPublicKeyHash="pubkeyhash",p.PayToScriptHash="scripthash",p.PayToWitnessPublicKeyHash="witnesspubkeyhash",p.PayToWitnessScriptHash="witnessscripthash",p._transformHash=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(20!==t.length&&32!==t.length)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return i.hashBuffer=t,i.network=a.get(r)||a.defaultNetwork,i.type=n,i},p._transformObject=function(t){return i.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?e.from(t.hash,"hex"):t.hashBuffer,network:a.get(t.network)||a.defaultNetwork,type:t.type}},p._classifyFromVersion=function(t){var e={};if(t.length>21){var r=u.decode(t.toString("utf8"));if(0!==r.version)throw new TypeError("Only witness v0 addresses are supported.");if(20===r.data.length)e.type=p.PayToWitnessPublicKeyHash;else{if(32!==r.data.length)throw new TypeError("Witness data must be either 20 or 32 bytes.");e.type=p.PayToWitnessScriptHash}e.network=a.get(r.prefix,"bech32prefix")}else{var n=a.get(t[0],"pubkeyhash"),i=a.get(t[0],"scripthash");n?(e.network=n,e.type=p.PayToPublicKeyHash):i&&(e.network=i,e.type=p.PayToScriptHash)}return e},p._transformBuffer=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var o=a.get(r),s=p._classifyFromVersion(t);if(r&&!o)throw new TypeError("Unknown network");if(!s.network||o&&o.xpubkey!==s.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!s.type||n&&n!==s.type)throw new TypeError("Address has mismatched type.");return t.length>21?i.hashBuffer=u.decode(t.toString("utf8")).data:i.hashBuffer=t.slice(1),i.network=s.network,i.type=s.type,i},p._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof h))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==p.PayToScriptHash&&r!==p.PayToWitnessPublicKeyHash&&r!==p.PayToPublicKeyHash)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, or scripthash to transform public key.");if(!t.compressed&&(r===p.PayToScriptHash||r===p.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===p.PayToScriptHash?n.hashBuffer=c.sha256ripemd160(l.buildWitnessV0Out(t).toBuffer()):n.hashBuffer=c.sha256ripemd160(t.toBuffer()),n.type=r||p.PayToPublicKeyHash,n},p._transformScript=function(t,e){i.checkArgument(t instanceof l,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new o.Script.CantDeriveAddress(t);return r},p.createMultisig=function(t,e,r,i,o){if(r=r||t[0].network||a.defaultNetwork,o&&o!==p.PayToScriptHash&&o!==p.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(i||o===p.PayToWitnessScriptHash){t=n.map(t,h);for(var s=0;s<t.length;s++)if(!t[s].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var u=l.buildMultisigOut(t,e);return i?p.payingTo(l.buildWitnessMultisigOutFromScript(u),r):p.payingTo(u,r,o)},p._transformString=function(t,r,n){if("string"!=typeof t)throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(r&&!a.get(r))throw new TypeError("Unknown network");t=t.trim();try{return p._transformBuffer(e.from(t,"utf8"),r,n)}catch(t){if(n===p.PayToWitnessPublicKeyHash||n===p.PayToWitnessScriptHash)throw t}var i=s.decode(t);return p._transformBuffer(i,r,n)},p.fromPublicKey=function(t,e,r){var n=p._transformPublicKey(t,e,r);return e=e||a.defaultNetwork,new p(n.hashBuffer,e,n.type)},p.fromPublicKeyHash=function(t,e){var r=p._transformHash(t);return new p(r.hashBuffer,e,p.PayToPublicKeyHash)},p.fromScriptHash=function(t,e,r){i.checkArgument(t,"hash parameter is required");var n=p._transformHash(t);if(r===p.PayToWitnessScriptHash&&32!==t.length)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");r=r||p.PayToScriptHash;return new p(n.hashBuffer,e,r)},p.payingTo=function(t,e,r){var n;i.checkArgument(t,"script is required"),i.checkArgument(t instanceof l,"script must be instance of Script"),n=r===p.PayToWitnessScriptHash?c.sha256(t.toBuffer()):c.sha256ripemd160(t.toBuffer());r=r||p.PayToScriptHash;return p.fromScriptHash(n,e,r)},p.fromScript=function(t,e){i.checkArgument(t instanceof l,"script must be a Script instance");var r=p._transformScript(t,e);return new p(r.hashBuffer,e,r.type)},p.fromBuffer=function(t,e,r){var n=p._transformBuffer(t,e,r);return new p(n.hashBuffer,n.network,n.type)},p.fromString=function(t,e,r){var n=p._transformString(t,e,r);return new p(n.hashBuffer,n.network,n.type)},p.fromObject=function(t){return i.checkState(f.isHexa(t.hash),'Unexpected hash property, "'+t.hash+'", expected to be hex.'),new p(e.from(t.hash,"hex"),t.network,t.type)},p.getValidationError=function(t,e,r){var n;try{new p(t,e,r)}catch(t){n=t}return n},p.isValid=function(t,e,r){return!p.getValidationError(t,e,r)},p.prototype.isPayToPublicKeyHash=function(){return this.type===p.PayToPublicKeyHash},p.prototype.isPayToScriptHash=function(){return this.type===p.PayToScriptHash},p.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===p.PayToWitnessPublicKeyHash},p.prototype.isPayToWitnessScriptHash=function(){return this.type===p.PayToWitnessScriptHash},p.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return e.from(this.toString(),"utf8");var t=e.from([this.network[this.type]]);return e.concat([t,this.hashBuffer])},p.prototype.toObject=p.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},p.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()){var t=this.network.bech32prefix;return u.encode(t,0,this.hashBuffer)}return s.encode(this.toBuffer())},p.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},t.exports=p;var l=r(1186)}).call(this,r(22).Buffer)},1190:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(1180),s=r(1182),u=function t(r){if(!(this instanceof t))return new t(r);if(!n.isUndefined(r))if(e.isBuffer(r))this.set({buf:r});else if(n.isString(r))this.set({buf:e.from(r,"hex")});else{if(!n.isObject(r))throw new TypeError("Unrecognized argument for BufferReader");var i=r;this.set(i)}};u.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this},u.prototype.eof=function(){return!this.buf||this.pos>=this.buf.length},u.prototype.finished=u.prototype.eof,u.prototype.read=function(t){i.checkArgument(!n.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e},u.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t},u.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t},u.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t},u.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t},u.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t},u.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t},u.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t},u.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=s.fromBuffer(t);return this.pos=this.pos+8,e},u.prototype.readUInt64LEBN=function(){var t,e=this.buf.readUInt32LE(this.pos),r=4294967296*this.buf.readUInt32LE(this.pos+4)+e;if(r<=9007199254740991)t=new s(r);else{var n=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);t=new s(n,10,"le")}return this.pos=this.pos+8,t},u.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN().toNumber();if(e<=Math.pow(2,53))return e;throw new Error("number too large to retain precision - use readVarintBN");default:return t}},u.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return i.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e},u.prototype.readVarintBuf=function(){switch(this.buf.readUInt8(this.pos)){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},u.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(t)}},u.prototype.reverse=function(){for(var t=e.alloc(this.buf.length),r=0;r<t.length;r++)t[r]=this.buf[this.buf.length-1-r];return this.buf=t,this},u.prototype.readReverse=function(t){n.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,o.reverse(e)},t.exports=u}).call(this,r(22).Buffer)},1191:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1182),o=(r(22),r(1180)),s=r(1181),u=r(1184),a=r(1186),c=r(1179),f=r(1187);function h(t){if(!(this instanceof h))return new h(t);if(!n.isObject(t))throw new TypeError("Unrecognized argument for Output");var r;this.satoshis=t.satoshis,o.isBuffer(t.script)?this._scriptBuffer=t.script:(r=n.isString(t.script)&&s.isHexa(t.script)?e.from(t.script,"hex"):t.script,this.setScript(r))}Object.defineProperty(h.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script||this.setScriptFromBuffer(this._scriptBuffer),this._script}}),Object.defineProperty(h.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof i?(this._satoshisBN=t,this._satoshis=t.toNumber()):n.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=i.fromNumber(this._satoshis)):(c.checkArgument(s.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(t),this._satoshis=t),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.invalidSatoshis=function(){return this._satoshis>9007199254740991?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0&&"transaction txout negative"},h.prototype.toObject=h.prototype.toJSON=function(){var t={satoshis:this.satoshis};return t.script=this._scriptBuffer.toString("hex"),t},h.fromObject=function(t){return new h(t)},h.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=a.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(t){if(!(t instanceof f.Script.InvalidBuffer))throw t;this._script=null}},h.prototype.setScript=function(t){if(t instanceof a)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(n.isString(t))this._script=a.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else{if(!o.isBuffer(t))throw new TypeError("Invalid argument type: script");this.setScriptFromBuffer(t)}return this},h.prototype.inspect=function(){var t;return t=this.script?this.script.inspect():this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"},h.fromBufferReader=function(t){var r={};r.satoshis=t.readUInt64LEBN();var n=t.readVarintNum();return r.script=0!==n?t.read(n):e.from([]),new h(r)},h.prototype.toBufferWriter=function(t){t||(t=new u),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t},t.exports=h}).call(this,r(22).Buffer)},1192:function(t,e,r){"use strict";(function(e){r(22);var n=r(1185),i=r(1186),o=r(1191),s=r(1190),u=r(1184),a=r(1182),c=r(1183),f=r(1211),h=r(1179),p=r(1178),l=function(t,f,h,p){var l,d=r(1224),g=r(1225),v=d.shallowCopy(t);for((p=new i(p)).removeCodeseparators(),l=0;l<v.inputs.length;l++)v.inputs[l]=new g(v.inputs[l]).setScript(i.empty());if(v.inputs[h]=new g(v.inputs[h]).setScript(p),(31&f)===n.SIGHASH_NONE||(31&f)===n.SIGHASH_SINGLE)for(l=0;l<v.inputs.length;l++)l!==h&&(v.inputs[l].sequenceNumber=0);if((31&f)===n.SIGHASH_NONE)v.outputs=[];else if((31&f)===n.SIGHASH_SINGLE){if(h>=v.outputs.length)return e.from("0000000000000000000000000000000000000000000000000000000000000001","hex");for(v.outputs.length=h+1,l=0;l<h;l++)v.outputs[l]=new o({satoshis:a.fromBuffer(e.from("ffffffffffffffff","hex")),script:i.empty()})}f&n.SIGHASH_ANYONECANPAY&&(v.inputs=[v.inputs[h]]);var m=(new u).write(v.toBuffer()).writeInt32LE(f).toBuffer(),y=c.sha256sha256(m);return y=new s(y).readReverse()};t.exports={sighash:l,sign:function(t,e,r,n,i,o){if("ecdsa"===(o=o||"ecdsa")){var s=l(t,r,n,i);return f.sign(s,e,"little").set({nhashtype:r})}throw new Error("signingMethod not supported ",o)},verify:function(t,e,r,n,i,o){if(h.checkArgument(!p.isUndefined(t),"Transaction Undefined"),h.checkArgument(!p.isUndefined(e)&&!p.isUndefined(e.nhashtype),"Signature Undefined"),"ecdsa"===(o=o||"ecdsa")){var s=l(t,e.nhashtype,n,i);return f.verify(s,e,r,"little")}throw new Error("signingMethod not supported ",o)}}}).call(this,r(22).Buffer)},1193:function(t,e,r){"use strict";var n=r(1178),i=r(1180),o=r(1181),s=[],u={};function a(){}function c(t,e){if(~s.indexOf(t))return t;if(!e)return u[t]&&u[t].length>=1?u[t][0]:u[t];n.isArray(e)||(e=[e]);var r=function(e){return s[i][e]===t};for(var i in s)if(n.some(e,r))return s[i]}function f(t){var e=new a;return o.defineImmutable(e,{name:t.name,alias:t.alias,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&o.defineImmutable(e,{networkMagic:i.integerAsBuffer(t.networkMagic)}),t.port&&o.defineImmutable(e,{port:t.port}),t.dnsSeeds&&o.defineImmutable(e,{dnsSeeds:t.dnsSeeds}),n.each(e,(function(t){n.isUndefined(t)||n.isObject(t)||(u[t]||(u[t]=[]),u[t].push(e))})),s.push(e),e}a.prototype.toString=function(){return this.name},f({name:"livenet",alias:"mainnet",pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var h=c("livenet");f({name:"testnet",alias:"test",pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]});var p=c("testnet");f({name:"regtest",alias:"dev",pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var l=c("regtest");t.exports={add:f,remove:function(t){for(var e=0;e<s.length;e++)s[e]===t&&s.splice(e,1);for(var r in u){const e=u[r].indexOf(t);e>=0&&delete u[r][e]}},defaultNetwork:h,livenet:h,mainnet:h,testnet:p,regtest:l,get:c,enableRegtest:function(){p.regtestEnabled=!0},disableRegtest:function(){p.regtestEnabled=!1}}},1198:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n=r(0),i=r.n(n),o=r(74),s=r(1106),u=r.n(s),a=r(11);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(c,t);var e,r,n,s=l(c);function c(){return f(this,c),s.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t=this.props.className||u.a.icon,e=this.props.token||1;return i.a.createElement("div",{className:t},i.a.createElement(o.a,{type:Object(a.l)(e).icon}))}}])&&h(e.prototype,r),n&&h(e,n),c}(n.Component)},1201:function(t,e,r){"use strict";(function(e){var n=r(1182),i=r(1180),o=new(0,r(141).ec)("secp256k1"),s=o.curve.point.bind(o.curve),u=o.curve.pointFromX.bind(o.curve),a=function(t,e,r){try{var n=s(t,e,r)}catch(t){throw new Error("Invalid Point")}return n.validate(),n};a.prototype=Object.getPrototypeOf(o.curve.point()),a.fromX=function(t,e){try{var r=u(e,t)}catch(t){throw new Error("Invalid X")}return r.validate(),r},a.getG=function(){return o.curve.g},a.getN=function(){return new n(o.curve.n.toArray())},a.prototype._getX=a.prototype.getX,a.prototype.getX=function(){return new n(this._getX().toArray())},a.prototype._getY=a.prototype.getY,a.prototype.getY=function(){return new n(this._getY().toArray())},a.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var t;try{t=u(this.getX(),this.getY().isOdd())}catch(t){throw new Error("Point does not lie on the curve")}if(0!==t.y.cmp(this.y))throw new Error("Invalid y value for curve.");if(!this.mul(a.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},a.pointToCompressed=function(t){var r,n=t.getX().toBuffer({size:32}),o=t.getY().toBuffer({size:32});return r=o[o.length-1]%2?e.from([3]):e.from([2]),i.concat([r,n])},t.exports=a}).call(this,r(22).Buffer)},1203:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1189),o=r(1204),s=r(1182),u=r(1181),a=r(1193),c=r(1201),f=r(1188),h=r(1215),p=r(1179);function l(t,e){if(!(this instanceof l))return new l(t,e);if(t instanceof l)return t;var r=this._classifyArguments(t,e);if(!r.bn||0===r.bn.cmp(new s(0)))throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(void 0===r.network)throw new TypeError('Must specify the network ("livenet" or "testnet")');return u.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}l.prototype._classifyArguments=function(t,r){var i={compressed:!0,network:r?a.get(r):a.defaultNetwork};if(n.isUndefined(t)||n.isNull(t))i.bn=l._getRandomBN();else if(t instanceof s)i.bn=t;else if(t instanceof e||t instanceof Uint8Array)i=l._transformBuffer(t,r);else if(t.bn&&t.network)i=l._transformObject(t);else if(!r&&a.get(t))i.bn=l._getRandomBN(),i.network=a.get(t);else{if("string"!=typeof t)throw new TypeError("First argument is an unrecognized data type.");u.isHexa(t)?i.bn=new s(e.from(t,"hex")):i=l._transformWIF(t,r)}return i},l._getRandomBN=function(){var t,e;do{var r=h.getRandomBuffer(32);t=(e=s.fromBuffer(r)).lt(c.getN())}while(!t);return e},l._transformBuffer=function(t,e){var r={};if(32===t.length)return l._transformBNBuffer(t,e);if(r.network=a.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==a.get(e))throw new TypeError("Private key network mismatch");if(34===t.length&&1===t[33])r.compressed=!0;else{if(33!==t.length)throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");r.compressed=!1}return r.bn=s.fromBuffer(t.slice(1,33)),r},l._transformBNBuffer=function(t,e){var r={};return r.network=a.get(e)||a.defaultNetwork,r.bn=s.fromBuffer(t),r.compressed=!1,r},l._transformWIF=function(t,e){return l._transformBuffer(o.decode(t),e)},l.fromBuffer=function(t,e){return new l(t,e)},l._transformObject=function(t){return{bn:new s(t.bn,"hex"),network:a.get(t.network),compressed:t.compressed}},l.fromString=l.fromWIF=function(t){return p.checkArgument(n.isString(t),"First argument is expected to be a string."),new l(t)},l.fromObject=function(t){return p.checkArgument(n.isObject(t),"First argument is expected to be an object."),new l(t)},l.fromRandom=function(t){var e=l._getRandomBN();return new l(e,t)},l.getValidationError=function(t,e){var r;try{new l(t,e)}catch(t){r=t}return r},l.isValid=function(t,e){return!!t&&!l.getValidationError(t,e)},l.prototype.toString=function(){return this.toBuffer().toString("hex")},l.prototype.toWIF=function(){var t,r=this.network;return t=this.compressed?e.concat([e.from([r.privatekey]),this.bn.toBuffer({size:32}),e.from([1])]):e.concat([e.from([r.privatekey]),this.bn.toBuffer({size:32})]),o.encode(t)},l.prototype.toBigNumber=function(){return this.bn},l.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},l.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()},l.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},l.prototype.toAddress=function(t,e){var r=this.toPublicKey();return i.fromPublicKey(r,t||this.network,e)},l.prototype.toObject=l.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},l.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"},t.exports=l}).call(this,r(22).Buffer)},1204:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1212),o=(r(22),r(1183).sha256sha256),s=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};s.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},s.validChecksum=function(t,r){return n.isString(t)&&(t=e.from(i.decode(t))),n.isString(r)&&(r=e.from(i.decode(r))),r||(r=t.slice(-4),t=t.slice(0,-4)),s.checksum(t).toString("hex")===r.toString("hex")},s.decode=function(t){if("string"!=typeof t)throw new Error("Input must be a string");var r=e.from(i.decode(t));if(r.length<4)throw new Error("Input string too short");var n=r.slice(0,-4),s=r.slice(-4),u=o(n).slice(0,4);if(s.toString("hex")!==u.toString("hex"))throw new Error("Checksum mismatch");return n},s.checksum=function(t){return o(t).slice(0,4)},s.encode=function(t){if(!e.isBuffer(t))throw new Error("Input must be a buffer");var r=e.alloc(t.length+4),n=s.checksum(t);return t.copy(r),n.copy(r,t.length),i.encode(r)},s.prototype.fromBuffer=function(t){return this.buf=t,this},s.prototype.fromString=function(t){var e=s.decode(t);return this.buf=e,this},s.prototype.toBuffer=function(){return this.buf},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s}).call(this,r(22).Buffer)},1205:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179);const o=r(1187);var s=r(1184),u=(r(22),r(1180)),a=r(1181),c=r(1186),f=r(1192),h=r(1191);const p=Math.pow(2,31),l=Math.pow(2,22),d=Math.pow(2,16)-1;function g(t){return this instanceof g?t?this._fromObject(t):void 0:new g(t)}g.MAXINT=4294967295,g.DEFAULT_SEQNUMBER=4294967295,g.DEFAULT_LOCKTIME_SEQNUMBER=4294967294,g.DEFAULT_RBF_SEQNUMBER=4294967293,g.SEQUENCE_LOCKTIME_TYPE_FLAG=l,Object.defineProperty(g.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new c(this._scriptBuffer),this._script._isInput=!0),this._script)}}),g.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new g)._fromObject(t)},g.prototype._fromObject=function(t){var r;if(r=n.isString(t.prevTxId)&&a.isHexa(t.prevTxId)?e.from(t.prevTxId,"hex"):t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof h?t.output:new h(t.output):void 0,this.prevTxId=r||t.txidbuf,this.outputIndex=n.isUndefined(t.outputIndex)?t.txoutnum:t.outputIndex,this.sequenceNumber=n.isUndefined(t.sequenceNumber)?n.isUndefined(t.seqnum)?4294967295:t.seqnum:t.sequenceNumber,n.isUndefined(t.script)&&n.isUndefined(t.scriptBuffer))throw new o.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this},g.prototype.toObject=g.prototype.toJSON=function(){var t={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(t.scriptString=this.script.toString()),this.output&&(t.output=this.output.toObject()),t},g.fromBufferReader=function(t){var e=new g;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e},g.prototype.toBufferWriter=function(t){t||(t=new s),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t},g.prototype.setScript=function(t){if(this._script=null,t instanceof c)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(a.isHexa(t))this._scriptBuffer=e.from(t,"hex");else if(n.isString(t))this._script=new c(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else{if(!u.isBuffer(t))throw new TypeError("Invalid argument type: script");this._scriptBuffer=e.from(t)}return this},g.prototype.getSignatures=function(){throw new o.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))},g.prototype.getSatoshisBuffer=function(){return i.checkState(this.output instanceof h),i.checkState(this.output._satoshisBN),(new s).writeUInt64LEBN(this.output._satoshisBN).toBuffer()},g.prototype.isFullySigned=function(){throw new o.AbstractMethodInvoked("Input#isFullySigned")},g.prototype.isFinal=function(){return this.sequenceNumber!==g.MAXINT},g.prototype.addSignature=function(){throw new o.AbstractMethodInvoked("Input#addSignature")},g.prototype.clearSignatures=function(){throw new o.AbstractMethodInvoked("Input#clearSignatures")},g.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)},g.prototype.getWitnesses=function(){return this.witnesses},g.prototype.setWitnesses=function(t){this.witnesses=t},g.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},g.prototype.isNull=function(){return"0000000000000000000000000000000000000000000000000000000000000000"===this.prevTxId.toString("hex")&&4294967295===this.outputIndex},g.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},g.prototype.lockForSeconds=function(t){if(i.checkArgument(n.isNumber(t)),t<0||t>=33553920)throw new o.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/512)),this.sequenceNumber=t|l,this},g.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t<0||t>=d)throw new o.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this},g.prototype.getLockTime=function(){return this.sequenceNumber&p?null:this.sequenceNumber&l?512*(65535&this.sequenceNumber):65535&this.sequenceNumber},t.exports=g}).call(this,r(22).Buffer)},1206:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(18),s=r(1180),u=r(1181),a=r(1188),c=r(1187),f=r(1185);function h(t){if(!(this instanceof h))return new h(t);if(t instanceof h)return t;if(n.isObject(t))return this._fromObject(t);throw new c.InvalidArgument("TransactionSignatures must be instantiated from an object")}o(h,f),h.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new a(t.publicKey),this.prevTxId=s.isBuffer(t.prevTxId)?t.prevTxId:e.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof f?t.signature:s.isBuffer(t.signature)?f.fromBuffer(t.signature):f.fromString(t.signature),this.sigtype=t.sigtype,this},h.prototype._checkObjectArgs=function(t){i.checkArgument(a(t.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(t.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(t.outputIndex),"outputIndex"),i.checkState(n.isNumber(t.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(t.outputIndex),"outputIndex must be a number"),i.checkArgument(t.signature,"signature"),i.checkArgument(t.prevTxId,"prevTxId"),i.checkState(t.signature instanceof f||s.isBuffer(t.signature)||u.isHexa(t.signature),"signature must be a buffer or hexa value"),i.checkState(s.isBuffer(t.prevTxId)||u.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(t.sigtype,"sigtype"),i.checkState(n.isNumber(t.sigtype),"sigtype must be a number")},h.prototype.toObject=h.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},h.fromObject=function(t){return i.checkArgument(t),new h(t)},t.exports=h}).call(this,r(22).Buffer)},1211:function(t,e,r){"use strict";(function(e){var n=r(1182),i=r(1201),o=r(1185),s=r(1188),u=r(1215),a=r(1183),c=r(1180),f=r(1178),h=r(1179),p=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};p.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this},p.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},p.prototype.calci=function(){for(var t=0;t<4;t++){var e;this.sig.i=t;try{e=this.toPublicKey()}catch(t){console.error(t);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},p.fromString=function(t){var e=JSON.parse(t);return new p(e)},p.prototype.randomK=function(){var t,e=i.getN();do{t=n.fromBuffer(u.getRandomBuffer(32))}while(!t.lt(e)||!t.gt(n.Zero));return this.k=t,this},p.prototype.deterministicK=function(t){f.isUndefined(t)&&(t=0);var r=e.alloc(32);r.fill(1);var o=e.alloc(32);o.fill(0);var s=this.privkey.bn.toBuffer({size:32}),u="little"===this.endian?c.reverse(this.hashbuf):this.hashbuf;o=a.sha256hmac(e.concat([r,e.from([0]),s,u]),o),r=a.sha256hmac(r,o),o=a.sha256hmac(e.concat([r,e.from([1]),s,u]),o),r=a.sha256hmac(r,o),r=a.sha256hmac(r,o);for(var h=n.fromBuffer(r),p=i.getN(),l=0;l<t||!h.lt(p)||!h.gt(n.Zero);l++)o=a.sha256hmac(e.concat([r,e.from([0])]),o),r=a.sha256hmac(r,o),r=a.sha256hmac(r,o),h=n.fromBuffer(r);return this.k=h,this},p.prototype.toPublicKey=function(){var t=this.sig.i;h.checkArgument(0===t||1===t||2===t||3===t,new Error("i must be equal to 0, 1, 2, or 3"));var e=n.fromBuffer(this.hashbuf),r=this.sig.r,o=this.sig.s,u=1&t,a=t>>1,c=i.getN(),f=i.getG(),p=a?r.add(c):r,l=i.fromX(u,p);if(!l.mul(c).isInfinity())throw new Error("nR is not a valid curve point");var d=e.neg().umod(c),g=r.invm(c),v=l.mul(o).add(f.mul(d)).mul(g);return s.fromPoint(v,this.sig.compressed)},p.prototype.sigError=function(){if(!c.isBuffer(this.hashbuf)||32!==this.hashbuf.length)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(n.Zero)&&t.lt(i.getN())&&e.gt(n.Zero)&&e.lt(i.getN())))return"r and s not in range";var r=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),o=i.getN(),s=e.invm(o),u=s.mul(r).umod(o),a=s.mul(t).umod(o),f=i.getG().mulAdd(u,this.pubkey.point,a);return f.isInfinity()?"p is infinity":0!==f.getX().umod(o).cmp(t)&&"Invalid signature"},p.toLowS=function(t){return t.gt(n.fromBuffer(e.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=i.getN().sub(t)),t},p.prototype._findSignature=function(t,e){var r,o,s,u=i.getN(),a=i.getG(),c=0;do{(!this.k||c>0)&&this.deterministicK(c),c++,r=this.k,o=a.mul(r).x.umod(u),s=r.invm(u).mul(e.add(t.mul(o))).umod(u)}while(o.cmp(n.Zero)<=0||s.cmp(n.Zero)<=0);return{s:s=p.toLowS(s),r:o}},p.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;h.checkState(t&&e&&r,new Error("invalid parameters")),h.checkState(c.isBuffer(t)&&32===t.length,new Error("hashbuf must be a 32 byte buffer"));var i=n.fromBuffer(t,this.endian?{endian:this.endian}:void 0),s=this._findSignature(r,i);return s.compressed=this.pubkey.compressed,this.sig=new o(s),this},p.prototype.signRandomK=function(){return this.randomK(),this.sign()},p.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)},p.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},p.sign=function(t,e,r){return p().set({hashbuf:t,endian:r,privkey:e}).sign().sig},p.verify=function(t,e,r,n){return p().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified},t.exports=p}).call(this,r(22).Buffer)},1212:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1232),o=r(22),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),u=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};u.validCharacters=function(t){return o.Buffer.isBuffer(t)&&(t=t.toString()),n.every(n.map(t,(function(t){return n.includes(s,t)})))},u.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},u.encode=function(t){if(!o.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return i.encode(t)},u.decode=function(t){if("string"!=typeof t)throw new Error("Input should be a string");return e.from(i.decode(t))},u.prototype.fromBuffer=function(t){return this.buf=t,this},u.prototype.fromString=function(t){var e=u.decode(t);return this.buf=e,this},u.prototype.toBuffer=function(){return this.buf},u.prototype.toString=function(){return u.encode(this.buf)},t.exports=u}).call(this,r(22).Buffer)},1213:function(t,e,r){t.exports=r(1224),t.exports.Input=r(1225),t.exports.Output=r(1191),t.exports.UnspentOutput=r(1235),t.exports.Signature=r(1206),t.exports.Sighash=r(1192),t.exports.SighashWitness=r(1214)},1214:function(t,e,r){"use strict";(function(e){var n=r(1185),i=(r(1186),r(1191),r(1190)),o=r(1184),s=(r(1182),r(1183)),u=r(1211),a=r(1179),c=r(1178),f=function(t,r,u,a,c){var f,h,p;if(!(r&n.SIGHASH_ANYONECANPAY)){for(var l=[],d=0;d<t.inputs.length;d++){var g=t.inputs[d],v=new i(g.prevTxId).readReverse();l.push(v);var m=e.alloc(4);m.writeUInt32LE(g.outputIndex,0),l.push(m)}f=s.sha256sha256(e.concat(l))}if(!(r&n.SIGHASH_ANYONECANPAY)&&(31&r)!==n.SIGHASH_SINGLE&&(31&r)!==n.SIGHASH_NONE){for(var y=[],_=0;_<t.inputs.length;_++){var b=e.alloc(4);b.writeUInt32LE(t.inputs[_].sequenceNumber,0),y.push(b)}h=s.sha256sha256(e.concat(y))}var S=new o;if((31&r)!==n.SIGHASH_SINGLE&&(31&r)!==n.SIGHASH_NONE){for(var w=0;w<t.outputs.length;w++)t.outputs[w].toBufferWriter(S);p=s.sha256sha256(S.toBuffer())}else(31&r)===n.SIGHASH_SINGLE&&u<t.outputs.length&&(t.outputs[u].toBufferWriter(S),p=s.sha256sha256(S.toBuffer()));var I=new o;I.writeUInt32LE(t.version),I.write(f),I.write(h);var O=new i(t.inputs[u].prevTxId).readReverse();return I.write(O),I.writeUInt32LE(t.inputs[u].outputIndex),I.write(a),I.write(c),I.writeUInt32LE(t.inputs[u].sequenceNumber),I.write(p),I.writeUInt32LE(t.nLockTime),I.writeInt32LE(r),s.sha256sha256(I.toBuffer())};t.exports={sighash:f,sign:function(t,e,r,n,i,o,s){if("ecdsa"===(s=s||"ecdsa")){let s=f(t,r,n,i,o);return u.sign(s,e).set({nhashtype:r})}throw new Error("signingMethod not supported ",s)},verify:function(t,e,r,n,i,o,s){if(a.checkArgument(!c.isUndefined(t)),a.checkArgument(!c.isUndefined(e)&&!c.isUndefined(e.nhashtype)),"ecdsa"===(s=s||"ecdsa")){let s=f(t,e.nhashtype,n,i,o);return u.verify(s,e,r)}throw new Error("signingMethod not supported ",s)}}}).call(this,r(22).Buffer)},1215:function(t,e,r){"use strict";(function(e,n){function i(){}i.getRandomBuffer=function(t){return e.browser?i.getRandomBufferBrowser(t):i.getRandomBufferNode(t)},i.getRandomBufferNode=function(t){return r(608).randomBytes(t)},i.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else{if(!window.msCrypto||!window.msCrypto.getRandomValues)throw new Error("window.crypto.getRandomValues not available");e=window.msCrypto}var r=new Uint8Array(t);return e.getRandomValues(r),n.from(r)},i.getPseudoRandomBuffer=function(t){for(var e,r=n.alloc(t),i=0;i<=t;i++){0===i-4*Math.floor(i/4)?(e=4294967296*Math.random(),r[i]=255&e):r[i]=255&(e>>>=8)}return r},t.exports=i}).call(this,r(25),r(22).Buffer)},1216:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1182),o=r(1180),s=r(1190),u=r(1184),a=r(1183),c=(r(1181),r(1179)),f=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&c.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};f._from=function(t){var e={};if(o.isBuffer(t))e=f._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for BlockHeader");e=f._fromObject(t)}return e},f._fromObject=function(t){c.checkArgument(t,"data is required");var r=t.prevHash,i=t.merkleRoot;return n.isString(t.prevHash)&&(r=o.reverse(e.from(t.prevHash,"hex"))),n.isString(t.merkleRoot)&&(i=o.reverse(e.from(t.merkleRoot,"hex"))),{hash:t.hash,version:t.version,prevHash:r,merkleRoot:i,time:t.time,timestamp:t.time,bits:t.bits,nonce:t.nonce}},f.fromObject=function(t){var e=f._fromObject(t);return new f(e)},f.fromRawBlock=function(t){o.isBuffer(t)||(t=e.from(t,"binary"));var r=s(t);r.pos=f.Constants.START_OF_HEADER;var n=f._fromBufferReader(r);return new f(n)},f.fromBuffer=function(t){var e=f._fromBufferReader(s(t));return new f(e)},f.fromString=function(t){var r=e.from(t,"hex");return f.fromBuffer(r)},f._fromBufferReader=function(t){var e={};return e.version=t.readInt32LE(),e.prevHash=t.read(32),e.merkleRoot=t.read(32),e.time=t.readUInt32LE(),e.bits=t.readUInt32LE(),e.nonce=t.readUInt32LE(),e},f.fromBufferReader=function(t){var e=f._fromBufferReader(t);return new f(e)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:o.reverse(this.prevHash).toString("hex"),merkleRoot:o.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(t){return t||(t=new u),t.writeInt32LE(this.version),t.write(this.prevHash),t.write(this.merkleRoot),t.writeUInt32LE(this.time),t.writeUInt32LE(this.bits),t.writeUInt32LE(this.nonce),t},f.prototype.getTargetDifficulty=function(t){t=t||this.bits;for(var e=new i(16777215&t),r=8*((t>>>24)-3);r-- >0;)e=e.mul(new i(2));return e},f.prototype.getDifficulty=function(){var t=this.getTargetDifficulty(486604799).mul(new i(Math.pow(10,8))),e=this.getTargetDifficulty(),r=t.div(e).toString(10),n=r.length-8;return r=r.slice(0,n)+"."+r.slice(n),parseFloat(r)},f.prototype._getHash=function(){var t=this.toBuffer();return a.sha256sha256(t)};var h={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",h),Object.defineProperty(f.prototype,"hash",h),f.prototype.validTimestamp=function(){var t=Math.round((new Date).getTime()/1e3);return!(this.time>t+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var t=new i(this.id,"hex"),e=this.getTargetDifficulty();return!(t.cmp(e)>0)},f.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f}).call(this,r(22).Buffer)},1218:function(t,e,r){"use strict";r.d(e,"a",(function(){return Kt}));var n=r(0),i=r.n(n),o=r(1);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return s(this,e),u(this,a(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),e}(n.Component);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}f.isSelectOptGroup=!0;var g=function(t){function e(){return h(this,e),p(this,l(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),e}(n.Component);function v(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[0],i=e[1],s=e[2],u=e.slice(3),a=o.oneOfType([o.string,o.number]),c=o.shape({key:a.isRequired,label:o.node});if(!n.labelInValue){if(("multiple"===n.mode||"tags"===n.mode||n.multiple||n.tags)&&""===n[i])return new Error("Invalid prop `".concat(i,"` of type `string` supplied to `").concat(s,"`, ")+"expected `array` when `multiple` or `tags` is `true`.");var f=o.oneOfType([o.arrayOf(a),a]);return f.apply(void 0,[n,i,s].concat(v(u)))}var h=o.oneOfType([o.arrayOf(c),c]),p=h.apply(void 0,[n,i,s].concat(v(u)));return p?new Error("Invalid prop `".concat(i,"` supplied to `").concat(s,"`, ")+"when you set `labelInValue` to `true`, `".concat(i,"` should in ")+"shape of `{ key: string | number, label?: ReactNode }`."):null}g.propTypes={value:o.oneOfType([o.string,o.number])},g.isSelectOption=!0;var y={id:o.string,defaultActiveFirstOption:o.bool,multiple:o.bool,filterOption:o.any,children:o.any,showSearch:o.bool,disabled:o.bool,allowClear:o.bool,showArrow:o.bool,tags:o.bool,prefixCls:o.string,className:o.string,transitionName:o.string,optionLabelProp:o.string,optionFilterProp:o.string,animation:o.string,choiceTransitionName:o.string,open:o.bool,defaultOpen:o.bool,onChange:o.func,onBlur:o.func,onFocus:o.func,onSelect:o.func,onSearch:o.func,onPopupScroll:o.func,onMouseEnter:o.func,onMouseLeave:o.func,onInputKeyDown:o.func,placeholder:o.any,onDeselect:o.func,labelInValue:o.bool,loading:o.bool,value:m,defaultValue:m,dropdownStyle:o.object,maxTagTextLength:o.number,maxTagCount:o.number,maxTagPlaceholder:o.oneOfType([o.node,o.func]),tokenSeparators:o.arrayOf(o.string),getInputElement:o.func,showAction:o.arrayOf(o.string),clearIcon:o.node,inputIcon:o.node,removeIcon:o.node,menuItemSelectedIcon:o.oneOfType([o.func,o.node]),dropdownRender:o.func},_=r(5),b=r.n(_),S=r(308),w=r.n(S),I=r(64),O=r(89),E=r(1228);function k(t){var e=[];return i.a.Children.forEach(t,(function(t){null!=t&&(Array.isArray(t)?e=e.concat(k(t)):Object(E.isFragment)(t)&&t.props?e=e.concat(k(t.props.children)):e.push(t))})),e}var P=r(41),A=r(6),T=r(34),x=r(27),R=r.n(x),N=r(97),C=r.n(N),B=r(173),U=r(305),F=r.n(U);function D(t){return"string"==typeof t?t:""}function L(t){if(!t)return null;var e=t.props;if("value"in e)return e.value;if(t.key)return t.key;if(t.type&&t.type.isSelectOptGroup&&e.label)return e.label;throw new Error("Need at least a key or a value or a label (only for OptGroup) for ".concat(t))}function H(t,e){return"value"===e?L(t):t.props[e]}function M(t){return t.combobox}function K(t){return t.multiple||t.tags}function j(t){return K(t)||M(t)}function V(t){return!j(t)}function W(t){var e=t;return void 0===t?e=[]:Array.isArray(t)||(e=[t]),e}function z(t){return"".concat(typeof t,"-").concat(t)}function G(t){t.preventDefault()}function Y(t,e){var r=-1;if(t)for(var n=0;n<t.length;n++)if(t[n]===e){r=n;break}return r}function q(t,e){var r;if(t=W(t))for(var n=0;n<t.length;n++)if(t[n].key===e){r=t[n].label;break}return r}var Z={userSelect:"none",WebkitUserSelect:"none"},X={unselectable:"on"};function Q(t,e){return!e.props.disabled&&W(H(e,this.props.optionFilterProp)).join("").toLowerCase().indexOf(t.toLowerCase())>-1}function J(t,e){return function(r){t[e]=r}}function $(){return($=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?rt(t):e}(this,et(e).call(this,t))).rafInstance=null,r.lastVisible=!1,r.scrollActiveItemToView=function(){var t=Object(A.findDOMNode)(r.firstActiveItem),e=r.props,n=e.visible,i=e.firstActiveValue,o=r.props.value;if(t&&n){var s={onlyScrollIfNeeded:!0};o&&0!==o.length||!i||(s.alignWithTop=!0),r.rafInstance=C()((function(){F()(t,Object(A.findDOMNode)(r.menuRef),s)}))}},r.renderMenu=function(){var t=r.props,e=t.menuItems,o=t.menuItemSelectedIcon,s=t.defaultActiveFirstOption,u=t.prefixCls,a=t.multiple,c=t.onMenuSelect,f=t.inputValue,h=t.backfillValue,p=t.onMenuDeselect,l=t.visible,d=r.props.firstActiveValue;if(e&&e.length){var g={};a?(g.onDeselect=p,g.onSelect=c):g.onClick=c;var v=r.props.value,m=function t(e,r){if(null==r)return[];var n=[];return i.a.Children.forEach(e,(function(e){if(e.type.isMenuItemGroup)n=n.concat(t(e.props.children,r));else{var i=L(e),o=e.key;-1!==Y(r,i)&&o&&n.push(o)}})),n}(e,v),y={},_=s,b=e;if(m.length||d){l&&!r.lastVisible?y.activeKey=m[0]||d:l||(m[0]&&(_=!1),y.activeKey=void 0);var S=!1,w=function(t){var e=t.key;return!S&&-1!==m.indexOf(e)||!S&&!m.length&&-1!==d.indexOf(t.key)?(S=!0,n.cloneElement(t,{ref:function(t){r.firstActiveItem=t}})):t};b=e.map((function(t){if(t.type.isMenuItemGroup){var e=k(t.props.children).map(w);return n.cloneElement(t,{},e)}return w(t)}))}else r.firstActiveItem=null;var I=v&&v[v.length-1];return f===r.lastInputValue||I&&I===h||(y.activeKey=""),n.createElement(O.e,$({ref:r.saveMenuRef,style:r.props.dropdownMenuStyle,defaultActiveFirst:_,role:"listbox",itemIcon:a?o:null},y,{multiple:a},g,{selectedKeys:m,prefixCls:"".concat(u,"-menu")}),b)}return null},r.lastInputValue=t.inputValue,r.saveMenuRef=J(rt(r),"menuRef"),r}var r,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible}},{key:"shouldComponentUpdate",value:function(t){return t.visible||(this.lastVisible=!1),this.props.visible&&!t.visible||t.visible||t.inputValue!==this.props.inputValue}},{key:"componentDidUpdate",value:function(t){var e=this.props;!t.visible&&e.visible&&this.scrollActiveItemToView(),this.lastVisible=e.visible,this.lastInputValue=e.inputValue}},{key:"componentWillUnmount",value:function(){this.rafInstance&&C.a.cancel(this.rafInstance)}},{key:"render",value:function(){var t=this.renderMenu();return t?n.createElement("div",{style:{overflow:"auto",transform:"translateZ(0)"},id:this.props.ariaId,onFocus:this.props.onPopupFocus,onMouseDown:G,onScroll:this.props.onPopupScroll},t):null}}])&&tt(r.prototype,o),s&&tt(r,s),e}(n.Component);function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function st(){return(st=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}it.displayName="DropdownMenu",it.propTypes={ariaId:o.string,defaultActiveFirstOption:o.bool,value:o.any,dropdownMenuStyle:o.object,multiple:o.bool,onPopupFocus:o.func,onPopupScroll:o.func,onMenuDeSelect:o.func,onMenuSelect:o.func,prefixCls:o.string,menuItems:o.any,inputValue:o.string,visible:o.bool,firstActiveValue:o.string,menuItemSelectedIcon:o.oneOfType([o.func,o.node])};var ht=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};B.a.displayName="Trigger";var pt={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},lt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?ct(t):e}(this,at(e).call(this,t))).dropdownMenuRef=null,r.rafInstance=null,r.setDropdownWidth=function(){r.cancelRafInstance(),r.rafInstance=C()((function(){var t=A.findDOMNode(ct(r)).offsetWidth;t!==r.state.dropdownWidth&&r.setState({dropdownWidth:t})}))},r.cancelRafInstance=function(){r.rafInstance&&C.a.cancel(r.rafInstance)},r.getInnerMenu=function(){return r.dropdownMenuRef&&r.dropdownMenuRef.menuRef},r.getPopupDOMNode=function(){return r.triggerRef.getPopupDomNode()},r.getDropdownElement=function(t){var e=r.props,i=e.dropdownRender,o=e.ariaId,s=n.createElement(it,st({ref:r.saveDropdownMenuRef},t,{ariaId:o,prefixCls:r.getDropdownPrefixCls(),onMenuSelect:e.onMenuSelect,onMenuDeselect:e.onMenuDeselect,onPopupScroll:e.onPopupScroll,value:e.value,backfillValue:e.backfillValue,firstActiveValue:e.firstActiveValue,defaultActiveFirstOption:e.defaultActiveFirstOption,dropdownMenuStyle:e.dropdownMenuStyle,menuItemSelectedIcon:e.menuItemSelectedIcon}));return i?i(s,e):null},r.getDropdownTransitionName=function(){var t=r.props,e=t.transitionName;return!e&&t.animation&&(e="".concat(r.getDropdownPrefixCls(),"-").concat(t.animation)),e},r.getDropdownPrefixCls=function(){return"".concat(r.props.prefixCls,"-dropdown")},r.saveDropdownMenuRef=J(ct(r),"dropdownMenuRef"),r.saveTriggerRef=J(ct(r),"triggerRef"),r.state={dropdownWidth:0},r}var r,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,t),r=e,(i=[{key:"componentDidMount",value:function(){this.setDropdownWidth()}},{key:"componentDidUpdate",value:function(){this.setDropdownWidth()}},{key:"componentWillUnmount",value:function(){this.cancelRafInstance()}},{key:"render",value:function(){var t,e,r=this.props,i=r.onPopupFocus,o=r.empty,s=ht(r,["onPopupFocus","empty"]),u=s.multiple,a=s.visible,c=s.inputValue,f=s.dropdownAlign,h=s.disabled,p=s.showSearch,l=s.dropdownClassName,d=s.dropdownStyle,g=s.dropdownMatchSelectWidth,v=this.getDropdownPrefixCls(),m=(ot(t={},l,!!l),ot(t,"".concat(v,"--").concat(u?"multiple":"single"),1),ot(t,"".concat(v,"--empty"),o),t),y=this.getDropdownElement({menuItems:s.options,onPopupFocus:i,multiple:u,inputValue:c,visible:a});e=h?[]:V(s)&&!p?["click"]:["blur"];var _=st({},d),S=g?"width":"minWidth";return this.state.dropdownWidth&&(_[S]="".concat(this.state.dropdownWidth,"px")),n.createElement(B.a,st({},s,{showAction:h?[]:this.props.showAction,hideAction:e,ref:this.saveTriggerRef,popupPlacement:"bottomLeft",builtinPlacements:pt,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:s.onDropdownVisibleChange,popup:y,popupAlign:f,popupVisible:a,getPopupContainer:s.getPopupContainer,popupClassName:b()(m),popupStyle:_}),s.children)}}])&&ut(r.prototype,i),o&&ut(r,o),e}(n.Component);function dt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gt(){return(gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}lt.defaultProps={dropdownRender:function(t){return t}},lt.propTypes={onPopupFocus:o.func,onPopupScroll:o.func,dropdownMatchSelectWidth:o.bool,dropdownAlign:o.object,visible:o.bool,disabled:o.bool,showSearch:o.bool,dropdownClassName:o.string,multiple:o.bool,inputValue:o.string,filterOption:o.any,options:o.any,prefixCls:o.string,popupClassName:o.string,children:o.any,showAction:o.arrayOf(o.string),menuItemSelectedIcon:o.oneOfType([o.func,o.node]),dropdownRender:o.func,ariaId:o.string},lt.displayName="SelectTrigger";var bt=function(){return null};function St(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0;i<e.length;i++)e[i]&&"function"==typeof e[i]&&e[i].apply(St,r)}}var wt=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?yt(t):e}(this,mt(e).call(this,t))).inputRef=null,r.inputMirrorRef=null,r.topCtrlRef=null,r.selectTriggerRef=null,r.rootRef=null,r.selectionRef=null,r.dropdownContainer=null,r.blurTimer=null,r.focusTimer=null,r.comboboxTimer=null,r._focused=!1,r._mouseDown=!1,r._options=[],r._empty=!1,r.onInputChange=function(t){var e=r.props.tokenSeparators,n=t.target.value;if(K(r.props)&&e.length&&function(t,e){for(var r=0;r<e.length;++r)if(t.lastIndexOf(e[r])>0)return!0;return!1}(n,e)){var i=r.getValueByInput(n);return void 0!==i&&r.fireChange(i),r.setOpenState(!1,{needFocus:!0}),void r.setInputValue("",!1)}r.setInputValue(n),r.setState({open:!0}),M(r.props)&&r.fireChange([n])},r.onDropdownVisibleChange=function(t){t&&!r._focused&&(r.clearBlurTime(),r.timeoutFocus(),r._focused=!0,r.updateFocusClassName()),r.setOpenState(t)},r.onKeyDown=function(t){var e=r.state.open;if(!r.props.disabled){var n=t.keyCode;e&&!r.getInputDOMNode()?r.onInputKeyDown(t):n===P.a.ENTER||n===P.a.DOWN?(e||r.setOpenState(!0),t.preventDefault()):n===P.a.SPACE&&(e||(r.setOpenState(!0),t.preventDefault()))}},r.onInputKeyDown=function(t){var e=r.props,n=e.disabled,i=e.combobox,o=e.defaultActiveFirstOption;if(!n){var s=r.state,u=r.getRealOpenState(s),a=t.keyCode;if(!K(r.props)||t.target.value||a!==P.a.BACKSPACE){if(a===P.a.DOWN){if(!s.open)return r.openIfHasChildren(),t.preventDefault(),void t.stopPropagation()}else if(a===P.a.ENTER&&s.open)!u&&i||t.preventDefault(),u&&i&&!1===o&&(r.comboboxTimer=setTimeout((function(){r.setOpenState(!1)})));else if(a===P.a.ESC)return void(s.open&&(r.setOpenState(!1),t.preventDefault(),t.stopPropagation()));if(u&&r.selectTriggerRef){var c=r.selectTriggerRef.getInnerMenu();c&&c.onKeyDown(t,r.handleBackfill)&&(t.preventDefault(),t.stopPropagation())}}else{t.preventDefault();var f=s.value;f.length&&r.removeSelected(f[f.length-1])}}},r.onMenuSelect=function(t){var e=t.item;if(e){var n=r.state.value,i=r.props,o=L(e),s=n[n.length-1],u=!1;if(K(i)?-1!==Y(n,o)?u=!0:n=n.concat([o]):M(i)||void 0===s||s!==o||o===r.state.backfillValue?(n=[o],r.setOpenState(!1,{needFocus:!0,fireSearch:!1})):(r.setOpenState(!1,{needFocus:!0,fireSearch:!1}),u=!0),u||r.fireChange(n),r.fireSelect(o),!u){var a=M(i)?H(e,i.optionLabelProp):"";i.autoClearSearchValue&&r.setInputValue(a,!1)}}},r.onMenuDeselect=function(t){var e=t.item,n=t.domEvent;if("keydown"!==n.type||n.keyCode!==P.a.ENTER){var i;"click"===n.type&&r.removeSelected(L(e)),r.props.autoClearSearchValue&&r.setInputValue("")}else{var o=A.findDOMNode(e);(i=o)&&null!==i.offsetParent&&r.removeSelected(L(e))}},r.onArrowClick=function(t){t.stopPropagation(),t.preventDefault(),r.props.disabled||r.setOpenState(!r.state.open,{needFocus:!r.state.open})},r.onPlaceholderClick=function(){r.getInputDOMNode&&r.getInputDOMNode()&&r.getInputDOMNode().focus()},r.onOuterFocus=function(t){if(r.props.disabled)t.preventDefault();else{r.clearBlurTime();var e=r.getInputDOMNode();e&&t.target===r.rootRef||(j(r.props)||t.target!==e)&&(r._focused||(r._focused=!0,r.updateFocusClassName(),K(r.props)&&r._mouseDown||r.timeoutFocus()))}},r.onPopupFocus=function(){r.maybeFocus(!0,!0)},r.onOuterBlur=function(t){r.props.disabled?t.preventDefault():r.blurTimer=window.setTimeout((function(){r._focused=!1,r.updateFocusClassName();var t=r.props,e=r.state.value,n=r.state.inputValue;if(V(t)&&t.showSearch&&n&&t.defaultActiveFirstOption){var i=r._options||[];if(i.length){var o=function t(e){for(var r=0;r<e.length;r++){var n=e[r];if(n.type.isMenuItemGroup){var i=t(n.props.children);if(i)return i}else if(!n.props.disabled)return n}return null}(i);o&&(e=[L(o)],r.fireChange(e))}}else if(K(t)&&n){r._mouseDown?r.setInputValue(""):(r.state.inputValue="",r.getInputDOMNode&&r.getInputDOMNode()&&(r.getInputDOMNode().value=""));var s=r.getValueByInput(n);void 0!==s&&(e=s,r.fireChange(e))}if(K(t)&&r._mouseDown)return r.maybeFocus(!0,!0),void(r._mouseDown=!1);r.setOpenState(!1),t.onBlur&&t.onBlur(r.getVLForOnChange(e))}),10)},r.onClearSelection=function(t){var e=r.props,n=r.state;if(!e.disabled){var i=n.inputValue,o=n.value;t.stopPropagation(),(i||o.length)&&(o.length&&r.fireChange([]),r.setOpenState(!1,{needFocus:!0}),i&&r.setInputValue(""))}},r.onChoiceAnimationLeave=function(){r.forcePopupAlign()},r.getOptionInfoBySingleValue=function(t,e){var i;if((e=e||r.state.optionsInfo)[z(t)]&&(i=e[z(t)]),i)return i;var o=t;if(r.props.labelInValue){var s=q(r.props.value,t),u=q(r.props.defaultValue,t);void 0!==s?o=s:void 0!==u&&(o=u)}return{option:n.createElement(g,{value:t,key:t},t),value:t,label:o}},r.getOptionBySingleValue=function(t){return r.getOptionInfoBySingleValue(t).option},r.getOptionsBySingleValue=function(t){return t.map((function(t){return r.getOptionBySingleValue(t)}))},r.getValueByLabel=function(t){if(void 0===t)return null;var e=null;return Object.keys(r.state.optionsInfo).forEach((function(n){var i=r.state.optionsInfo[n];if(!i.disabled){var o=W(i.label);o&&o.join("")===t&&(e=i.value)}})),e},r.getVLBySingleValue=function(t){return r.props.labelInValue?{key:t,label:r.getLabelBySingleValue(t)}:t},r.getVLForOnChange=function(t){var e=t;return void 0!==e?(e=r.props.labelInValue?e.map((function(t){return{key:t,label:r.getLabelBySingleValue(t)}})):e.map((function(t){return t})),K(r.props)?e:e[0]):e},r.getLabelBySingleValue=function(t,e){return r.getOptionInfoBySingleValue(t,e).label},r.getDropdownContainer=function(){return r.dropdownContainer||(r.dropdownContainer=document.createElement("div"),document.body.appendChild(r.dropdownContainer)),r.dropdownContainer},r.getPlaceholderElement=function(){var t=r.props,e=r.state,i=!1;e.inputValue&&(i=!0);var o=e.value;o.length&&(i=!0),M(t)&&1===o.length&&e.value&&!e.value[0]&&(i=!1);var s=t.placeholder;return s?n.createElement("div",gt({onMouseDown:G,style:gt({display:i?"none":"block"},Z)},X,{onClick:r.onPlaceholderClick,className:"".concat(t.prefixCls,"-selection__placeholder")}),s):null},r.getInputElement=function(){var t=r.props,e=n.createElement("input",{id:t.id,autoComplete:"off"}),i=t.getInputElement?t.getInputElement():e,o=b()(i.props.className,dt({},"".concat(t.prefixCls,"-search__field"),!0));return n.createElement("div",{className:"".concat(t.prefixCls,"-search__field__wrap")},n.cloneElement(i,{ref:r.saveInputRef,onChange:r.onInputChange,onKeyDown:St(r.onInputKeyDown,i.props.onKeyDown,r.props.onInputKeyDown),value:r.state.inputValue,disabled:t.disabled,className:o}),n.createElement("span",{ref:r.saveInputMirrorRef,className:"".concat(t.prefixCls,"-search__field__mirror")},r.state.inputValue," "))},r.getInputDOMNode=function(){return r.topCtrlRef?r.topCtrlRef.querySelector("input,textarea,div[contentEditable]"):r.inputRef},r.getInputMirrorDOMNode=function(){return r.inputMirrorRef},r.getPopupDOMNode=function(){if(r.selectTriggerRef)return r.selectTriggerRef.getPopupDOMNode()},r.getPopupMenuComponent=function(){if(r.selectTriggerRef)return r.selectTriggerRef.getInnerMenu()},r.setOpenState=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.needFocus,i=e.fireSearch,o=r.props,s=r.state;if(s.open!==t){r.props.onDropdownVisibleChange&&r.props.onDropdownVisibleChange(t);var u={open:t,backfillValue:""};!t&&V(o)&&o.showSearch&&r.setInputValue("",i),t||r.maybeFocus(t,!!n),r.setState(gt({open:t},u),(function(){t&&r.maybeFocus(t,!!n)}))}else r.maybeFocus(t,!!n)},r.setInputValue=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.props.onSearch;t!==r.state.inputValue&&r.setState((function(r){return e&&t!==r.inputValue&&n&&n(t),{inputValue:t}}),r.forcePopupAlign)},r.getValueByInput=function(t){var e=r.props,n=e.multiple,i=e.tokenSeparators,o=r.state.value,s=!1;return function(t,e){var r=new RegExp("[".concat(e.join(),"]"));return t.split(r).filter((function(t){return t}))}(t,i).forEach((function(t){var e=[t];if(n){var i=r.getValueByLabel(t);i&&-1===Y(o,i)&&(o=o.concat(i),s=!0,r.fireSelect(i))}else-1===Y(o,t)&&(o=o.concat(e),s=!0,r.fireSelect(t))})),s?o:void 0},r.getRealOpenState=function(t){var e=r.props.open;if("boolean"==typeof e)return e;var n=(t||r.state).open,i=r._options||[];return!j(r.props)&&r.props.showSearch||n&&!i.length&&(n=!1),n},r.markMouseDown=function(){r._mouseDown=!0},r.markMouseLeave=function(){r._mouseDown=!1},r.handleBackfill=function(t){if(r.props.backfill&&(V(r.props)||M(r.props))){var e=L(t);M(r.props)&&r.setInputValue(e,!1),r.setState({value:[e],backfillValue:e})}},r.filterOption=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q,i=r.state.value,o=i[i.length-1];if(!t||o&&o===r.state.backfillValue)return!0;var s=r.props.filterOption;return"filterOption"in r.props?!0===s&&(s=n.bind(yt(r))):s=n.bind(yt(r)),!s||("function"==typeof s?s.call(yt(r),t,e):!e.props.disabled)},r.timeoutFocus=function(){var t=r.props.onFocus;r.focusTimer&&r.clearFocusTime(),r.focusTimer=window.setTimeout((function(){t&&t()}),10)},r.clearFocusTime=function(){r.focusTimer&&(clearTimeout(r.focusTimer),r.focusTimer=null)},r.clearBlurTime=function(){r.blurTimer&&(clearTimeout(r.blurTimer),r.blurTimer=null)},r.clearComboboxTime=function(){r.comboboxTimer&&(clearTimeout(r.comboboxTimer),r.comboboxTimer=null)},r.updateFocusClassName=function(){var t=r.rootRef,e=r.props;r._focused?w()(t).add("".concat(e.prefixCls,"-focused")):w()(t).remove("".concat(e.prefixCls,"-focused"))},r.maybeFocus=function(t,e){if(e||t){var n=r.getInputDOMNode(),i=document.activeElement;n&&(t||j(r.props))?i!==n&&(n.focus(),r._focused=!0):i!==r.selectionRef&&r.selectionRef&&(r.selectionRef.focus(),r._focused=!0)}},r.removeSelected=function(t,e){var n=r.props;if(!n.disabled&&!r.isChildDisabled(t)){e&&e.stopPropagation&&e.stopPropagation();var i=r.state.value.filter((function(e){return e!==t}));if(K(n)){var o=t;n.labelInValue&&(o={key:t,label:r.getLabelBySingleValue(t)}),n.onDeselect&&n.onDeselect(o,r.getOptionBySingleValue(t))}r.fireChange(i)}},r.openIfHasChildren=function(){var t=r.props;(n.Children.count(t.children)||V(t))&&r.setOpenState(!0)},r.fireSelect=function(t){r.props.onSelect&&r.props.onSelect(r.getVLBySingleValue(t),r.getOptionBySingleValue(t))},r.fireChange=function(t){var e=r.props;"value"in e||r.setState({value:t},r.forcePopupAlign);var n=r.getVLForOnChange(t),i=r.getOptionsBySingleValue(t);e.onChange&&e.onChange(n,K(r.props)?i:i[0])},r.isChildDisabled=function(t){return k(r.props.children).some((function(e){return L(e)===t&&e.props&&e.props.disabled}))},r.forcePopupAlign=function(){r.state.open&&r.selectTriggerRef&&r.selectTriggerRef.triggerRef&&r.selectTriggerRef.triggerRef.forcePopupAlign()},r.renderFilterOptions=function(){var t=r.state.inputValue,e=r.props,i=e.children,o=e.tags,s=e.notFoundContent,u=[],a=[],c=!1,f=r.renderFilterOptionsFromChildren(i,a,u);if(o){var h=r.state.value;(h=h.filter((function(e){return-1===a.indexOf(e)&&(!t||String(e).indexOf(String(t))>-1)}))).sort((function(t,e){return t.length-e.length})),h.forEach((function(t){var e=t,r=n.createElement(O.b,{style:Z,role:"option",attribute:X,value:e,key:e},e);f.push(r),u.push(r)})),t&&u.every((function(e){return L(e)!==t}))&&f.unshift(n.createElement(O.b,{style:Z,role:"option",attribute:X,value:t,key:t},t))}return!f.length&&s&&(c=!0,f=[n.createElement(O.b,{style:Z,attribute:X,disabled:!0,role:"option",value:"NOT_FOUND",key:"NOT_FOUND"},s)]),{empty:c,options:f}},r.renderFilterOptionsFromChildren=function(t,e,i){var o=[],s=r.props,u=r.state.inputValue,a=s.tags;return n.Children.forEach(t,(function(t){if(t){var s=t.type;if(s.isSelectOptGroup){var c=t.props.label,f=t.key;if(f||"string"!=typeof c?!c&&f&&(c=f):f=c,u&&r.filterOption(u,t)){var h=k(t.props.children).map((function(t){var e=L(t)||t.key;return n.createElement(O.b,gt({key:e,value:e},t.props))}));o.push(n.createElement(O.c,{key:f,title:c},h))}else{var p=r.renderFilterOptionsFromChildren(t.props.children,e,i);p.length&&o.push(n.createElement(O.c,{key:f,title:c},p))}}else{R()(s.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+"instead of `".concat(s.name||s.displayName||t.type,"`."));var l=L(t);if(function(t,e){if(!V(e)&&!function(t){return t.multiple}(e)&&"string"!=typeof t)throw new Error("Invalid `value` of type `".concat(typeof t,"` supplied to Option, ")+"expected `string` when `tags/combobox` is `true`.")}(l,r.props),r.filterOption(u,t)){var d=n.createElement(O.b,gt({style:Z,attribute:X,value:l,key:l,role:"option"},t.props));o.push(d),i.push(d)}a&&e.push(l)}}})),o},r.renderTopControlNode=function(){var t=r.state,e=t.open,i=t.inputValue,o=r.state.value,s=r.props,u=s.choiceTransitionName,a=s.prefixCls,c=s.maxTagTextLength,f=s.maxTagCount,h=s.showSearch,p=s.removeIcon,l=s.maxTagPlaceholder,d="".concat(a,"-selection__rendered"),g=null;if(V(s)){var v=null;if(o.length){var m=!1,y=1;h&&e?(m=!i)&&(y=.4):m=!0;var _=o[0],b=r.getOptionInfoBySingleValue(_),S=b.label,w=b.title;v=n.createElement("div",{key:"value",className:"".concat(a,"-selection-selected-value"),title:D(w||S),style:{display:m?"block":"none",opacity:y}},S)}g=h?[v,n.createElement("div",{className:"".concat(a,"-search ").concat(a,"-search--inline"),key:"input",style:{display:e?"block":"none"}},r.getInputElement())]:[v]}else{var O,E=[],k=o;if(void 0!==f&&o.length>f){k=k.slice(0,f);var P=r.getVLForOnChange(o.slice(f,o.length)),A="+ ".concat(o.length-f," ...");l&&(A="function"==typeof l?l(P):l),O=n.createElement("li",gt({style:Z},X,{role:"presentation",onMouseDown:G,className:"".concat(a,"-selection__choice ").concat(a,"-selection__choice__disabled"),key:"maxTagPlaceholder",title:D(A)}),n.createElement("div",{className:"".concat(a,"-selection__choice__content")},A))}K(s)&&(E=k.map((function(t){var e=r.getOptionInfoBySingleValue(t),i=e.label,o=e.title||i;c&&"string"==typeof i&&i.length>c&&(i="".concat(i.slice(0,c),"..."));var s=r.isChildDisabled(t),u=s?"".concat(a,"-selection__choice ").concat(a,"-selection__choice__disabled"):"".concat(a,"-selection__choice");return n.createElement("li",gt({style:Z},X,{onMouseDown:G,className:u,role:"presentation",key:t||"RC_SELECT_EMPTY_VALUE_KEY",title:D(o)}),n.createElement("div",{className:"".concat(a,"-selection__choice__content")},i),s?null:n.createElement("span",{onClick:function(e){r.removeSelected(t,e)},className:"".concat(a,"-selection__choice__remove")},p||n.createElement("i",{className:"".concat(a,"-selection__choice__remove-icon")},"×")))}))),O&&E.push(O),E.push(n.createElement("li",{className:"".concat(a,"-search ").concat(a,"-search--inline"),key:"__input"},r.getInputElement())),g=K(s)&&u?n.createElement(I.a,{onLeave:r.onChoiceAnimationLeave,component:"ul",transitionName:u},E):n.createElement("ul",null,E)}return n.createElement("div",{className:d,ref:r.saveTopCtrlRef},r.getPlaceholderElement(),g)};var i=e.getOptionsInfoFromProps(t);if(t.tags&&"function"!=typeof t.filterOption){var o=Object.keys(i).some((function(t){return i[t].disabled}));R()(!o,"Please avoid setting option to disabled in tags mode since user can always type text as tag.")}return r.state={value:e.getValueFromProps(t,!0),inputValue:t.combobox?e.getInputValueForCombobox(t,i,!0):"",open:t.defaultOpen,optionsInfo:i,backfillValue:"",skipBuildOptionsInfo:!0,ariaId:""},r.saveInputRef=J(yt(r),"inputRef"),r.saveInputMirrorRef=J(yt(r),"inputMirrorRef"),r.saveTopCtrlRef=J(yt(r),"topCtrlRef"),r.saveSelectTriggerRef=J(yt(r),"selectTriggerRef"),r.saveRootRef=J(yt(r),"rootRef"),r.saveSelectionRef=J(yt(r),"selectionRef"),r}var r,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(e,t),r=e,(i=[{key:"componentDidMount",value:function(){var t;(this.props.autoFocus||this.state.open)&&this.focus(),this.setState({ariaId:(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:7&r|8).toString(16)})))})}},{key:"componentDidUpdate",value:function(){if(K(this.props)){var t=this.getInputDOMNode(),e=this.getInputMirrorDOMNode();t&&t.value&&e?(t.style.width="",t.style.width="".concat(e.clientWidth,"px")):t&&(t.style.width="")}this.forcePopupAlign()}},{key:"componentWillUnmount",value:function(){this.clearFocusTime(),this.clearBlurTime(),this.clearComboboxTime(),this.dropdownContainer&&(A.unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)}},{key:"focus",value:function(){V(this.props)&&this.selectionRef?this.selectionRef.focus():this.getInputDOMNode()&&this.getInputDOMNode().focus()}},{key:"blur",value:function(){V(this.props)&&this.selectionRef?this.selectionRef.blur():this.getInputDOMNode()&&this.getInputDOMNode().blur()}},{key:"renderArrow",value:function(t){var e=this.props,r=e.showArrow,i=void 0===r?!t:r,o=e.loading,s=e.inputIcon,u=e.prefixCls;if(!i&&!o)return null;var a=o?n.createElement("i",{className:"".concat(u,"-arrow-loading")}):n.createElement("i",{className:"".concat(u,"-arrow-icon")});return n.createElement("span",gt({key:"arrow",className:"".concat(u,"-arrow"),style:Z},X,{onClick:this.onArrowClick}),s||a)}},{key:"renderClear",value:function(){var t=this.props,e=t.prefixCls,r=t.allowClear,i=t.clearIcon,o=this.state.inputValue,s=this.state.value,u=n.createElement("span",gt({key:"clear",className:"".concat(e,"-selection__clear"),onMouseDown:G,style:Z},X,{onClick:this.onClearSelection}),i||n.createElement("i",{className:"".concat(e,"-selection__clear-icon")},"×"));return r?M(this.props)?o?u:null:o||s.length?u:null:null}},{key:"render",value:function(){var t,e=this.props,r=K(e),i=e.showArrow,o=void 0===i||i,s=this.state,u=e.className,a=e.disabled,c=e.prefixCls,f=e.loading,h=this.renderTopControlNode(),p=this.state,l=p.open,d=p.ariaId;if(l){var g=this.renderFilterOptions();this._empty=g.empty,this._options=g.options}var v=this.getRealOpenState(),m=this._empty,y=this._options||[],_={};Object.keys(e).forEach((function(t){!Object.prototype.hasOwnProperty.call(e,t)||"data-"!==t.substr(0,5)&&"aria-"!==t.substr(0,5)&&"role"!==t||(_[t]=e[t])}));var S=gt({},_);j(e)||(S=gt(gt({},S),{onKeyDown:this.onKeyDown,tabIndex:e.disabled?-1:e.tabIndex}));var w=(dt(t={},u,!!u),dt(t,c,1),dt(t,"".concat(c,"-open"),l),dt(t,"".concat(c,"-focused"),l||!!this._focused),dt(t,"".concat(c,"-combobox"),M(e)),dt(t,"".concat(c,"-disabled"),a),dt(t,"".concat(c,"-enabled"),!a),dt(t,"".concat(c,"-allow-clear"),!!e.allowClear),dt(t,"".concat(c,"-no-arrow"),!o),dt(t,"".concat(c,"-loading"),!!f),t);return n.createElement(lt,{onPopupFocus:this.onPopupFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,dropdownAlign:e.dropdownAlign,dropdownClassName:e.dropdownClassName,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,defaultActiveFirstOption:e.defaultActiveFirstOption,dropdownMenuStyle:e.dropdownMenuStyle,transitionName:e.transitionName,animation:e.animation,prefixCls:e.prefixCls,dropdownStyle:e.dropdownStyle,combobox:e.combobox,showSearch:e.showSearch,options:y,empty:m,multiple:r,disabled:a,visible:v,inputValue:s.inputValue,value:s.value,backfillValue:s.backfillValue,firstActiveValue:e.firstActiveValue,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:e.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,onPopupScroll:e.onPopupScroll,showAction:e.showAction,ref:this.saveSelectTriggerRef,menuItemSelectedIcon:e.menuItemSelectedIcon,dropdownRender:e.dropdownRender,ariaId:d},n.createElement("div",{id:e.id,style:e.style,ref:this.saveRootRef,onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:b()(w),onMouseDown:this.markMouseDown,onMouseUp:this.markMouseLeave,onMouseOut:this.markMouseLeave},n.createElement("div",gt({ref:this.saveSelectionRef,key:"selection",className:"".concat(c,"-selection\n            ").concat(c,"-selection--").concat(r?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-controls":d,"aria-expanded":v},S),h,this.renderClear(),this.renderArrow(!!r))))}}])&&vt(r.prototype,i),o&&vt(r,o),e}(n.Component);wt.propTypes=y,wt.defaultProps={prefixCls:"rc-select",defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",onChange:bt,onFocus:bt,onBlur:bt,onSelect:bt,onSearch:bt,onDeselect:bt,onInputKeyDown:bt,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found",backfill:!1,showAction:["click"],tokenSeparators:[],autoClearSearchValue:!0,tabIndex:0,dropdownRender:function(t){return t}},wt.getDerivedStateFromProps=function(t,e){var r=e.skipBuildOptionsInfo?e.optionsInfo:wt.getOptionsInfoFromProps(t,e),n={optionsInfo:r,skipBuildOptionsInfo:!1};if("open"in t&&(n.open=t.open),t.disabled&&e.open&&(n.open=!1),"value"in t){var i=wt.getValueFromProps(t);n.value=i,t.combobox&&(n.inputValue=wt.getInputValueForCombobox(t,r))}return n},wt.getOptionsFromChildren=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.Children.forEach(t,(function(t){t&&(t.type.isSelectOptGroup?wt.getOptionsFromChildren(t.props.children,e):e.push(t))})),e},wt.getInputValueForCombobox=function(t,e,r){var n=[];if("value"in t&&!r&&(n=W(t.value)),"defaultValue"in t&&r&&(n=W(t.defaultValue)),!n.length)return"";var i=n=n[0];return t.labelInValue?i=n.label:e[z(n)]&&(i=e[z(n)].label),void 0===i&&(i=""),i},wt.getLabelFromOption=function(t,e){return H(e,t.optionLabelProp)},wt.getOptionsInfoFromProps=function(t,e){var r=wt.getOptionsFromChildren(t.children),n={};if(r.forEach((function(e){var r=L(e);n[z(r)]={option:e,value:r,label:wt.getLabelFromOption(t,e),title:e.props.title,disabled:e.props.disabled}})),e){var i=e.optionsInfo,o=e.value;o&&o.forEach((function(t){var e=z(t);n[e]||void 0===i[e]||(n[e]=i[e])}))}return n},wt.getValueFromProps=function(t,e){var r=[];return"value"in t&&!e&&(r=W(t.value)),"defaultValue"in t&&e&&(r=W(t.defaultValue)),t.labelInValue&&(r=r.map((function(t){return t.key}))),r},wt.displayName="Select",Object(T.polyfill)(wt);var It=wt;It.Option=g,It.OptGroup=f;var Ot=It,Et=r(42),kt=r(588),Pt=r(36),At=r(23),Tt=r(76);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(){return(Rt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dt(t);if(e){var i=Dt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ft(this,r)}}function Ft(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},Ht=Object(Tt.a)("default","large","small"),Mt=(Object(Tt.a)("default","multiple","tags","combobox","SECRET_COMBOBOX_MODE_DO_NOT_USE"),{prefixCls:o.string,className:o.string,size:o.oneOf(Ht),notFoundContent:o.any,showSearch:o.bool,optionLabelProp:o.string,transitionName:o.string,choiceTransitionName:o.string,id:o.string}),Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(s,t);var e,r,i,o=Ut(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).saveSelect=function(t){e.rcSelect=t},e.renderSelect=function(t){var r,i=t.getPopupContainer,o=t.getPrefixCls,s=t.renderEmpty,u=e.props,a=u.prefixCls,c=u.className,f=void 0===c?"":c,h=u.size,p=u.mode,l=u.getPopupContainer,d=u.removeIcon,g=u.clearIcon,v=u.menuItemSelectedIcon,m=u.showArrow,y=Lt(u,["prefixCls","className","size","mode","getPopupContainer","removeIcon","clearIcon","menuItemSelectedIcon","showArrow"]),_=Object(Et.a)(y,["inputIcon"]),S=o("select",a),w=b()((Nt(r={},"".concat(S,"-lg"),"large"===h),Nt(r,"".concat(S,"-sm"),"small"===h),Nt(r,"".concat(S,"-show-arrow"),m),r),f),I=e.props.optionLabelProp;e.isCombobox()&&(I=I||"value");var O={multiple:"multiple"===p,tags:"tags"===p,combobox:e.isCombobox()},E=d&&(n.isValidElement(d)?n.cloneElement(d,{className:b()(d.props.className,"".concat(S,"-remove-icon"))}):d)||n.createElement(At.a,{type:"close",className:"".concat(S,"-remove-icon")}),k=g&&(n.isValidElement(g)?n.cloneElement(g,{className:b()(g.props.className,"".concat(S,"-clear-icon"))}):g)||n.createElement(At.a,{type:"close-circle",theme:"filled",className:"".concat(S,"-clear-icon")}),P=v&&(n.isValidElement(v)?n.cloneElement(v,{className:b()(v.props.className,"".concat(S,"-selected-icon"))}):v)||n.createElement(At.a,{type:"check",className:"".concat(S,"-selected-icon")});return n.createElement(Ot,Rt({inputIcon:e.renderSuffixIcon(S),removeIcon:E,clearIcon:k,menuItemSelectedIcon:P,showArrow:m},_,O,{prefixCls:S,className:w,optionLabelProp:I||"children",notFoundContent:e.getNotFoundContent(s),getPopupContainer:l||i,ref:e.saveSelect}))},Object(Pt.a)("combobox"!==t.mode,"Select","The combobox mode is deprecated, it will be removed in next major version, please use AutoComplete instead"),e}return e=s,(r=[{key:"getNotFoundContent",value:function(t){var e=this.props.notFoundContent;return void 0!==e?e:this.isCombobox()?null:t("Select")}},{key:"focus",value:function(){this.rcSelect.focus()}},{key:"blur",value:function(){this.rcSelect.blur()}},{key:"isCombobox",value:function(){var t=this.props.mode;return"combobox"===t||t===s.SECRET_COMBOBOX_MODE_DO_NOT_USE}},{key:"renderSuffixIcon",value:function(t){var e=this.props,r=e.loading,i=e.suffixIcon;return i?n.isValidElement(i)?n.cloneElement(i,{className:b()(i.props.className,"".concat(t,"-arrow-icon"))}):i:r?n.createElement(At.a,{type:"loading"}):n.createElement(At.a,{type:"down",className:"".concat(t,"-arrow-icon")})}},{key:"render",value:function(){return n.createElement(kt.a,null,this.renderSelect)}}])&&Ct(e.prototype,r),i&&Ct(e,i),s}(n.Component);Kt.Option=g,Kt.OptGroup=f,Kt.SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",Kt.defaultProps={showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},Kt.propTypes=Mt},1219:function(t,e,r){"use strict";r(66),r(1110),r(1111)},1223:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(1180),s=r(1181);function u(t){if(!(this instanceof u))return new u(t);var e;if(n.isNumber(t))e=t;else{if(!n.isString(t))throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');e=u.map[t]}return s.defineImmutable(this,{num:e}),this}for(var a in u.fromBuffer=function(t){return i.checkArgument(o.isBuffer(t)),new u(Number("0x"+t.toString("hex")))},u.fromNumber=function(t){return i.checkArgument(n.isNumber(t)),new u(t)},u.fromString=function(t){i.checkArgument(n.isString(t));var e=u.map[t];if(void 0===e)throw new TypeError("Invalid opcodestr");return new u(e)},u.prototype.toHex=function(){return this.num.toString(16)},u.prototype.toBuffer=function(){return e.from(this.toHex(),"hex")},u.prototype.toNumber=function(){return this.num},u.prototype.toString=function(){var t=u.reverseMap[this.num];if(void 0===t)throw new Error("Opcode does not have a string representation");return t},u.smallInt=function(t){return i.checkArgument(n.isNumber(t),"Invalid Argument: n should be number"),i.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),0===t?u("OP_0"):new u(u.map.OP_1+t-1)},u.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},u.reverseMap=[],u.map)u.reverseMap[u.map[a]]=a;n.extend(u,u.map),u.isSmallIntOp=function(t){return t instanceof u&&(t=t.toNumber()),t===u.map.OP_0||t>=u.map.OP_1&&t<=u.map.OP_16},u.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=u}).call(this,r(22).Buffer)},1224:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(22),s=e.compare||r(1274),u=r(1187),a=r(1180),c=r(1181),f=r(1190),h=r(1184),p=r(1183),l=r(1185),d=r(1192),g=r(1214),v=r(1189),m=r(1235),y=r(1225),_=y.PublicKeyHash,b=y.PublicKey,S=y.MultiSigScriptHash,w=y.MultiSig,I=r(1191),O=r(1186),E=r(1203),k=r(1182);function P(t,e){if(!(this instanceof P))return new P(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof P)return P.shallowCopy(t);if(c.isHexa(t))this.fromString(t);else if(a.isBuffer(t))this.fromBuffer(t);else{if(!n.isObject(t))throw new u.InvalidArgument("Must provide an object or string to deserialize a transaction");this.fromObject(t,e)}}else this._newTransaction()}P.DUST_AMOUNT=546,P.FEE_SECURITY_MARGIN=150,P.MAX_MONEY=21e14,P.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,P.NLOCKTIME_MAX_VALUE=4294967295,P.FEE_PER_KB=1e5,P.CHANGE_OUTPUT_MAX_SIZE=62,P.MAXIMUM_EXTRA_SIZE=26,P.shallowCopy=function(t){return new P(t.toBuffer())};var A={configurable:!1,enumerable:!0,get:function(){return this._hash=new f(this._getHash()).readReverse().toString("hex"),this._hash}},T={configurable:!1,enumerable:!0,get:function(){return new f(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(P.prototype,"witnessHash",T),Object.defineProperty(P.prototype,"hash",A),Object.defineProperty(P.prototype,"id",A);var x={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(P.prototype,"inputAmount",x),x.get=function(){return this._getOutputAmount()},Object.defineProperty(P.prototype,"outputAmount",x),P.prototype._getHash=function(){return p.sha256sha256(this.toBuffer(!0))},P.prototype._getWitnessHash=function(){return p.sha256sha256(this.toBuffer(!1))},P.prototype.serialize=function(t){return!0===t||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)},P.prototype.uncheckedSerialize=P.prototype.toString=function(){return this.toBuffer().toString("hex")},P.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://bitcore.io/api/lib/transaction#serialization-checks",e;return this.uncheckedSerialize()},P.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t},P.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new u.Transaction.InvalidSatoshis;var e,r=this._getUnspentValue();return r<0?t.disableMoreOutputThanInput||(e=new u.Transaction.InvalidOutputAmountSum):e=this._hasFeeError(t,r),e||this._hasDustOutputs(t)||this._isMissingSignatures(t)},P.prototype._hasFeeError=function(t,e){if(!n.isUndefined(this._fee)&&this._fee!==e)return new u.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(P.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new u.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new u.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var i=Math.ceil(this._estimateFee()/P.FEE_SECURITY_MARGIN);if(e<i)return new u.Transaction.FeeError.TooSmall("expected more than "+i+" but got "+e)}},P.prototype._missingChange=function(){return!this._changeScript},P.prototype._hasDustOutputs=function(t){var e,r;if(!t.disableDustOutputs)for(e in this.outputs)if((r=this.outputs[e]).satoshis<P.DUST_AMOUNT&&!r.script.isDataOut())return new u.Transaction.DustOutputs},P.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned)return this.isFullySigned()?void 0:new u.Transaction.MissingSignatures},P.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},P.prototype.toBuffer=function(t){var e=new h;return this.toBufferWriter(e,t).toBuffer()},P.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1},P.prototype.toBufferWriter=function(t,r){t.writeInt32LE(this.version);var i=this.hasWitnesses();return i&&!r&&t.write(e.from("0001","hex")),t.writeVarintNum(this.inputs.length),n.each(this.inputs,(function(e){e.toBufferWriter(t)})),t.writeVarintNum(this.outputs.length),n.each(this.outputs,(function(e){e.toBufferWriter(t)})),i&&!r&&n.each(this.inputs,(function(e){var r=e.getWitnesses();t.writeVarintNum(r.length);for(var n=0;n<r.length;n++)t.writeVarintNum(r[n].length),t.write(r[n])})),t.writeUInt32LE(this.nLockTime),t},P.prototype.fromBuffer=function(t){var e=new f(t);return this.fromBufferReader(e)},P.prototype.fromBufferReader=function(t){i.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;0===e&&0!==t.buf[t.pos]&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var o=y.fromBufferReader(t);this.inputs.push(o)}for(var s=t.readVarintNum(),u=0;u<s;u++)this.outputs.push(I.fromBufferReader(t));if(r)for(var a=0;a<e;a++){for(var c=t.readVarintNum(),f=[],h=0;h<c;h++){var p=t.readVarintNum(),l=t.read(p);f.push(l)}this.inputs[a].setWitnesses(f)}return this.nLockTime=t.readUInt32LE(),this},P.prototype.toObject=P.prototype.toJSON=function(){var t=[];this.inputs.forEach((function(e){t.push(e.toObject())}));var e=[];this.outputs.forEach((function(t){e.push(t.toObject())}));var r={hash:this.hash,version:this.version,inputs:t,outputs:e,nLockTime:this.nLockTime};return this._changeScript&&(r.changeScript=this._changeScript.toString()),n.isUndefined(this._changeIndex)||(r.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(r.fee=this._fee),r},P.prototype.fromObject=function(t,e){i.checkArgument(n.isObject(t)||t instanceof P);var r,o=this;return r=t instanceof P?r.toObject():t,n.each(r.inputs,(function(t){if(t.output&&t.output.script){var r,n=new O(t.output.script);if((n.isScriptHashOut()||n.isWitnessScriptHashOut())&&t.publicKeys&&t.threshold)r=new y.MultiSigScriptHash(t,t.publicKeys,t.threshold,t.signatures,e);else if(n.isPublicKeyHashOut()||n.isWitnessPublicKeyHashOut()||n.isScriptHashOut())r=new y.PublicKeyHash(t);else{if(!n.isPublicKeyOut())throw new u.Transaction.Input.UnsupportedScript(t.output.script);r=new y.PublicKey(t)}o.addInput(r)}else o.uncheckedAddInput(new y(t))})),n.each(r.outputs,(function(t){o.addOutput(new I(t))})),r.changeIndex&&(this._changeIndex=r.changeIndex),r.changeScript&&(this._changeScript=new O(r.changeScript)),r.fee&&(this._fee=r.fee),this.nLockTime=r.nLockTime,this.version=r.version,this._checkConsistency(t),this},P.prototype._checkConsistency=function(t){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&i.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")},P.prototype.lockUntilDate=function(t){if(i.checkArgument(t),n.isNumber(t)&&t<P.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new u.Transaction.LockTimeTooEarly;n.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===y.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=y.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},P.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t>=P.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new u.Transaction.BlockHeightTooHigh;if(t<0)throw new u.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===y.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=y.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},P.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<P.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},P.prototype.fromString=function(t){this.fromBuffer(o.Buffer.from(t,"hex"))},P.prototype._newTransaction=function(){this.version=2,this.nLockTime=0},P.prototype.from=function(t,e,r,i){if(n.isArray(t)){var o=this;return n.each(t,(function(t){o.from(t,e,r,i)})),this}return n.some(this.inputs,(function(e){return e.prevTxId.toString("hex")===t.txId&&e.outputIndex===t.outputIndex}))||(e&&r?this._fromMultisigUtxo(t,e,r,i):this._fromNonP2SH(t)),this},P.prototype.associateInputs=function(t,e,r,n){let i=[];for(let o of t){const t=this.inputs.findIndex(t=>t.prevTxId.toString("hex")===o.txId&&t.outputIndex===o.outputIndex);i.push(t),t>=0&&(this.inputs[t]=this._getInputFrom(o,e,r,n))}return i},P.prototype._selectInputType=function(t,e,r){var n;return t=new m(t),e&&r?t.script.isMultisigOut()?n=w:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=S):n=t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?_:t.script.isPublicKeyOut()?b:y,n},P.prototype._getInputFrom=function(t,e,r,n){t=new m(t);return new(this._selectInputType(t,e,r))({output:new I({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:t.sequenceNumber,script:O.empty()},...e&&r?[e,r,!1,n]:[])},P.prototype._fromNonP2SH=function(t){const e=this._getInputFrom(t);this.addInput(e)},P.prototype._fromMultisigUtxo=function(t,e,r,n){i.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");const o=this._getInputFrom(t,e,r,n);this.addInput(o)},P.prototype.addInput=function(t,e,r){if(i.checkArgumentType(t,y,"input"),!t.output&&(n.isUndefined(e)||n.isUndefined(r)))throw new u.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return t.output||!e||n.isUndefined(r)||(e=e instanceof O?e:new O(e),i.checkArgumentType(r,"number","satoshis"),t.output=new I({script:e,satoshis:r})),this.uncheckedAddInput(t)},P.prototype.uncheckedAddInput=function(t){return i.checkArgumentType(t,y,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this},P.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map((function(t){return!!t.output})))},P.prototype.fee=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this},P.prototype.feePerKb=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this},P.prototype.feePerByte=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this},P.prototype.change=function(t){return i.checkArgument(t,"address is required"),this._changeScript=O.fromAddress(t),this._updateChangeOutput(),this},P.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},P.prototype.to=function(t,e){if(n.isArray(t)){var r=this;return n.each(t,(function(t){r.to(t.address,t.satoshis)})),this}return i.checkArgument(c.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new I({script:O(new v(t)),satoshis:e})),this},P.prototype.addData=function(t){return this.addOutput(new I({script:O.buildDataOut(t),satoshis:0})),this},P.prototype.addOutput=function(t){return i.checkArgumentType(t,I,"output"),this._addOutput(t),this._updateChangeOutput(),this},P.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},P.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0},P.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var t=this;this._outputAmount=0,n.each(this.outputs,(function(e){t._outputAmount+=e.satoshis}))}return this._outputAmount},P.prototype._getInputAmount=function(){return n.isUndefined(this._inputAmount)&&(this._inputAmount=n.sumBy(this.inputs,(function(t){if(n.isUndefined(t.output))throw new u.Transaction.Input.MissingPreviousOutput;return t.output.satoshis}))),this._inputAmount},P.prototype._updateChangeOutput=function(){if(this._changeScript){this._clearSignatures(),n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex);var t=this._getUnspentValue()-this.getFee();t>0?(this._changeIndex=this.outputs.length,this._addOutput(new I({script:this._changeScript,satoshis:t}))):this._changeIndex=void 0}},P.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this._getUnspentValue():this._fee},P.prototype._estimateFee=function(){var t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||P.FEE_PER_KB)/1e3;function n(t){return t*r}var i=Math.ceil(n(t)),o=Math.ceil(n(t)+n(P.CHANGE_OUTPUT_MAX_SIZE));return!this._changeScript||e<=o?i:o},P.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},P.prototype._clearSignatures=function(){n.each(this.inputs,(function(t){t.clearSignatures()}))},P.prototype._estimateSize=function(){var t=P.MAXIMUM_EXTRA_SIZE;return n.each(this.inputs,(function(e){t+=36,t+=e._estimateSize()})),n.each(this.outputs,(function(e){t+=e.script.toBuffer().length+9})),Math.ceil(t)},P.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=n.without(this.outputs,e),this._outputAmount=void 0},P.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()},P.prototype.sort=function(){return this.sortInputs((function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(t=>{t.i=r++}),e.sort((function(t,e){return s(t.prevTxId,e.prevTxId)||t.outputIndex-e.outputIndex||t.i-e.i})),e})),this.sortOutputs((function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(t=>{t.i=r++}),e.sort((function(t,e){return t.satoshis-e.satoshis||s(t.script.toBuffer(),e.script.toBuffer())||t.i-e.i})),e})),this},P.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},P.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)},P.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this},P.prototype._newOutputOrder=function(t){if(this.outputs.length!==t.length||0!==n.difference(this.outputs,t).length)throw new u.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var e=this.outputs[this._changeIndex];this._changeIndex=n.findIndex(t,e)}return this.outputs=t,this},P.prototype.removeInput=function(t,e){var r;if((r=!e&&n.isNumber(t)?t:n.findIndex(this.inputs,(function(r){return r.prevTxId.toString("hex")===t&&r.outputIndex===e})))<0||r>=this.inputs.length)throw new u.Transaction.InvalidIndex(r,this.inputs.length);var i=this.inputs[r];this.inputs=n.without(this.inputs,i),this._inputAmount=void 0,this._updateChangeOutput()},P.prototype.sign=function(t,e,r){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var o=this;return n.isArray(t)?(n.each(t,(function(t){o.sign(t,e,r)})),this):(n.each(this.getSignatures(t,e,r),(function(t){o.applySignature(t,r)})),this)},P.prototype.getSignatures=function(t,e,r){t=new E(t),e=e||l.SIGHASH_ALL;var i=this,o=[],s=p.sha256ripemd160(t.publicKey.toBuffer());return n.each(this.inputs,(function(u,a){n.each(u.getSignatures(i,t,a,e,s,r),(function(t){o.push(t)}))})),o},P.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this},P.prototype.isFullySigned=function(){return n.each(this.inputs,(function(t){if(t.isFullySigned===y.prototype.isFullySigned)throw new u.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")})),n.every(n.map(this.inputs,(function(t){return t.isFullySigned()})))},P.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===y.prototype.isValidSignature)throw new u.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)},P.prototype.verifySignature=function(t,e,r,o,s,u,a){if(n.isUndefined(s)&&(s=0),1===s){var f,p=o.toBuffer(),l=new h;return l.writeVarintNum(p.length),l.write(p),u?(i.checkState(c.isNaturalNumber(u)),f=(new h).writeUInt64LEBN(new k(u)).toBuffer()):f=this.inputs[r].getSatoshisBuffer(),g.verify(this,t,e,r,l.toBuffer(),f,a)}return d.verify(this,t,e,r,o,a)},P.prototype.verify=function(){if(0===this.inputs.length)return"transaction txins empty";if(0===this.outputs.length)return"transaction txouts empty";for(var t=new k(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new k(P.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if((t=t.add(r._satoshisBN)).gt(new k(P.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>1e6)return"transaction over the maximum block size";var i={};for(e=0;e<this.inputs.length;e++){var o=this.inputs[e],s=o.prevTxId+":"+o.outputIndex;if(!n.isUndefined(i[s]))return"transaction input "+e+" duplicate input";i[s]=!0}if(this.isCoinbase()){var u=this.inputs[0]._scriptBuffer;if(u.length<2||u.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0},P.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},P.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){if(this.inputs[t].sequenceNumber<y.MAXINT-1)return!0}return!1},P.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=y.MAXINT-1&&(e.sequenceNumber=y.DEFAULT_RBF_SEQNUMBER)}return this},P.prototype.setVersion=function(t){return i.checkArgument(c.isNaturalNumber(t)&&t<=2,"Wrong version number"),this.version=t,this},t.exports=P}).call(this,r(22).Buffer)},1225:function(t,e,r){t.exports=r(1205),t.exports.PublicKey=r(1275),t.exports.PublicKeyHash=r(1276),t.exports.MultiSig=r(1277),t.exports.MultiSigScriptHash=r(1278)},1226:function(t,e,r){"use strict";var n=r(1178),i=r(1187),o=r(1179),s={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function u(t,e){if(!(this instanceof u))return new u(t,e);if(n.isNumber(e)){if(e<=0)throw new i.Unit.InvalidRate(e);t/=e,e=u.BTC}this._value=this._from(t,e);var r=this;Object.keys(s).forEach((function(t){Object.defineProperty(r,t,{get:function(){return r.to(t)},enumerable:!0})}))}Object.keys(s).forEach((function(t){u[t]=t})),u.fromObject=function(t){return o.checkArgument(n.isObject(t),"Argument is expected to be an object"),new u(t.amount,t.code)},u.fromBTC=function(t){return new u(t,u.BTC)},u.fromMillis=u.fromMilis=function(t){return new u(t,u.mBTC)},u.fromMicros=u.fromBits=function(t){return new u(t,u.bits)},u.fromSatoshis=function(t){return new u(t,u.satoshis)},u.fromFiat=function(t,e){return new u(t,e)},u.prototype._from=function(t,e){if(!s[e])throw new i.Unit.UnknownCode(e);return parseInt((t*s[e][0]).toFixed())},u.prototype.to=function(t){if(n.isNumber(t)){if(t<=0)throw new i.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!s[t])throw new i.Unit.UnknownCode(t);var e=this._value/s[t][0];return parseFloat(e.toFixed(s[t][1]))},u.prototype.toBTC=function(){return this.to(u.BTC)},u.prototype.toMillis=u.prototype.toMilis=function(){return this.to(u.mBTC)},u.prototype.toMicros=u.prototype.toBits=function(){return this.to(u.bits)},u.prototype.toSatoshis=function(){return this.to(u.satoshis)},u.prototype.atRate=function(t){return this.to(t)},u.prototype.toString=function(){return this.satoshis+" satoshis"},u.prototype.toObject=u.prototype.toJSON=function(){return{amount:this.BTC,code:u.BTC}},u.prototype.inspect=function(){return"<Unit: "+this.toString()+">"},t.exports=u},1227:function(t,e,r){"use strict";var n=r(1239),i=r(1245);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),p=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(1246);function _(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),u=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(u);c[0]=c[0].replace(/\\/g,"/");var _=t=c.join(u);if(_=_.trim(),!r&&1===t.split("#").length){var b=a.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var S=s.exec(_);if(S){var w=(S=S[0]).toLowerCase();this.protocol=w,_=_.substr(S.length)}if(r||S||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===_.substr(0,2);!I||S&&v[S]||(_=_.substr(2),this.slashes=!0)}if(!v[S]&&(I||S&&!m[S])){for(var O,E,k=-1,P=0;P<p.length;P++){-1!==(A=_.indexOf(p[P]))&&(-1===k||A<k)&&(k=A)}-1!==(E=-1===k?_.lastIndexOf("@"):_.lastIndexOf("@",k))&&(O=_.slice(0,E),_=_.slice(E+1),this.auth=decodeURIComponent(O)),k=-1;for(P=0;P<h.length;P++){var A;-1!==(A=_.indexOf(h[P]))&&(-1===k||A<k)&&(k=A)}-1===k&&(k=_.length),this.host=_.slice(0,k),_=_.slice(k),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var x=this.hostname.split(/\./),R=(P=0,x.length);P<R;P++){var N=x[P];if(N&&!N.match(l)){for(var C="",B=0,U=N.length;B<U;B++)N.charCodeAt(B)>127?C+="x":C+=N[B];if(!C.match(l)){var F=x.slice(0,P),D=x.slice(P+1),L=N.match(d);L&&(F.push(L[1]),D.unshift(L[2])),D.length&&(_="/"+D.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var H=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+H,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[w])for(P=0,R=f.length;P<R;P++){var K=f[P];if(-1!==_.indexOf(K)){var j=encodeURIComponent(K);j===K&&(j=escape(K)),_=_.split(K).join(j)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var W=_.indexOf("?");if(-1!==W?(this.search=_.substr(W),this.query=_.substr(W+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,W)):e&&(this.search="",this.query={}),_&&(this.pathname=_),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var z=this.search||"";this.path=H+z}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var u=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),u&&"?"!==u.charAt(0)&&(u="?"+u),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(u=u.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var u=n[s];r[u]=this[u]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var f=a[c];"protocol"!==f&&(r[f]=t[f])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),p=0;p<h.length;p++){var l=h[p];r[l]=t[l]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),S=b||_||r.host&&t.pathname,w=S,I=r.pathname&&r.pathname.split("/")||[],O=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===I[0]?I[0]=r.host:I.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),S=S&&(""===d[0]||""===I[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,I=d;else if(d.length)I||(I=[]),I.pop(),I=I.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(O)r.hostname=r.host=I.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!I.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=I.slice(-1)[0],k=(r.host||t.host||I.length>1)&&("."===E||".."===E)||""===E,P=0,A=I.length;A>=0;A--)"."===(E=I[A])?I.splice(A,1):".."===E?(I.splice(A,1),P++):P&&(I.splice(A,1),P--);if(!S&&!w)for(;P--;P)I.unshift("..");!S||""===I[0]||I[0]&&"/"===I[0].charAt(0)||I.unshift(""),k&&"/"!==I.join("/").substr(-1)&&I.push("");var T,x=""===I[0]||I[0]&&"/"===I[0].charAt(0);O&&(r.hostname=r.host=x?"":I.length?I.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(S=S||r.host&&I.length)&&!x&&I.unshift(""),I.length?r.pathname=I.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},1232:function(t,e,r){var n=r(1233);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1233:function(t,e,r){"use strict";var n=r(8).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var u=t.length,a=t.charAt(0),c=Math.log(u)/Math.log(256),f=Math.log(256)/Math.log(u);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);var r=0;if(" "!==t[r]){for(var i=0,o=0;t[r]===a;)i++,r++;for(var s=(t.length-r)*c+1>>>0,f=new Uint8Array(s);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var p=0,l=s-1;(0!==h||p<o)&&-1!==l;l--,p++)h+=u*f[l]>>>0,f[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=p,r++}if(" "!==t[r]){for(var d=s-o;d!==s&&0===f[d];)d++;var g=n.allocUnsafe(i+(s-d));g.fill(0,0,i);for(var v=i;d!==s;)g[v++]=f[d++];return g}}}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*f+1>>>0,h=new Uint8Array(c);o!==s;){for(var p=e[o],l=0,d=c-1;(0!==p||l<i)&&-1!==d;d--,l++)p+=256*h[d]>>>0,h[d]=p%u>>>0,p=p/u>>>0;if(0!==p)throw new Error("Non-zero carry");i=l,o++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var v=a.repeat(r);g<c;++g)v+=t.charAt(h[g]);return v},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+u+" character")}}}},1234:function(t,e,r){"use strict";(function(e){var n=r(1189),i=r(1190),o=r(1184),s=r(1183),u=r(1223),a=r(1188),c=r(1185),f=r(1193),h=r(1179),p=r(1178),l=r(1187),d=(r(22),r(1180)),g=r(1181),v=function t(e){return this instanceof t?(this.chunks=[],d.isBuffer(e)?t.fromBuffer(e):e instanceof n?t.fromAddress(e):e instanceof t?t.fromBuffer(e.toBuffer()):p.isString(e)?t.fromString(e):void(p.isObject(e)&&p.isArray(e.chunks)&&this.set(e))):new t(e)};v.prototype.set=function(t){return h.checkArgument(p.isObject(t)),h.checkArgument(p.isArray(t.chunks)),this.chunks=t.chunks,this},v.fromBuffer=function(t){var e=new v;e.chunks=[];for(var r=new i(t);!r.finished();)try{var n,o,s=r.readUInt8();s>0&&s<u.OP_PUSHDATA1?(n=s,e.chunks.push({buf:r.read(n),len:n,opcodenum:s})):s===u.OP_PUSHDATA1?(n=r.readUInt8(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===u.OP_PUSHDATA2?(n=r.readUInt16LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===u.OP_PUSHDATA4?(n=r.readUInt32LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):e.chunks.push({opcodenum:s})}catch(e){if(e instanceof RangeError)throw new l.Script.InvalidBuffer(t.toString("hex"));throw e}return e},v.prototype.toBuffer=function(){for(var t=new o,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<u.OP_PUSHDATA1?t.write(r.buf):n===u.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===u.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):n===u.OP_PUSHDATA4&&(t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()},v.fromASM=function(t){var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var o=n[i],s=u(o).toNumber();if(p.isUndefined(s)){var a=e.from(n[i],"hex");r.chunks.push({buf:a,len:a.length,opcodenum:a.length}),i+=1}else s===u.OP_PUSHDATA1||s===u.OP_PUSHDATA2||s===u.OP_PUSHDATA4?(r.chunks.push({buf:e.from(n[i+2],"hex"),len:parseInt(n[i+1]),opcodenum:s}),i+=3):(r.chunks.push({opcodenum:s}),i+=1)}return r},v.fromHex=function(t){return new v(e.from(t,"hex"))},v.fromString=function(t){if(g.isHexa(t)||0===t.length)return new v(e.from(t,"hex"));var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var o=n[i],s=u(o).toNumber();if(p.isUndefined(s)){if(!((s=parseInt(o))>0&&s<u.OP_PUSHDATA1))throw new Error("Invalid script: "+JSON.stringify(t));r.chunks.push({buf:e.from(n[i+1].slice(2),"hex"),len:s,opcodenum:s}),i+=2}else if(s===u.OP_PUSHDATA1||s===u.OP_PUSHDATA2||s===u.OP_PUSHDATA4){if("0x"!==n[i+2].slice(0,2))throw new Error("Pushdata data must start with 0x");r.chunks.push({buf:e.from(n[i+2].slice(2),"hex"),len:parseInt(n[i+1]),opcodenum:s}),i+=3}else r.chunks.push({opcodenum:s}),i+=1}return r},v.prototype._chunkToString=function(t,e){var r=t.opcodenum,n="asm"===e,i="";if(t.buf)(!n&&r===u.OP_PUSHDATA1||r===u.OP_PUSHDATA2||r===u.OP_PUSHDATA4)&&(i=i+" "+u(r).toString()),t.len>0&&(i=n?i+" "+t.buf.toString("hex"):i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(void 0!==u.reverseMap[r])n?0===r?i+=" 0":79===r?i+=" -1":i=i+" "+u(r).toString():i=i+" "+u(r).toString();else{var o=r.toString(16);o.length%2!=0&&(o="0"+o),i=n?i+" "+o:i+" 0x"+o}return i},v.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)},v.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)},v.prototype.toHex=function(){return this.toBuffer().toString("hex")},v.prototype.inspect=function(){return"<Script: "+this.toString()+">"},v.prototype.isPublicKeyHashOut=function(){return!(5!==this.chunks.length||this.chunks[0].opcodenum!==u.OP_DUP||this.chunks[1].opcodenum!==u.OP_HASH160||!this.chunks[2].buf||20!==this.chunks[2].buf.length||this.chunks[3].opcodenum!==u.OP_EQUALVERIFY||this.chunks[4].opcodenum!==u.OP_CHECKSIG)},v.prototype.isPublicKeyHashIn=function(){if(2===this.chunks.length){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&48===t[0]&&e&&e.length){var r=e[0];if((4===r||6===r||7===r)&&65===e.length)return!0;if((3===r||2===r)&&33===e.length)return!0}}return!1},v.prototype.getPublicKey=function(){return h.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},v.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")},v.prototype.isPublicKeyOut=function(){if(2===this.chunks.length&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===u.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if((4!==e&&6!==e&&7!==e||65!==t.length)&&(3!==e&&2!==e||33!==t.length)||(r=!0),r)return a.isValid(t)}return!1},v.prototype.isPublicKeyIn=function(){if(1===this.chunks.length){var t=this.chunks[0].buf;if(t&&t.length&&48===t[0])return!0}return!1},v.prototype.isScriptHashOut=function(){var t=this.toBuffer();return 23===t.length&&t[0]===u.OP_HASH160&&20===t[1]&&t[t.length-1]===u.OP_EQUAL},v.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return 34===t.length&&0===t[0]&&32===t[1]},v.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return 22===t.length&&0===t[0]&&20===t[1]},v.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return!(e.length<4||e.length>42)&&((e[0]===u.OP_0||e[0]>=u.OP_1&&e[0]<=u.OP_16)&&(e.length===e[1]+2&&(t.version=e[0],t.program=e.slice(2,e.length),!0)))},v.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t,e=this.chunks[this.chunks.length-1].buf;if(!e)return!1;try{t=v.fromBuffer(e)}catch(t){if(t instanceof l.Script.InvalidBuffer)return!1;throw t}return t.classify()!==v.types.UNKNOWN},v.prototype.isMultisigOut=function(){return this.chunks.length>3&&u.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every((function(t){return t.buf&&d.isBuffer(t.buf)}))&&u.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===u.OP_CHECKMULTISIG},v.prototype.isMultisigIn=function(){return this.chunks.length>=2&&0===this.chunks[0].opcodenum&&this.chunks.slice(1,this.chunks.length).every((function(t){return t.buf&&d.isBuffer(t.buf)&&c.isTxDER(t.buf)}))},v.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===u.OP_RETURN&&(1===this.chunks.length||2===this.chunks.length&&this.chunks[1].buf&&this.chunks[1].buf.length<=v.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)},v.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut())return p.isUndefined(this.chunks[1])?e.alloc(0):e.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return e.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},v.prototype.isPushOnly=function(){return p.every(this.chunks,(function(t){return t.opcodenum<=u.OP_16}))},(v.types={}).UNKNOWN="Unknown",v.types.PUBKEY_OUT="Pay to public key",v.types.PUBKEY_IN="Spend from public key",v.types.PUBKEYHASH_OUT="Pay to public key hash",v.types.PUBKEYHASH_IN="Spend from public key hash",v.types.SCRIPTHASH_OUT="Pay to script hash",v.types.SCRIPTHASH_IN="Spend from script hash",v.types.MULTISIG_OUT="Pay to multisig",v.types.MULTISIG_IN="Spend from multisig",v.types.DATA_OUT="Data push",v.OP_RETURN_STANDARD_SIZE=80,v.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=v.types.UNKNOWN?t:this.classifyInput()},(v.outputIdentifiers={}).PUBKEY_OUT=v.prototype.isPublicKeyOut,v.outputIdentifiers.PUBKEYHASH_OUT=v.prototype.isPublicKeyHashOut,v.outputIdentifiers.MULTISIG_OUT=v.prototype.isMultisigOut,v.outputIdentifiers.SCRIPTHASH_OUT=v.prototype.isScriptHashOut,v.outputIdentifiers.DATA_OUT=v.prototype.isDataOut,v.prototype.classifyOutput=function(){for(var t in v.outputIdentifiers)if(v.outputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},(v.inputIdentifiers={}).PUBKEY_IN=v.prototype.isPublicKeyIn,v.inputIdentifiers.PUBKEYHASH_IN=v.prototype.isPublicKeyHashIn,v.inputIdentifiers.MULTISIG_IN=v.prototype.isMultisigIn,v.inputIdentifiers.SCRIPTHASH_IN=v.prototype.isScriptHashIn,v.prototype.classifyInput=function(){for(var t in v.inputIdentifiers)if(v.inputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},v.prototype.isStandard=function(){return this.classify()!==v.types.UNKNOWN},v.prototype.prepend=function(t){return this._addByType(t,!0),this},v.prototype.equals=function(t){if(h.checkState(t instanceof v,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(d.isBuffer(this.chunks[e].buf)&&!d.isBuffer(t.chunks[e].buf))return!1;if(d.isBuffer(this.chunks[e].buf)&&!d.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0},v.prototype.add=function(t){return this._addByType(t,!1),this},v.prototype._addByType=function(t,e){if("string"==typeof t)this._addOpcode(t,e);else if("number"==typeof t)this._addOpcode(t,e);else if(t instanceof u)this._addOpcode(t,e);else if(d.isBuffer(t))this._addBuffer(t,e);else if(t instanceof v)this.chunks=this.chunks.concat(t.chunks);else{if("object"!=typeof t)throw new Error("Invalid script chunk");this._insertAtPosition(t,e)}},v.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)},v.prototype._addOpcode=function(t,e){var r;return r="number"==typeof t?t:t instanceof u?t.toNumber():u(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this},v.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<u.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=u.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=u.OP_PUSHDATA2;else{if(!(n<Math.pow(2,32)))throw new Error("You can't push that much data");r=u.OP_PUSHDATA4}return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this},v.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===u.OP_CODESEPARATOR)return!0;return!1},v.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==u.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this},v.buildMultisigOut=function(t,e,r){h.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new v;n.add(u.smallInt(e));var i=t=p.map(t,a);r.noSorting||(i=p.sortBy(t,(function(t){return t.toString("hex")})));for(var o=0;o<i.length;o++){var s=i[o];n.add(s.toBuffer())}return n.add(u.smallInt(t.length)),n.add(u.OP_CHECKMULTISIG),n},v.buildWitnessMultisigOutFromScript=function(t){if(t instanceof v){var e=new v;return e.add(u.OP_0),e.add(s.sha256(t.toBuffer())),e}throw new TypeError("First argument is expected to be a p2sh script")},v.buildMultisigIn=function(t,e,r,n){h.checkArgument(p.isArray(t)),h.checkArgument(p.isNumber(e)),h.checkArgument(p.isArray(r)),n=n||{};var i=new v;return i.add(u.OP_0),p.each(r,(function(t){h.checkArgument(d.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)})),i},v.buildP2SHMultisigIn=function(t,e,r,n){h.checkArgument(p.isArray(t)),h.checkArgument(p.isNumber(e)),h.checkArgument(p.isArray(r)),n=n||{};var i=new v;return i.add(u.OP_0),p.each(r,(function(t){h.checkArgument(d.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)})),i.add((n.cachedMultisig||v.buildMultisigOut(t,e,n)).toBuffer()),i},v.buildPublicKeyHashOut=function(t){h.checkArgument(!p.isUndefined(t)),h.checkArgument(t instanceof a||t instanceof n||p.isString(t)),t instanceof a?t=t.toAddress():p.isString(t)&&(t=new n(t));var e=new v;return e.add(u.OP_DUP).add(u.OP_HASH160).add(t.hashBuffer).add(u.OP_EQUALVERIFY).add(u.OP_CHECKSIG),e._network=t.network,e},v.buildWitnessV0Out=function(t){h.checkArgument(!p.isUndefined(t)),h.checkArgument(t instanceof a||t instanceof n||p.isString(t)),t instanceof a?t=t.toAddress(null,n.PayToWitnessPublicKeyHash):p.isString(t)&&(t=new n(t));var e=new v;return e.add(u.OP_0).add(t.hashBuffer),e._network=t.network,e},v.buildPublicKeyOut=function(t){h.checkArgument(t instanceof a);var e=new v;return e.add(t.toBuffer()).add(u.OP_CHECKSIG),e},v.buildDataOut=function(t,r){h.checkArgument(p.isUndefined(t)||p.isString(t)||d.isBuffer(t)),p.isString(t)&&(t=e.from(t,r));var n=new v;return n.add(u.OP_RETURN),p.isUndefined(t)||n.add(t),n},v.buildScriptHashOut=function(t){h.checkArgument(t instanceof v||t instanceof n&&t.isPayToScriptHash());var e=new v;return e.add(u.OP_HASH160).add(t instanceof n?t.hashBuffer:s.sha256ripemd160(t.toBuffer())).add(u.OP_EQUAL),e._network=t._network||t.network,e},v.buildPublicKeyIn=function(t,e){h.checkArgument(t instanceof c||d.isBuffer(t)),h.checkArgument(p.isUndefined(e)||p.isNumber(e)),t instanceof c&&(t=t.toBuffer());var r=new v;return r.add(d.concat([t,d.integerAsSingleByteBuffer(e||c.SIGHASH_ALL)])),r},v.buildPublicKeyHashIn=function(t,e,r){return h.checkArgument(e instanceof c||d.isBuffer(e)),h.checkArgument(p.isUndefined(r)||p.isNumber(r)),e instanceof c&&(e=e.toBuffer()),(new v).add(d.concat([e,d.integerAsSingleByteBuffer(r||c.SIGHASH_ALL)])).add(new a(t).toBuffer())},v.empty=function(){return new v},v.prototype.toScriptHashOut=function(){return v.buildScriptHashOut(this)},v.fromAddress=function(t){if((t=n(t)).isPayToScriptHash())return v.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return v.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return v.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return v.buildWitnessV0Out(t);throw new l.Script.UnrecognizedAddress(t)},v.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()},v.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=n.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToWitnessScriptHash;else{if(!this.isWitnessPublicKeyHashOut())return!1;t.hashBuffer=this.getData(),t.type=n.PayToWitnessPublicKeyHash}return t},v.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),t.type=n.PayToPublicKeyHash;else{if(!this.isScriptHashIn())return!1;t.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=n.PayToScriptHash}return t},v.prototype.toAddress=function(t){var e=this.getAddressInfo();return!!e&&(e.network=f.get(t)||this._network||f.defaultNetwork,new n(e))},v.prototype.findAndDelete=function(t){for(var e=t.toBuffer().toString("hex"),r=0;r<this.chunks.length;r++){e===v({chunks:[this.chunks[r]]}).toBuffer().toString("hex")&&this.chunks.splice(r,1)}return this},v.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return!r||(0===r.length?n===u.OP_0:1===r.length&&r[0]>=1&&r[0]<=16?n===u.OP_1+(r[0]-1):1===r.length&&129===r[0]?n===u.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===u.OP_PUSHDATA1:!(r.length<=65535)||n===u.OP_PUSHDATA2)},v.prototype._decodeOP_N=function(t){if(t===u.OP_0)return 0;if(t>=u.OP_1&&t<=u.OP_16)return t-(u.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(t))},v.prototype.getSignatureOperationsCount=function(t){t=!!p.isUndefined(t)||t;var e=this,r=0,n=u.OP_INVALIDOPCODE;return p.each(e.chunks,(function(i){var o=i.opcodenum;o==u.OP_CHECKSIG||o==u.OP_CHECKSIGVERIFY?r++:o!=u.OP_CHECKMULTISIG&&o!=u.OP_CHECKMULTISIGVERIFY||(t&&n>=u.OP_1&&n<=u.OP_16?r+=e._decodeOP_N(n):r+=20),n=o})),r},t.exports=v}).call(this,r(22).Buffer)},1235:function(t,e,r){"use strict";var n=r(1178),i=r(1179),o=r(1181),s=r(1186),u=r(1189),a=r(1226);function c(t){if(!(this instanceof c))return new c(t);i.checkArgument(n.isObject(t),"Must provide an object from where to extract data");var e=t.address?new u(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!o.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var f=n.isUndefined(t.vout)?t.outputIndex:t.vout;if(!n.isNumber(f))throw new Error("Invalid outputIndex, received "+f);i.checkArgument(!n.isUndefined(t.scriptPubKey)||!n.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var h=new s(t.scriptPubKey||t.script);i.checkArgument(!n.isUndefined(t.amount)||!n.isUndefined(t.satoshis),"Must provide an amount for the output");var p=n.isUndefined(t.amount)?t.satoshis:new a.fromBTC(t.amount).toSatoshis();i.checkArgument(n.isNumber(p),"Amount must be a number"),o.defineImmutable(this,{address:e,txId:r,outputIndex:f,script:h,satoshis:p})}c.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},c.prototype.toString=function(){return this.txId+":"+this.outputIndex},c.fromObject=function(t){return new c(t)},c.prototype.toObject=c.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:a.fromSatoshis(this.satoshis).toBTC()}},t.exports=c},1236:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1216),o=r(1180),s=r(1190),u=r(1184),a=r(1183),c=(r(1181),r(1213)),f=r(1187),h=r(1179);function p(t){if(!(this instanceof p))return new p(t);var e={};if(o.isBuffer(t))e=p._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for MerkleBlock");e={header:t.header instanceof i?t.header:i.fromObject(t.header),numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}return n.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}p.fromBuffer=function(t){return p.fromBufferReader(s(t))},p.fromBufferReader=function(t){return new p(p._fromBufferReader(t))},p.prototype.toBuffer=function(){return this.toBufferWriter().concat()},p.prototype.toBufferWriter=function(t){t||(t=new u),t.write(this.header.toBuffer()),t.writeUInt32LE(this.numTransactions),t.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)t.write(e.from(this.hashes[r],"hex"));for(t.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)t.writeUInt8(this.flags[r]);return t},p.prototype.toObject=p.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},p.prototype.validMerkleTree=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)return!1;if(8*this.flags.length<this.hashes.length)return!1;var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e);return e.hashesUsed===this.hashes.length&&o.equals(r,this.header.merkleRoot)},p.prototype.filterdTxsHash=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new f.MerkleBlock.InvalidMerkleTree;if(8*this.flags.length<this.hashes.length)throw new f.MerkleBlock.InvalidMerkleTree;if(1===this.hashes.length)return[];var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e,!0);if(e.hashesUsed!==this.hashes.length)throw new f.MerkleBlock.InvalidMerkleTree;return r},p.prototype._traverseMerkleTree=function(t,r,n,i){(n=n||{}).txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;i=i||!1;if(n.flagBitsUsed>8*this.flags.length)return null;var o=this.flags[n.flagBitsUsed>>3]>>>(7&n.flagBitsUsed++)&1;if(0!==t&&o){var s=this._traverseMerkleTree(t-1,2*r,n),u=s;return 2*r+1<this._calcTreeWidth(t-1)&&(u=this._traverseMerkleTree(t-1,2*r+1,n)),i?n.txs:a.sha256sha256(new e.concat([s,u]))}if(n.hashesUsed>=this.hashes.length)return null;var c=this.hashes[n.hashesUsed++];return 0===t&&o&&n.txs.push(c),e.from(c,"hex")},p.prototype._calcTreeWidth=function(t){return this.numTransactions+(1<<t)-1>>t},p.prototype._calcTreeHeight=function(){for(var t=0;this._calcTreeWidth(t)>1;)t++;return t},p.prototype.hasTransaction=function(t){h.checkArgument(!n.isUndefined(t),"tx cannot be undefined"),h.checkArgument(t instanceof c||"string"==typeof t,'Invalid tx given, tx must be a "string" or "Transaction"');var r=t;t instanceof c&&(r=o.reverse(e.from(t.id,"hex")).toString("hex"));var i=[],s=this._calcTreeHeight();return this._traverseMerkleTree(s,0,{txs:i}),-1!==i.indexOf(r)},p._fromBufferReader=function(t){h.checkState(!t.finished(),"No merkleblock data received");var e={};e.header=i.fromBufferReader(t),e.numTransactions=t.readUInt32LE();var r=t.readVarintNum();e.hashes=[];for(var n=0;n<r;n++)e.hashes.push(t.read(32).toString("hex"));var o=t.readVarintNum();for(e.flags=[],n=0;n<o;n++)e.flags.push(t.readUInt8());return e},p.fromObject=function(t){return new p(t)},t.exports=p}).call(this,r(22).Buffer)},1237:function(t,e,r){"use strict";(function(e){var n=r(302),i=r(22),o=r(1178),s=r(1179),u=r(1182),a=r(1212),c=r(1204),f=r(1183),h=r(1193),p=r(1201),l=r(1203),d=r(1215),g=r(1187),v=g.HDPrivateKey,m=r(1180),y=r(1181);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(!t)return this._generateRandomly();if(h.get(t))return this._generateRandomly(t);if(o.isString(t)||m.isBuffer(t))if(_.isValidSerialized(t))this._buildFromSerialized(t);else if(y.isValidJSON(t))this._buildFromJSON(t);else{if(!m.isBuffer(t)||!_.isValidSerialized(t.toString()))throw _.getSerializedError(t);this._buildFromSerialized(t.toString())}else{if(!o.isObject(t))throw new v.UnrecognizedArgument(t);this._buildFromObject(t)}}_.isValidPath=function(t,e){if(o.isString(t)){var r=_._getDerivationIndexes(t);return null!==r&&o.every(r,_.isValidPath)}return!!o.isNumber(t)&&(t<_.Hardened&&!0===e&&(t+=_.Hardened),t>=0&&t<_.MaxIndex)},_._getDerivationIndexes=function(t){var e=t.split("/");if(o.includes(_.RootElementAlias,t))return[];if(!o.includes(_.RootElementAlias,e[0]))return null;var r=e.slice(1).map((function(t){var e="'"===t.slice(-1);if(e&&(t=t.slice(0,-1)),!t||"-"===t[0])return NaN;var r=+t;return e&&(r+=_.Hardened),r}));return o.some(r,isNaN)?null:r},_.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)},_.prototype.deriveChild=function(t,e){if(o.isNumber(t))return this._deriveWithNumber(t,e);if(o.isString(t))return this._deriveFromString(t);throw new v.InvalidDerivationArgument(t)},_.prototype.deriveNonCompliantChild=function(t,e){if(o.isNumber(t))return this._deriveWithNumber(t,e,!0);if(o.isString(t))return this._deriveFromString(t,!0);throw new v.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,r,i){if(!_.isValidPath(t,r))throw new v.InvalidPath(t);r=t>=_.Hardened||r,t<_.Hardened&&!0===r&&(t+=_.Hardened);var o,s=m.integerAsBuffer(t);if(r&&i){var a=this.privateKey.bn.toBuffer();o=m.concat([e.from([0]),a,s])}else if(r){var c=this.privateKey.bn.toBuffer({size:32});n(32===c.length,"length of private key buffer is expected to be 32 bytes"),o=m.concat([e.from([0]),c,s])}else o=m.concat([this.publicKey.toBuffer(),s]);var h=f.sha512hmac(o,this._buffers.chainCode),d=u.fromBuffer(h.slice(0,32),{size:32}),g=h.slice(32,64),y=d.add(this.privateKey.toBigNumber()).umod(p.getN()).toBuffer({size:32});return l.isValid(y)?new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:g,privateKey:y}):this._deriveWithNumber(t+1,null,i)},_.prototype._deriveFromString=function(t,e){if(!_.isValidPath(t))throw new v.InvalidPath(t);return _._getDerivationIndexes(t).reduce((function(t,r){return t._deriveWithNumber(r,null,e)}),this)},_.isValidSerialized=function(t,e){return!_.getSerializedError(t,e)},_.getSerializedError=function(t,e){if(!o.isString(t)&&!m.isBuffer(t))return new v.UnrecognizedArgument("Expected string or buffer");if(!a.validCharacters(t))return new g.InvalidB58Char("(unknown)",t);try{t=c.decode(t)}catch(e){return new g.InvalidB58Checksum(t)}if(t.length!==_.DataLength)return new v.InvalidLength(t);if(!o.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}return null},_._validateNetwork=function(t,e){var r=h.get(e);if(!r)return new g.InvalidNetworkArgument(e);var n=t.slice(0,4);return m.integerFromBuffer(n)!==r.xprivkey?new g.InvalidNetwork(n):null},_.fromString=function(t){return s.checkArgument(o.isString(t),"No valid string was provided"),new _(t)},_.fromObject=function(t){return s.checkArgument(o.isObject(t),"No valid argument was provided"),new _(t)},_.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))},_.prototype._buildFromObject=function(t){var r={version:t.network?m.integerAsBuffer(h.get(t.network).xprivkey):t.version,depth:o.isNumber(t.depth)?m.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:o.isNumber(t.parentFingerPrint)?m.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:o.isNumber(t.childIndex)?m.integerAsBuffer(t.childIndex):t.childIndex,chainCode:o.isString(t.chainCode)?e.from(t.chainCode,"hex"):t.chainCode,privateKey:o.isString(t.privateKey)&&y.isHexa(t.privateKey)?e.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:m.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(r)},_.prototype._buildFromSerialized=function(t){var e=c.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),privateKey:e.slice(_.PrivateKeyStart,_.PrivateKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)},_.prototype._generateRandomly=function(t){return _.fromSeed(d.getRandomBuffer(64),t)},_.fromSeed=function(t,r){if(y.isHexaString(t)&&(t=e.from(t,"hex")),!e.isBuffer(t))throw new v.InvalidEntropyArgument(t);if(t.length<16)throw new v.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>64)throw new v.InvalidEntropyArgument.TooMuchEntropy(t);var n=f.sha512hmac(t,e.from("Bitcoin seed"));return new _({network:h.get(r)||h.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:n.slice(0,32),chainCode:n.slice(32,64)})},_.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=r(1238);this._hdPublicKey=new t(this)}},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),y.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,m.emptyBuffer(1),t.privateKey],n=i.Buffer.concat(r);if(t.checksum&&t.checksum.length){if(t.checksum.toString()!==c.checksum(n).toString())throw new g.InvalidB58Checksum(n)}else t.checksum=c.checksum(n);var o,s=h.get(m.integerFromBuffer(t.version));o=c.encode(i.Buffer.concat(r)),t.xprivkey=e.from(o);var a=new l(u.fromBuffer(t.privateKey),s),p=a.toPublicKey(),d=_.ParentFingerPrintSize,v=f.sha256ripemd160(p.toBuffer()).slice(0,d);return y.defineImmutable(this,{xprivkey:o,network:s,depth:m.integerFromSingleByteBuffer(t.depth),privateKey:a,publicKey:p,fingerPrint:v}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},_._validateBufferArguments=function(t){var e=function(e,r){var i=t[e];n(m.isBuffer(i),e+" argument is not a buffer"),n(i.length===r,e+" has not the expected size: found "+i.length+", expected "+r)};e("version",_.VersionSize),e("depth",_.DepthSize),e("parentFingerPrint",_.ParentFingerPrintSize),e("childIndex",_.ChildIndexSize),e("chainCode",_.ChainCodeSize),e("privateKey",_.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",_.CheckSumSize)},_.prototype.toString=function(){return this.xprivkey},_.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:h.get(m.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:m.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:m.integerFromBuffer(this.fingerPrint),parentFingerPrint:m.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:m.integerFromBuffer(this._buffers.childIndex),chainCode:m.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:m.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}},_.fromBuffer=function(t){return new _(t.toString())},_.prototype.toBuffer=function(){return m.copy(this._buffers.xprivkey)},_.DefaultDepth=0,_.DefaultFingerprint=0,_.DefaultChildIndex=0,_.Hardened=2147483648,_.MaxIndex=2*_.Hardened,_.RootElementAlias=["m","M","m'","M'"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PrivateKeySize=32,_.CheckSumSize=4,_.DataLength=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PrivateKeyStart=_.ChainCodeEnd+1,_.PrivateKeyEnd=_.PrivateKeyStart+_.PrivateKeySize,_.ChecksumStart=_.PrivateKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,n(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(22).Buffer)},1238:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1179),o=r(1182),s=r(1212),u=r(1204),a=r(1183),c=r(1237),f=r(1193),h=r(1201),p=r(1188),l=r(1187),d=l,g=l.HDPublicKey,v=r(302),m=r(1181),y=r(1180);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(t){if(n.isString(t)||y.isBuffer(t)){var e=_.getSerializedError(t);if(e){if(y.isBuffer(t)&&!_.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof g.ArgumentIsPrivateExtended)return new c(t).hdPublicKey;throw e}return this._buildFromSerialized(t)}if(n.isObject(t))return t instanceof c?this._buildFromPrivate(t):this._buildFromObject(t);throw new g.UnrecognizedArgument(t)}throw new g.MustSupplyArgument}_.isValidPath=function(t){if(n.isString(t)){var e=c._getDerivationIndexes(t);return null!==e&&n.every(e,_.isValidPath)}return!!n.isNumber(t)&&(t>=0&&t<_.Hardened)},_.prototype.derive=function(t,e){return this.deriveChild(t,e)},_.prototype.deriveChild=function(t,e){if(n.isNumber(t))return this._deriveWithNumber(t,e);if(n.isString(t))return this._deriveFromString(t);throw new g.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,e){if(t>=_.Hardened||e)throw new g.InvalidIndexCantDeriveHardened;if(t<0)throw new g.InvalidPath(t);var r,n=y.integerAsBuffer(t),i=y.concat([this.publicKey.toBuffer(),n]),s=a.sha512hmac(i,this._buffers.chainCode),u=o.fromBuffer(s.slice(0,32),{size:32}),c=s.slice(32,64);try{r=p.fromPoint(h.getG().mul(u).add(this.publicKey.point))}catch(e){return this._deriveWithNumber(t+1)}return new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,publicKey:r})},_.prototype._deriveFromString=function(t){if(n.includes(t,"'"))throw new g.InvalidIndexCantDeriveHardened;if(!_.isValidPath(t))throw new g.InvalidPath(t);return c._getDerivationIndexes(t).reduce((function(t,e){return t._deriveWithNumber(e)}),this)},_.isValidSerialized=function(t,e){return n.isNull(_.getSerializedError(t,e))},_.getSerializedError=function(t,e){if(!n.isString(t)&&!y.isBuffer(t))return new g.UnrecognizedArgument("expected buffer or string");if(!s.validCharacters(t))return new d.InvalidB58Char("(unknown)",t);try{t=u.decode(t)}catch(e){return new d.InvalidB58Checksum(t)}if(t.length!==_.DataSize)return new g.InvalidLength(t);if(!n.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}var i=y.integerFromBuffer(t.slice(0,4));return i===f.livenet.xprivkey||i===f.testnet.xprivkey?new g.ArgumentIsPrivateExtended:null},_._validateNetwork=function(t,e){var r=f.get(e);if(!r)return new d.InvalidNetworkArgument(e);var n=t.slice(_.VersionStart,_.VersionEnd);return y.integerFromBuffer(n)!==r.xpubkey?new d.InvalidNetwork(n):null},_.prototype._buildFromPrivate=function(t){var e=n.clone(t._buffers),r=h.getG().mul(o.fromBuffer(e.privateKey));return e.publicKey=h.pointToCompressed(r),e.version=y.integerAsBuffer(f.get(y.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)},_.prototype._buildFromObject=function(t){var r={version:t.network?y.integerAsBuffer(f.get(t.network).xpubkey):t.version,depth:n.isNumber(t.depth)?y.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:n.isNumber(t.parentFingerPrint)?y.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:n.isNumber(t.childIndex)?y.integerAsBuffer(t.childIndex):t.childIndex,chainCode:n.isString(t.chainCode)?e.from(t.chainCode,"hex"):t.chainCode,publicKey:n.isString(t.publicKey)?e.from(t.publicKey,"hex"):y.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:n.isNumber(t.checksum)?y.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(r)},_.prototype._buildFromSerialized=function(t){var e=u.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),publicKey:e.slice(_.PublicKeyStart,_.PublicKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),m.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],n=y.concat(r),i=u.checksum(n);if(t.checksum&&t.checksum.length){if(t.checksum.toString("hex")!==i.toString("hex"))throw new d.InvalidB58Checksum(n,i)}else t.checksum=i;var o,s=f.get(y.integerFromBuffer(t.version));o=u.encode(y.concat(r)),t.xpubkey=e.from(o);var c=new p(t.publicKey,{network:s}),h=_.ParentFingerPrintSize,l=a.sha256ripemd160(c.toBuffer()).slice(0,h);return m.defineImmutable(this,{xpubkey:o,network:s,depth:y.integerFromSingleByteBuffer(t.depth),publicKey:c,fingerPrint:l}),this},_._validateBufferArguments=function(t){var e=function(e,r){var n=t[e];v(y.isBuffer(n),e+" argument is not a buffer, it's "+typeof n),v(n.length===r,e+" has not the expected size: found "+n.length+", expected "+r)};e("version",_.VersionSize),e("depth",_.DepthSize),e("parentFingerPrint",_.ParentFingerPrintSize),e("childIndex",_.ChildIndexSize),e("chainCode",_.ChainCodeSize),e("publicKey",_.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",_.CheckSumSize)},_.fromString=function(t){return i.checkArgument(n.isString(t),"No valid string was provided"),new _(t)},_.fromObject=function(t){return i.checkArgument(n.isObject(t),"No valid argument was provided"),new _(t)},_.prototype.toString=function(){return this.xpubkey},_.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:f.get(y.integerFromBuffer(this._buffers.version)).name,depth:y.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:y.integerFromBuffer(this.fingerPrint),parentFingerPrint:y.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:y.integerFromBuffer(this._buffers.childIndex),chainCode:y.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:y.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}},_.fromBuffer=function(t){return new _(t)},_.prototype.toBuffer=function(){return y.copy(this._buffers.xpubkey)},_.Hardened=2147483648,_.RootElementAlias=["m","M"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PublicKeySize=33,_.CheckSumSize=4,_.DataSize=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PublicKeyStart=_.ChainCodeEnd,_.PublicKeyEnd=_.PublicKeyStart+_.PublicKeySize,_.ChecksumStart=_.PublicKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,v(_.PublicKeyEnd===_.DataSize),v(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(22).Buffer)},1239:function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var u,a=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,d=String.fromCharCode;function g(t){throw new RangeError(p[t])}function v(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+v((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function _(t){return v(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;n+=36)t=l(t/35);return l(n+36*t/(t+38))}function w(t){var e,r,n,i,o,s,u,c,f,h,p,d=[],v=t.length,m=0,y=128,b=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&g("not-basic"),d.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=m,s=1,u=36;i>=v&&g("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||c>l((a-m)/s))&&g("overflow"),m+=c*s,!(c<(f=u<=b?1:u>=b+26?26:u-b));u+=36)s>l(a/(h=36-f))&&g("overflow"),s*=h;b=S(m-o,e=d.length+1,0==o),l(m/e)>a-y&&g("overflow"),y+=l(m/e),m%=e,d.splice(m++,0,y)}return _(d)}function I(t){var e,r,n,i,o,s,u,c,f,h,p,v,m,_,w,I=[];for(v=(t=y(t)).length,e=128,r=0,o=72,s=0;s<v;++s)(p=t[s])<128&&I.push(d(p));for(n=i=I.length,i&&I.push("-");n<v;){for(u=a,s=0;s<v;++s)(p=t[s])>=e&&p<u&&(u=p);for(u-e>l((a-r)/(m=n+1))&&g("overflow"),r+=(u-e)*m,e=u,s=0;s<v;++s)if((p=t[s])<e&&++r>a&&g("overflow"),p==e){for(c=r,f=36;!(c<(h=f<=o?1:f>=o+26?26:f-o));f+=36)w=c-h,_=36-h,I.push(d(b(h+w%_,0))),c=l(w/_);I.push(d(b(c,0))),o=S(r,m,n==i),r=0,++n}++r,++e}return I.join("")}u={version:"1.4.1",ucs2:{decode:y,encode:_},decode:w,encode:I,toASCII:function(t){return m(t,(function(t){return f.test(t)?"xn--"+I(t):t}))},toUnicode:function(t){return m(t,(function(t){return c.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return u}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(140)(t),r(19))},1245:function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},1246:function(t,e,r){"use strict";e.decode=e.parse=r(1247),e.encode=e.stringify=r(1248)},1247:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var u=/\+/g;t=t.split(e);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var f=0;f<c;++f){var h,p,l,d,g=t[f].replace(u,"%20"),v=g.indexOf(r);v>=0?(h=g.substr(0,v),p=g.substr(v+1)):(h=g,p=""),l=decodeURIComponent(h),d=decodeURIComponent(p),n(s,l)?i(s[l])?s[l].push(d):s[l]=[s[l],d]:s[l]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},1248:function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,u){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var u=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],(function(t){return u+encodeURIComponent(n(t))})).join(e):u+encodeURIComponent(n(t[s]))})).join(e):u?encodeURIComponent(n(u))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},1268:function(t,e,r){"use strict";(function(e,n){var i=t.exports;i.version="v"+r(1269).version,i.versionGuard=function(t){if(void 0!==t){throw new Error("More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.")}},i.versionGuard(e._bitcore),e._bitcore=i.version,i.crypto={},i.crypto.BN=r(1182),i.crypto.ECDSA=r(1211),i.crypto.Hash=r(1183),i.crypto.Random=r(1215),i.crypto.Point=r(1201),i.crypto.Signature=r(1185),i.encoding={},i.encoding.Base58=r(1212),i.encoding.Base58Check=r(1204),i.encoding.BufferReader=r(1190),i.encoding.BufferWriter=r(1184),i.encoding.Varint=r(1279),i.util={},i.util.buffer=r(1180),i.util.js=r(1181),i.util.preconditions=r(1179),i.errors=r(1187),i.Address=r(1189),i.Block=r(1280),i.MerkleBlock=r(1236),i.BlockHeader=r(1216),i.HDPrivateKey=r(1237),i.HDPublicKey=r(1238),i.Message=r(1282),i.Networks=r(1193),i.Opcode=r(1223),i.PrivateKey=r(1203),i.PublicKey=r(1188),i.Script=r(1186),i.Transaction=r(1213),i.URI=r(1283),i.Unit=r(1226),i.deps={},i.deps.bnjs=r(75),i.deps.bs58=r(1232),i.deps.Buffer=n,i.deps.elliptic=r(141),i.deps._=r(1178),i.Transaction.sighash=r(1192)}).call(this,r(19),r(22).Buffer)},1269:function(t){t.exports=JSON.parse('{"_args":[["bitcore-lib@8.24.2","/Users/bdeals/Documents/workspace/walletweb"]],"_from":"bitcore-lib@8.24.2","_id":"bitcore-lib@8.24.2","_inBundle":false,"_integrity":"sha1-YtK13WYiwc5sPtyJRbzuRiVE7hc=","_location":"/bitcore-lib","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"bitcore-lib@8.24.2","name":"bitcore-lib","escapedName":"bitcore-lib","rawSpec":"8.24.2","saveSpec":null,"fetchSpec":"8.24.2"},"_requiredBy":["/"],"_resolved":"https://r.cnpmjs.org/bitcore-lib/download/bitcore-lib-8.24.2.tgz","_spec":"8.24.2","_where":"/Users/bdeals/Documents/workspace/walletweb","author":{"name":"BitPay","email":"dev@bitpay.com"},"browser":{"request":"browser-request"},"dependencies":{"bech32":"=1.1.3","bn.js":"=4.11.8","bs58":"^4.0.1","buffer-compare":"=1.1.1","elliptic":"^6.5.3","inherits":"=2.0.1","lodash":"^4.17.20"},"description":"A pure and powerful JavaScript Bitcoin library.","devDependencies":{"bitcore-build":"^8.24.2","brfs":"^2.0.1","chai":"^4.2.0","gulp":"^4.0.0","sinon":"^7.1.1"},"gitHead":"012cc0216a9bc6b195035855bd17149bad41acd1","keywords":["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"license":"MIT","main":"index.js","name":"bitcore-lib","repository":{"type":"git","url":"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},"scripts":{"build":"gulp","coverage":"gulp coverage","pub":"npm run build && npm publish","test":"gulp test","test:ci":"npm run test"},"version":"8.24.2"}')},1270:function(t,e,r){"use strict";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: http://bitcore.io/"+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]},1271:function(t,e,r){"use strict";(function(e){var n=r(1272);t.exports={decode:function(t){if("string"!=typeof t)throw new Error("Input should be a string");var r=n.decode(t);return{prefix:r.prefix,data:e.from(n.fromWords(r.words.slice(1))),version:r.words[0]}},encode:function(t,e,r){if("string"!=typeof t)throw new Error("Prefix should be a string");if("number"!=typeof e)throw new Error("version should be a number");var i=n.toWords(r);return i.unshift(e),n.encode(t,i)}}}).call(this,r(22).Buffer)},1272:function(t,e,r){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},o=0;o<n.length;o++){var s=n.charAt(o);if(void 0!==i[s])throw new TypeError(s+" is ambiguous");i[s]=o}function u(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function a(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)throw new Error("Invalid prefix ("+t+")");e=u(e)^n>>5}for(e=u(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=u(e)^31&i}return e}function c(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,u=[],a=0;a<t.length;++a)for(i=i<<e|t[a],o+=e;o>=r;)o-=r,u.push(i>>o&s);if(n)o>0&&u.push(i<<r-o&s);else{if(o>=e)throw new Error("Excess padding");if(i<<r-o&s)throw new Error("Non-zero padding")}return u}t.exports={decode:function(t,e){if(e=e||90,t.length<8)throw new TypeError(t+" too short");if(t.length>e)throw new TypeError("Exceeds length limit");var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)throw new Error("Mixed-case string "+t);var o=(t=r).lastIndexOf("1");if(-1===o)throw new Error("No separator character for "+t);if(0===o)throw new Error("Missing prefix for "+t);var s=t.slice(0,o),c=t.slice(o+1);if(c.length<6)throw new Error("Data too short");for(var f=a(s),h=[],p=0;p<c.length;++p){var l=c.charAt(p),d=i[l];if(void 0===d)throw new Error("Unknown character "+l);f=u(f)^d,p+6>=c.length||h.push(d)}if(1!==f)throw new Error("Invalid checksum for "+t);return{prefix:s,words:h}},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");for(var i=a(t=t.toLowerCase()),o=t+"1",s=0;s<e.length;++s){var c=e[s];if(c>>5!=0)throw new Error("Non 5-bit word");i=u(i)^c,o+=n.charAt(c)}for(s=0;s<6;++s)i=u(i);for(i^=1,s=0;s<6;++s){o+=n.charAt(i>>5*(5-s)&31)}return o},toWords:function(t){return c(t,8,5,!0)},fromWords:function(t){return c(t,5,8,!1)}}},1273:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1234),o=r(1223),s=r(1182),u=r(1183),a=r(1185),c=r(1188),f=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};f.prototype.verifyWitnessProgram=function(t,e,r,n,s){var a=new i,c=[];if(0!==t)return!(s&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)||(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1);if(32===e.length){if(0===r.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var h=r[r.length-1];if(a=new i(h),u.sha256(h).toString("hex")!==e.toString("hex"))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;c=r.slice(0,-1)}else{if(20!==e.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1;if(2!==r.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;a.add(o.OP_DUP),a.add(o.OP_HASH160),a.add(e),a.add(o.OP_EQUALVERIFY),a.add(o.OP_CHECKSIG),c=r}if(this.initialize(),this.set({script:a,stack:c,sigversion:1,satoshis:n,flags:s}),!this.evaluate())return!1;if(1!==this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var p=this.stack[this.stack.length-1];return!!f.castToBool(p)||(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)},f.prototype.verify=function(t,e,o,s,u,a,c){var h,p=r(1213);if(n.isUndefined(o)&&(o=new p),n.isUndefined(s)&&(s=0),n.isUndefined(u)&&(u=0),n.isUndefined(a)&&(a=null),n.isUndefined(c)&&(c=0),this.set({script:t,tx:o,nin:s,sigversion:0,satoshis:0,flags:u}),0!=(u&f.SCRIPT_VERIFY_SIGPUSHONLY)&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;u&f.SCRIPT_VERIFY_P2SH&&(h=this.stack.slice());var l=this.stack;if(this.initialize(),this.set({script:e,stack:l,tx:o,nin:s,flags:u}),!this.evaluate())return!1;if(0===this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var d=this.stack[this.stack.length-1];if(!f.castToBool(d))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var g=!1;if(u&f.SCRIPT_VERIFY_WITNESS){var v={};if(e.isWitnessProgram(v)){if(g=!0,0!==t.toBuffer().length)return!1;if(!this.verifyWitnessProgram(v.version,v.program,a,c,this.flags))return!1}}if(u&f.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(0===h.length)throw new Error("internal error - stack copy empty");var m=h[h.length-1],y=i.fromBuffer(m);if(h.pop(),this.initialize(),this.set({script:y,stack:h,tx:o,nin:s,flags:u}),!this.evaluate())return!1;if(0===h.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!f.castToBool(h[h.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(u&f.SCRIPT_VERIFY_WITNESS){var _={};if(y.isWitnessProgram(_)){g=!0;var b=new i;if(b.add(y.toBuffer()),t.toHex()!==b.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(_.version,_.program,a,c,this.flags))return!1;l=[l[0]]}}}if(0!=(this.flags&f.SCRIPT_VERIFY_CLEANSTACK)){if(0==(this.flags&f.SCRIPT_VERIFY_P2SH))throw"flags & SCRIPT_VERIFY_P2SH";if(1!=h.length)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return!(this.flags&f.SCRIPT_VERIFY_WITNESS&&!g&&a.length>0)||(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1)},t.exports=f,f.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0},f.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=void 0!==t.nin?t.nin:this.nin,this.stack=t.stack||this.stack,this.altstack=t.altack||this.altstack,this.pc=void 0!==t.pc?t.pc:this.pc,this.pbegincodehash=void 0!==t.pbegincodehash?t.pbegincodehash:this.pbegincodehash,this.sigversion=void 0!==t.sigversion?t.sigversion:this.sigversion,this.satoshis=void 0!==t.satoshis?t.satoshis:this.satoshis,this.nOpCount=void 0!==t.nOpCount?t.nOpCount:this.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=void 0!==t.flags?t.flags:this.flags},f.true=e.from([1]),f.false=e.from([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.LOCKTIME_THRESHOLD_BN=new s(f.LOCKTIME_THRESHOLD=5e8),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=4096,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CLEANSTACK=256,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.SCRIPT_VERIFY_WITNESS=1024,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=2048,f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,f.SCRIPT_VERIFY_MINIMALIF=8192,f.SCRIPT_VERIFY_NULLFAIL=16384,f.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=32768,f.SCRIPT_ENABLE_SIGHASH_FORKID=65536,f.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17,f.SCRIPT_ENABLE_MONOLITH_OPCODES=1<<18,f.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31,f.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22,f.SEQUENCE_LOCKTIME_MASK=65535,f.castToBool=function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return e!==t.length-1||128!==t[e];return!1},f.prototype.checkSignatureEncoding=function(t){if(0==t.length)return!0;if(0!=(this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))&&!a.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if(0!=(this.flags&f.SCRIPT_VERIFY_LOW_S)){if(!a.fromTxFormat(t).hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!a.fromTxFormat(t).hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0},f.prototype.checkPubkeyEncoding=function(t){return 0==(this.flags&f.SCRIPT_VERIFY_STRICTENC)||c.isValid(t)?!(0!=(this.flags&f.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)&&1==this.sigversion&&!c.fromBuffer(t).compressed)||(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1)},f.prototype.evaluate=function(){if(this.script.toBuffer().length>1e4)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){if(!this.step())return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(t){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+t,!1}return!(this.vfExec.length>0)||(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1)},f.prototype.checkLockTime=function(t){return!!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&t.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&t.gte(f.LOCKTIME_THRESHOLD_BN))&&(!t.gt(new s(this.tx.nLockTime))&&!!this.tx.inputs[this.nin].isFinal())},f.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2)return!1;if(e&SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=f.SEQUENCE_LOCKTIME_TYPE_FLAG|f.SEQUENCE_LOCKTIME_MASK,n=new s(e&r),i=t.and(r),o=new s(f.SEQUENCE_LOCKTIME_TYPE_FLAG);return!!(n.lt(o)&&i.lt(o)||n.gte(o)&&i.gte(o))&&!i.gt(n)},f.prototype.step=function(){var t,e,r,h,p,l,d,g,v,m,y,_,b,S,w,I,O,E=0!=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA),k=-1===this.vfExec.indexOf(!1),P=this.script.chunks[this.pc];this.pc++;var A=P.opcodenum;if(n.isUndefined(A))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(P.buf&&P.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(A>o.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(A===o.OP_CAT||A===o.OP_SUBSTR||A===o.OP_LEFT||A===o.OP_RIGHT||A===o.OP_INVERT||A===o.OP_AND||A===o.OP_OR||A===o.OP_XOR||A===o.OP_2MUL||A===o.OP_2DIV||A===o.OP_MUL||A===o.OP_DIV||A===o.OP_MOD||A===o.OP_LSHIFT||A===o.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(k&&0<=A&&A<=o.OP_PUSHDATA4){if(E&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(P.buf){if(P.len!==P.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(P.buf)}else this.stack.push(f.false)}else if(k||o.OP_IF<=A&&A<=o.OP_ENDIF)switch(A){case o.OP_1NEGATE:case o.OP_1:case o.OP_2:case o.OP_3:case o.OP_4:case o.OP_5:case o.OP_6:case o.OP_7:case o.OP_8:case o.OP_9:case o.OP_10:case o.OP_11:case o.OP_12:case o.OP_13:case o.OP_14:case o.OP_15:case o.OP_16:p=A-(o.OP_1-1),t=new s(p).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_NOP:break;case o.OP_NOP2:case o.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var T=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E,5);if(T.lt(new s(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(T))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case o.OP_NOP3:case o.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var x=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E,5);if(x.lt(new s(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(0!=(x&f.SEQUENCE_LOCKTIME_DISABLE_FLAG))break;if(!this.checkSequence(x))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case o.OP_NOP1:case o.OP_NOP4:case o.OP_NOP5:case o.OP_NOP6:case o.OP_NOP7:case o.OP_NOP8:case o.OP_NOP9:case o.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case o.OP_IF:case o.OP_NOTIF:if(I=!1,k){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(t=this.stack[this.stack.length-1],this.flags&f.SCRIPT_VERIFY_MINIMALIF){if((t=this.stack[this.stack.length-1]).length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(1==t.length&&1!=t[0])return this.errstr="SCRIPT_ERR_MINIMALIF",!1}I=f.castToBool(t),A===o.OP_NOTIF&&(I=!I),this.stack.pop()}this.vfExec.push(I);break;case o.OP_ELSE:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case o.OP_ENDIF:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case o.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],!(I=f.castToBool(t)))return this.errstr="SCRIPT_ERR_VERIFY",!1;this.stack.pop();break;case o.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case o.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop());break;case o.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop());break;case o.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case o.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],this.stack.push(e),this.stack.push(r);break;case o.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-3],r=this.stack[this.stack.length-2];var R=this.stack[this.stack.length-1];this.stack.push(e),this.stack.push(r),this.stack.push(R);break;case o.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-4],r=this.stack[this.stack.length-3],this.stack.push(e),this.stack.push(r);break;case o.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=this.stack.splice(this.stack.length-6,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case o.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=this.stack.splice(this.stack.length-4,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case o.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-1],(I=f.castToBool(t))&&this.stack.push(t);break;case o.OP_DEPTH:t=new s(this.stack.length).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case o.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1]);break;case o.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case o.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2]);break;case o.OP_PICK:case o.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],p=(g=s.fromScriptNumBuffer(t,E)).toNumber(),this.stack.pop(),p<0||p>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-p-1],A===o.OP_ROLL&&this.stack.splice(this.stack.length-p-1,1),this.stack.push(t);break;case o.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack[this.stack.length-3],d=this.stack[this.stack.length-2];var N=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=d,this.stack[this.stack.length-2]=N,this.stack[this.stack.length-1]=l;break;case o.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack[this.stack.length-2],d=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=d,this.stack[this.stack.length-1]=l;break;case o.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1]);break;case o.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;g=new s(this.stack[this.stack.length-1].length),this.stack.push(g.toScriptNumBuffer());break;case o.OP_EQUAL:case o.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1];var C=e.toString("hex")===r.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(C?f.true:f.false),A===o.OP_EQUALVERIFY){if(!C)return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;this.stack.pop()}break;case o.OP_1ADD:case o.OP_1SUB:case o.OP_NEGATE:case o.OP_ABS:case o.OP_NOT:case o.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(t=this.stack[this.stack.length-1],g=s.fromScriptNumBuffer(t,E),A){case o.OP_1ADD:g=g.add(s.One);break;case o.OP_1SUB:g=g.sub(s.One);break;case o.OP_NEGATE:g=g.neg();break;case o.OP_ABS:g.cmp(s.Zero)<0&&(g=g.neg());break;case o.OP_NOT:g=new s((0===g.cmp(s.Zero))+0);break;case o.OP_0NOTEQUAL:g=new s((0!==g.cmp(s.Zero))+0)}this.stack.pop(),this.stack.push(g.toScriptNumBuffer());break;case o.OP_ADD:case o.OP_SUB:case o.OP_BOOLAND:case o.OP_BOOLOR:case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:case o.OP_NUMNOTEQUAL:case o.OP_LESSTHAN:case o.OP_GREATERTHAN:case o.OP_LESSTHANOREQUAL:case o.OP_GREATERTHANOREQUAL:case o.OP_MIN:case o.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(v=s.fromScriptNumBuffer(this.stack[this.stack.length-2],E),m=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E),g=new s(0),A){case o.OP_ADD:g=v.add(m);break;case o.OP_SUB:g=v.sub(m);break;case o.OP_BOOLAND:g=new s((0!==v.cmp(s.Zero)&&0!==m.cmp(s.Zero))+0);break;case o.OP_BOOLOR:g=new s((0!==v.cmp(s.Zero)||0!==m.cmp(s.Zero))+0);break;case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:g=new s((0===v.cmp(m))+0);break;case o.OP_NUMNOTEQUAL:g=new s((0!==v.cmp(m))+0);break;case o.OP_LESSTHAN:g=new s((v.cmp(m)<0)+0);break;case o.OP_GREATERTHAN:g=new s((v.cmp(m)>0)+0);break;case o.OP_LESSTHANOREQUAL:g=new s((v.cmp(m)<=0)+0);break;case o.OP_GREATERTHANOREQUAL:g=new s((v.cmp(m)>=0)+0);break;case o.OP_MIN:g=v.cmp(m)<0?v:m;break;case o.OP_MAX:g=v.cmp(m)>0?v:m}if(this.stack.pop(),this.stack.pop(),this.stack.push(g.toScriptNumBuffer()),A===o.OP_NUMEQUALVERIFY){if(!f.castToBool(this.stack[this.stack.length-1]))return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;this.stack.pop()}break;case o.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;v=s.fromScriptNumBuffer(this.stack[this.stack.length-3],E),m=s.fromScriptNumBuffer(this.stack[this.stack.length-2],E);var B=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E);I=m.cmp(v)<=0&&v.cmp(B)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(I?f.true:f.false);break;case o.OP_RIPEMD160:case o.OP_SHA1:case o.OP_SHA256:case o.OP_HASH160:case o.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var U;t=this.stack[this.stack.length-1],A===o.OP_RIPEMD160?U=u.ripemd160(t):A===o.OP_SHA1?U=u.sha1(t):A===o.OP_SHA256?U=u.sha256(t):A===o.OP_HASH160?U=u.sha256ripemd160(t):A===o.OP_HASH256&&(U=u.sha256sha256(t)),this.stack.pop(),this.stack.push(U);break;case o.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case o.OP_CHECKSIG:case o.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=this.stack[this.stack.length-2],_=this.stack[this.stack.length-1],!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(_))return!1;b=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});var F=(new i).add(y);b.findAndDelete(F);try{S=a.fromTxFormat(y),w=c.fromBuffer(_,!1),O=this.tx.verifySignature(S,w,this.nin,b,this.sigversion,this.satoshis)}catch(t){O=!1}if(!O&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&y.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(O?f.true:f.false),A===o.OP_CHECKSIGVERIFY){if(!O)return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;this.stack.pop()}break;case o.OP_CHECKMULTISIG:case o.OP_CHECKMULTISIGVERIFY:var D=1;if(this.stack.length<D)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var L=s.fromScriptNumBuffer(this.stack[this.stack.length-D],E).toNumber();if(L<0||L>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=L,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var H=++D;D+=L;var M=L+2;if(this.stack.length<D)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var K=s.fromScriptNumBuffer(this.stack[this.stack.length-D],E).toNumber();if(K<0||K>L)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var j=++D;if(D+=K,this.stack.length<D)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;b=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var V=0;V<K;V++)y=this.stack[this.stack.length-j-V],b.findAndDelete((new i).add(y));for(O=!0;O&&K>0;){if(y=this.stack[this.stack.length-j],_=this.stack[this.stack.length-H],!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(_))return!1;var W;try{S=a.fromTxFormat(y),w=c.fromBuffer(_,!1),W=this.tx.verifySignature(S,w,this.nin,b,this.sigversion,this.satoshis)}catch(t){W=!1}W&&(j++,K--),H++,K>--L&&(O=!1)}for(;D-- >1;){if(!O&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&!M&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;M>0&&M--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(O?f.true:f.false),A===o.OP_CHECKMULTISIGVERIFY){if(!O)return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;this.stack.pop()}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return!0}}).call(this,r(22).Buffer)},1274:function(t,e){t.exports=function(t,e){if("function"==typeof t.compare)return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o&&t[i]===e[i];)++i;return i!==o&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}},1275:function(t,e,r){"use strict";var n=r(18),i=r(1179),o=(r(1180),r(1205)),s=r(1191),u=r(1192),a=r(1186),c=r(1185),f=r(1206);function h(){o.apply(this,arguments)}n(h,o),h.prototype.getSignatures=function(t,e,r,n,o,a){i.checkState(this.output instanceof s),n=n||c.SIGHASH_ALL;var h=e.toPublicKey();return h.toString()===this.output.script.getPublicKey().toString("hex")?[new f({publicKey:h,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u.sign(t,e,n,r,this.output.script,a),sigtype:n})]:[]},h.prototype.addSignature=function(t,e,r){return i.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(a.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this},h.prototype.clearSignatures=function(){return this.setScript(a.empty()),this},h.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},h.SCRIPT_MAX_SIZE=73,h.prototype._estimateSize=function(){return h.SCRIPT_MAX_SIZE},t.exports=h},1276:function(t,e,r){"use strict";var n=r(18),i=r(1179),o=r(1180),s=(r(1189),r(1183)),u=r(1205),a=r(1191),c=r(1192),f=r(1214),h=r(1184),p=(o=r(1180),r(1186)),l=r(1185),d=r(1206);function g(){u.apply(this,arguments)}n(g,u),g.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=p.buildWitnessV0Out(t);if(p.buildScriptHashOut(e).equals(this.output.script)){var r=new p;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript},g.prototype.getScriptCode=function(t){var e,r=new h;e=this.output.script.isScriptHashOut()?this.getRedeemScript(t):this.output.script;var n=p.buildPublicKeyHashOut(e.toAddress()).toBuffer();return r.writeVarintNum(n.length),r.write(n),r.toBuffer()},g.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),o=this.getSatoshisBuffer();return f.sighash(t,n,r,i,o)},g.prototype.getSignatures=function(t,e,r,n,u,h){var p;if(i.checkState(this.output instanceof a),u=u||s.sha256ripemd160(e.publicKey.toBuffer()),n=n||l.SIGHASH_ALL,h=h||"ecdsa",(p=this.output.script.isScriptHashOut()?this.getRedeemScript(e.publicKey):this.output.script)&&o.equals(u,p.getPublicKeyHash())){var g;if(p.isWitnessPublicKeyHashOut()){var v=this.getSatoshisBuffer(),m=this.getScriptCode(e.publicKey);g=f.sign(t,e,n,r,m,v,h)}else g=c.sign(t,e,n,r,this.output.script,h);return[new d({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:g,sigtype:n})]}return[]},g.prototype.addSignature=function(t,e,r){return i.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([o.concat([e.signature.toDER(),o.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(p.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this},g.prototype.clearSignatures=function(){return this.setScript(p.empty()),this.setWitnesses([]),this},g.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()},g.prototype.isValidSignature=function(t,e,r){if(e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return f.verify(t,e.signature,e.publicKey,e.inputIndex,n,i,r)}return c.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},g.SCRIPT_MAX_SIZE=107,g.REDEEM_SCRIPT_SIZE=22,g.prototype._estimateSize=function(){const t=g.SCRIPT_MAX_SIZE/4;return this.output.script.isWitnessPublicKeyHashOut()?t:this.output.script.isScriptHashOut()?t+g.REDEEM_SCRIPT_SIZE:g.SCRIPT_MAX_SIZE},t.exports=g},1277:function(t,e,r){"use strict";var n=r(1178),i=r(18),o=(r(1224),r(1205)),s=r(1191),u=r(1179),a=r(1186),c=r(1185),f=r(1192),h=(r(1188),r(1180)),p=r(1206);function l(t,e,r,i,s){s=s||{},o.apply(this,arguments);var c=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,s.noSorting?this.publicKeys=e:this.publicKeys=n.sortBy(e,(function(t){return t.toString("hex")})),u.checkState(a.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,(function(t,e){c.publicKeyIndex[t.toString()]=e})),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(l,o),l.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,(function(t){return t.toString()})),t.signatures=this._serializeSignatures(),t},l.prototype._deserializeSignatures=function(t){return n.map(t,(function(t){if(t)return new p(t)}))},l.prototype._serializeSignatures=function(){return n.map(this.signatures,(function(t){if(t)return t.toObject()}))},l.prototype.getSignatures=function(t,e,r,i,o,a){u.checkState(this.output instanceof s),i=i||c.SIGHASH_ALL,a=a||"ecdsa";var h=this,l=[];return n.each(this.publicKeys,(function(n){n.toString()===e.publicKey.toString()&&l.push(new p({publicKey:e.publicKey,prevTxId:h.prevTxId,outputIndex:h.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,h.output.script,a),sigtype:i}))})),l},l.prototype.addSignature=function(t,e,r){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),u.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,(function(t){return!n.isUndefined(t)})),(function(t){return h.concat([t.signature.toDER(),h.integerAsSingleByteBuffer(t.sigtype)])}))},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,(function(t,e){return t+!!e}),0)},l.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,(function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]}))},l.prototype.isValidSignature=function(t,e,r){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script,r)},l.normalizeSignatures=function(t,e,r,n,i,o){return i.map((function(i){var s=null;return n=n.filter((function(n){if(s)return!0;var u=new p({signature:c.fromTxFormat(n),publicKey:i,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:c.SIGHASH_ALL});return u.signature.nhashtype=u.sigtype,!f.verify(t,u.signature,u.publicKey,u.inputIndex,e.output.script,o)||(s=u,!1)})),s||null}))},l.OPCODES_SIZE=1,l.SIGNATURE_SIZE=73,l.prototype._estimateSize=function(){return l.OPCODES_SIZE+this.threshold*l.SIGNATURE_SIZE},t.exports=l},1278:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(18),o=r(1205),s=r(1191),u=r(1179),a=r(1189),c=r(1186),f=r(1185),h=r(1192),p=r(1214),l=r(1184),d=r(1180),g=r(1206);function v(t,e,r,i,s){s=s||{},o.apply(this,arguments);var u=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,s.noSorting?this.publicKeys=e:this.publicKeys=n.sortBy(e,(function(t){return t.toString("hex")})),this.redeemScript=c.buildMultisigOut(this.publicKeys,r,s);var f=c.buildWitnessMultisigOutFromScript(this.redeemScript);if(f.equals(this.output.script))this.nestedWitness=!1,this.type=a.PayToWitnessScriptHash;else if(c.buildScriptHashOut(f).equals(this.output.script))this.nestedWitness=!0,this.type=a.PayToScriptHash;else{if(!c.buildScriptHashOut(this.redeemScript).equals(this.output.script))throw new Error("Provided public keys don't hash to the provided output");this.nestedWitness=!1,this.type=a.PayToScriptHash}if(this.nestedWitness){var h=new c;h.add(f.toBuffer()),this.setScript(h)}this.publicKeyIndex={},n.each(this.publicKeys,(function(t,e){u.publicKeyIndex[t.toString()]=e})),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(v,o),v.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,(function(t){return t.toString()})),t.signatures=this._serializeSignatures(),t},v.prototype._deserializeSignatures=function(t){return n.map(t,(function(t){if(t)return new g(t)}))},v.prototype._serializeSignatures=function(){return n.map(this.signatures,(function(t){if(t)return t.toObject()}))},v.prototype.getScriptCode=function(){var t=new l;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()},v.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===a.PayToWitnessScriptHash){var o=this.getScriptCode(),s=this.getSatoshisBuffer();i=p.sighash(t,n,r,o,s)}else i=h.sighash(t,n,r,this.redeemScript);return i},v.prototype.getSignatures=function(t,e,r,i,o,c){u.checkState(this.output instanceof s),i=i||f.SIGHASH_ALL,c=c||"ecdsa";var l=this,d=[];return n.each(this.publicKeys,(function(n){if(n.toString()===e.publicKey.toString()){var o;if(l.nestedWitness||l.type===a.PayToWitnessScriptHash){var s=l.getScriptCode(),u=l.getSatoshisBuffer();o=p.sign(t,e,i,r,s,u,c)}else o=h.sign(t,e,i,r,l.redeemScript,c);d.push(new g({publicKey:e.publicKey,prevTxId:l.prevTxId,outputIndex:l.outputIndex,inputIndex:r,signature:o,sigtype:i}))}})),d},v.prototype.addSignature=function(t,e,r){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},v.prototype._updateScript=function(){if(this.nestedWitness||this.type===a.PayToWitnessScriptHash){for(var t=[e.alloc(0)],r=this._createSignatures(),n=0;n<r.length;n++)t.push(r[n]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var i=c.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(i)}return this},v.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,(function(t){return!n.isUndefined(t)})),(function(t){return d.concat([t.signature.toDER(),d.integerAsSingleByteBuffer(t.sigtype)])}))},v.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},v.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},v.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},v.prototype.countSignatures=function(){return n.reduce(this.signatures,(function(t,e){return t+!!e}),0)},v.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,(function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]}))},v.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===a.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return p.verify(t,e.signature,e.publicKey,e.inputIndex,n,i,r)}return e.signature.nhashtype=e.sigtype,h.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript,r)},v.OPCODES_SIZE=7,v.SIGNATURE_SIZE=74,v.PUBKEY_SIZE=34,v.REDEEM_SCRIPT_SIZE=34,v.prototype._estimateSize=function(){var t=v.OPCODES_SIZE+this.threshold*v.SIGNATURE_SIZE+this.publicKeys.length*v.PUBKEY_SIZE;return this.type===a.PayToWitnessScriptHash?t/4:this.nestedWitness?t/4+v.REDEEM_SCRIPT_SIZE:t},t.exports=v}).call(this,r(22).Buffer)},1279:function(t,e,r){"use strict";(function(e){var n=r(1184),i=r(1190),o=r(1182),s=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r))this.buf=r;else if("number"==typeof r){var n=r;this.fromNumber(n)}else if(r instanceof o){var i=r;this.fromBN(i)}else if(r){var s=r;this.set(s)}};s.prototype.set=function(t){return this.buf=t.buf||this.buf,this},s.prototype.fromString=function(t){return this.set({buf:e.from(t,"hex")}),this},s.prototype.toString=function(){return this.buf.toString("hex")},s.prototype.fromBuffer=function(t){return this.buf=t,this},s.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this},s.prototype.fromBN=function(t){return this.buf=n().writeVarintBN(t).concat(),this},s.prototype.fromNumber=function(t){return this.buf=n().writeVarintNum(t).concat(),this},s.prototype.toBuffer=function(){return this.buf},s.prototype.toBN=function(){return i(this.buf).readVarintBN()},s.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=s}).call(this,r(22).Buffer)},1280:function(t,e,r){t.exports=r(1281),t.exports.BlockHeader=r(1216),t.exports.MerkleBlock=r(1236)},1281:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1216),o=r(1182),s=r(1180),u=r(1190),a=r(1184),c=r(1183),f=r(1213),h=r(1179);function p(t){return this instanceof p?(n.extend(this,p._from(t)),this):new p(t)}p.MAX_BLOCK_SIZE=1e6,p._from=function(t){var e={};if(s.isBuffer(t))e=p._fromBufferReader(u(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for Block");e=p._fromObject(t)}return e},p._fromObject=function(t){var e=[];return t.transactions.forEach((function(t){t instanceof f?e.push(t):e.push(f().fromObject(t))})),{header:i.fromObject(t.header),transactions:e}},p.fromObject=function(t){var e=p._fromObject(t);return new p(e)},p._fromBufferReader=function(t){var e={};h.checkState(!t.finished(),"No block data received"),e.header=i.fromBufferReader(t);var r=t.readVarintNum();e.transactions=[];for(var n=0;n<r;n++)e.transactions.push(f().fromBufferReader(t));return e},p.fromBufferReader=function(t){h.checkArgument(t,"br is required");var e=p._fromBufferReader(t);return new p(e)},p.fromBuffer=function(t){return p.fromBufferReader(new u(t))},p.fromString=function(t){var r=e.from(t,"hex");return p.fromBuffer(r)},p.fromRawBlock=function(t){s.isBuffer(t)||(t=e.from(t,"binary"));var r=u(t);r.pos=p.Values.START_OF_BLOCK;var n=p._fromBufferReader(r);return new p(n)},p.prototype.toObject=p.prototype.toJSON=function(){var t=[];return this.transactions.forEach((function(e){t.push(e.toObject())})),{header:this.header.toObject(),transactions:t}},p.prototype.toBuffer=function(){return this.toBufferWriter().concat()},p.prototype.toString=function(){return this.toBuffer().toString("hex")},p.prototype.toBufferWriter=function(t){t||(t=new a),t.write(this.header.toBuffer()),t.writeVarintNum(this.transactions.length);for(var e=0;e<this.transactions.length;e++)this.transactions[e].toBufferWriter(t);return t},p.prototype.getTransactionHashes=function(){var t=[];if(0===this.transactions.length)return[p.Values.NULL_HASH];for(var e=0;e<this.transactions.length;e++)t.push(this.transactions[e]._getHash());return t},p.prototype.getMerkleTree=function(){for(var t=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var o=Math.min(i+1,n-1),s=e.concat([t[r+i],t[r+o]]);t.push(c.sha256sha256(s))}r+=n}return t},p.prototype.getMerkleRoot=function(){var t=this.getMerkleTree();return t[t.length-1]},p.prototype.validMerkleRoot=function(){var t=new o(this.header.merkleRoot.toString("hex"),"hex"),e=new o(this.getMerkleRoot().toString("hex"),"hex");return 0===t.cmp(e)},p.prototype._getHash=function(){return this.header._getHash()};var l={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(p.prototype,"id",l),Object.defineProperty(p.prototype,"hash",l),p.prototype.inspect=function(){return"<Block "+this.id+">"},p.Values={START_OF_BLOCK:8,NULL_HASH:e.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=p}).call(this,r(22).Buffer)},1282:function(t,e,r){"use strict";(function(e){var n=r(1178),i=r(1203),o=r(1188),s=r(1189),u=r(1184),a=r(1211),c=r(1185),f=r(1183).sha256sha256,h=r(1181),p=r(1179);function l(t){return this instanceof l?(p.checkArgument(n.isString(t),"First argument should be a string"),this.message=t,this):new l(t)}l.MAGIC_BYTES=e.from("Bitcoin Signed Message:\n"),l.prototype.magicHash=function(){var t=u.varintBufNum(l.MAGIC_BYTES.length),r=e.from(this.message),n=u.varintBufNum(r.length),i=e.concat([t,l.MAGIC_BYTES,n,r]);return f(i)},l.prototype._sign=function(t){p.checkArgument(t instanceof i,"First argument should be an instance of PrivateKey");var e=this.magicHash(),r=new a;return r.hashbuf=e,r.privkey=t,r.pubkey=t.toPublicKey(),r.signRandomK(),r.calci(),r.sig},l.prototype.sign=function(t){return this._sign(t).toCompact().toString("base64")},l.prototype._verify=function(t,e){p.checkArgument(t instanceof o,"First argument should be an instance of PublicKey"),p.checkArgument(e instanceof c,"Second argument should be an instance of Signature");var r=this.magicHash(),n=a.verify(r,e,t);return n||(this.error="The signature was invalid"),n},l.prototype.verify=function(t,r){p.checkArgument(t),p.checkArgument(r&&n.isString(r)),n.isString(t)&&(t=s.fromString(t));var i=c.fromCompact(e.from(r,"base64")),o=new a;o.hashbuf=this.magicHash(),o.sig=i;var u=o.toPublicKey(),f=s.fromPublicKey(u,t.network);return t.toString()!==f.toString()?(this.error="The signature did not match the message digest",!1):this._verify(u,i)},l.prototype.recoverPublicKey=function(t,r){p.checkArgument(t),p.checkArgument(r&&n.isString(r)),n.isString(t)&&(t=s.fromString(t));var i=c.fromCompact(e.from(r,"base64")),o=new a;o.hashbuf=this.magicHash(),o.sig=i;var u=o.toPublicKey(),f=s.fromPublicKey(u,t.network);return t.toString()!==f.toString()&&(this.error="The signature did not match the message digest"),u.toString()},l.fromString=function(t){return new l(t)},l.fromJSON=function(t){return h.isValidJSON(t)&&(t=JSON.parse(t)),new l(t.message)},l.prototype.toObject=function(){return{message:this.message}},l.prototype.toJSON=function(){return JSON.stringify(this.toObject())},l.prototype.toString=function(){return this.message},l.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=l;r(1186)}).call(this,r(22).Buffer)},1283:function(t,e,r){"use strict";var n=r(1178),i=r(1227),o=r(1189),s=r(1226),u=function(t,e){if(!(this instanceof u))return new u(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,"string"==typeof t){var r=u.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else{if("object"!=typeof t)throw new TypeError("Unrecognized data format.");this._fromObject(t)}};u.fromString=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return new u(t)},u.fromObject=function(t){return new u(t)},u.isValid=function(t,e){try{new u(t,e)}catch(t){return!1}return!0},u.parse=function(t){var e=i.parse(t,!0);if("bitcoin:"!==e.protocol)throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query},u.Members=["address","amount","message","label","r"],u.prototype._fromObject=function(t){if(!o.isValid(t.address))throw new TypeError("Invalid bitcoin address");for(var e in this.address=new o(t.address),this.network=this.address.network,this.amount=t.amount,t)if("address"!==e&&"amount"!==e){if(/^req-/.exec(e)&&-1===this.knownParams.indexOf(e))throw Error("Unknown required argument "+e);(u.Members.indexOf(e)>-1?this:this.extras)[e]=t[e]}},u.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return s.fromBTC(t).toSatoshis()},u.prototype.toObject=u.prototype.toJSON=function(){for(var t={},e=0;e<u.Members.length;e++){var r=u.Members[e];this.hasOwnProperty(r)&&void 0!==this[r]&&(t[r]=this[r].toString())}return n.extend(t,this.extras),t},u.prototype.toString=function(){var t={};return this.amount&&(t.amount=s.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),n.extend(t,this.extras),i.format({protocol:"bitcoin:",host:this.address,query:t})},u.prototype.inspect=function(){return"<URI: "+this.toString()+">"},t.exports=u},1329:function(t,e,r){"use strict";r.d(e,"a",(function(){return at}));r(607);var n=r(300),i=(r(605),r(139)),o=(r(606),r(172)),s=(r(1219),r(1218)),u=r(0),a=r.n(u),c=r(170),f=r(33),h=r.n(f),p=r(303),l=r(1121),d=r.n(l),g=r(17),v=r(171),m=r(11),y=r(4);function b(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e,r,n,i,o,s){try{var u=t[o](s),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,i)}function I(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){w(o,n,i,s,u,"next",t)}function u(t){w(o,n,i,s,u,"throw",t)}s(void 0)}))}}var O=y.Transaction.Sighash,E=y.crypto.Signature,k=y.crypto.ECDSA,P=y.crypto.BN,A=y.Transaction.Signature,T=E.SIGHASH_ALL|E.SIGHASH_FORKID,x=m.n[1];function R(t){return N.apply(this,arguments)}function N(){return(N=I(regeneratorRuntime.mark((function t(e){var r,n,i,s,u,a,c,f,p,l,d,g,v,m,S,w,R,N,C,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.personalWallet,n=e.price,e.payCallback,i=e.note,s=e.usdAmount,u=e.feerate,a=r.change,c=h()(s).div(n.bsv.usd).toFixed(8,1).toString(),f=r.utxo,p=h()(c).multipliedBy(1e8),l=p.toString(),(d=new y.Transaction).feePerKb(u.bsv2||5e3),g=b(f);try{for(g.s();!(v=g.n()).done;)m=v.value,p.isGreaterThan(0)&&(S=m.address,w=m.txid,R=m.value,N=m.vout,1===m.status&&(d.from({txId:w,outputIndex:N,script:y.Script.buildPublicKeyHashOut(S).toString(),satoshis:R}),p=p.minus(R)))}catch(t){g.e(t)}finally{g.f()}if(!p.isGreaterThan(0)){t.next=12;break}return t.abrupt("return",o.a.error(_("lack_of_balance")));case 12:return C=h()(c).multipliedBy(1e8).toNumber(),d.to(x,C),d.change(a),B=d.inputs.map((function(t,e){var r=t.output,n=r.script.toAddress().toString(),i=P.fromBuffer(O.sighash(d,T,e,r.script,r.satoshisBN),{endian:"little"});return{address:n,hash:("0".repeat(8)+i.toString("hex")).slice(-64)}})),t.next=18,e.dispatch({type:"service/signSingWalletMessage",payload:B});case 18:return t.sent.forEach((function(t,e){var r=new E({r:new P(t.r,16),s:k.toLowS(new P(t.s,16))}),n=d.inputs[e];d.applySignature(new A({publicKey:t.publicKey,prevTxId:n.prevTxId,outputIndex:n.outputIndex,inputIndex:e,sigtype:T,signature:r}))})),t.abrupt("return",new Promise(function(){var t=I(regeneratorRuntime.mark((function t(n,o){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"service/broadcast",payload:{tx:d.toJSON(),note:i,value:l,wid:r.id,biz_data:x,token:"bsv"}});case 2:s=t.sent,n(s);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=r(1268);function B(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F(t,e,r,n,i,o,s){try{var u=t[o](s),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,i)}function D(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){F(o,n,i,s,u,"next",t)}function u(t){F(o,n,i,s,u,"throw",t)}s(void 0)}))}}var L,H=C.Transaction.Sighash,M=C.crypto.Signature,K=C.crypto.ECDSA,j=C.crypto.BN,V=C.Transaction.Signature,W=M.SIGHASH_ALL|M.SIGHASH_FORKID,z=m.n[2];function G(t){return Y.apply(this,arguments)}function Y(){return(Y=D(regeneratorRuntime.mark((function t(e){var r,n,i,o,s,u,a,c,f,p,l,d,g,v,m,y,b,S,w,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.personalWallet,n=e.price,i=e.note,o=e.usdAmount,s=e.feerate,u=r.change,a=h()(o).div(n.btc.usd).toFixed(8,1).toString(),c=r.utxo,f=h()(a).multipliedBy(1e8),p=f.toString(),0,(l=new C.Transaction).feePerKb(s.btc||71680),d=B(c);try{for(d.s();!(g=d.n()).done;)v=g.value,f.isGreaterThan(0)&&(m=v.address,y=v.txid,b=v.value,S=v.vout,1===v.status&&(l.from({txId:y,outputIndex:S,script:C.Script.buildPublicKeyHashOut(m).toString(),satoshis:b}),f=f.minus(b)))}catch(t){d.e(t)}finally{d.f()}if(!f.isGreaterThan(0)){t.next=13;break}return t.abrupt("return",new Promise((function(t,e){t({error:_("lack_of_balance")})})));case 13:return w=h()(a).multipliedBy(1e8).toNumber(),l.to(z,w),l.change(u),I=l.inputs.map((function(t,e){var r=t.output,n=r.script.toAddress().toString(),i=j.fromBuffer(H.sighash(l,W,e,r.script,r.satoshisBN),{endian:"little"});return{address:n,hash:("0".repeat(8)+i.toString("hex")).slice(-64)}})),t.next=19,e.dispatch({type:"service/signSingWalletMessage",payload:I});case 19:return t.sent.forEach((function(t,e){var r=new M({r:new j(t.r,16),s:K.toLowS(new j(t.s,16))}),n=l.inputs[e];l.applySignature(new V({publicKey:t.publicKey,prevTxId:n.prevTxId,outputIndex:n.outputIndex,inputIndex:e,sigtype:W,signature:r}))})),t.abrupt("return",new Promise(function(){var t=D(regeneratorRuntime.mark((function t(n,o){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch({type:"service/broadcast",payload:{tx:l.toJSON(),note:i,value:p,wid:r.id,biz_data:z,token:"btc"}});case 2:s=t.sent,n(s);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e,r,n,i,o,s){try{var u=t[o](s),a=u.value}catch(t){return void r(t)}u.done?e(a):Promise.resolve(a).then(n,i)}function X(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){Z(o,n,i,s,u,"next",t)}function u(t){Z(o,n,i,s,u,"throw",t)}s(void 0)}))}}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=nt(t);if(e){var i=nt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return et(this,r)}}function et(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?rt(t):e}function rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(Object(r),!0).forEach((function(e){st(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function st(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ut=s.a.Option,at=Object(c.connect)((function(t){var e=t.user,r=t.wallet,n=t.loading.effects;return ot(ot(ot({},e),r),{},{signLoading:n["service/signSingWalletMessage"],broadcasting:n["service/broadcast"]})}))(L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(_,t);var e,r,u,c,f,l,y=tt(_);function _(){var t;Q(this,_);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return st(rt(t=y.call.apply(y,[this].concat(r))),"state",{currentAccountIndex:-1,amount:0,ready:!1,posting:!1}),t}return e=_,(r=[{key:"componentDidMount",value:(l=X(regeneratorRuntime.mark((function t(){var e,r,n,i,o,s,u,a,c,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,r=e.wallets,n=e.dispatch,i=e.price,o=e.unitPrice,!(r[1].length<1)){t.next=4;break}return t.next=4,n({type:"service/queryWallet",payload:{type:1}});case 4:s=-1,u=0;case 6:if(!(u<r[1].length)){t.next=17;break}if(a=r[1][u],c=m.r[7===a.token?1:a.token].name.toLowerCase(),f=h()(o||1).div(i[c].usd).toFixed(8,1).toString(),!(parseInt(a.total)>1e8*parseFloat(f)+1e3)||1!==a.token&&2!==a.token){t.next=14;break}return s=u,this.setState({currentAccountIndex:u}),t.abrupt("break",17);case 14:u++,t.next=6;break;case 17:if(p=r[1][s],!(s>-1&&3!=p.token&&6!=p.token)||p.change){t.next=21;break}return t.next=21,n({type:"service/createSingleWalletAddress",payload:{wid:p.id,type:2}});case 21:this.setState({currentAccountIndex:s,ready:!0});case 22:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"changeAccount",value:(f=X(regeneratorRuntime.mark((function t(e){var r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({currentAccountIndex:e,ready:!1}),r=this.props,n=r.wallets,i=r.dispatch,(o=n[1][e]).change||3==o.token||6==o.token||o.change){t.next=6;break}return t.next=6,i({type:"service/createSingleWalletAddress",payload:{wid:n[1][e].id,type:2}});case 6:this.setState({ready:!0});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"renderAccounts",value:function(){var t=this;if(this.state.ready){var e=this.props,r=e.wallets,n=e.price,i=e.unitPrice,o=this.state.currentAccountIndex;return a.a.createElement(s.a,{onChange:function(e){return t.changeAccount(e)},defaultValue:-1===o?void 0:o,placeholder:Object(g.a)("lack_balance"),style:{width:350},loading:!this.state.ready},r[1].map((function(t,e){if(1!==t.token&&2!==t.token)return null;var r=m.r[t.token].name,o=h()(i||1).div(n[r.toLowerCase()].usd).toFixed(8,1).toString();return a.a.createElement(ut,{value:e,key:t.id,disabled:parseInt(t.total)<1e8*parseFloat(o)+1e3},t.name,"(",Object(v.e)(t.total)," ",r,")")})))}}},{key:"createTransaction",value:(c=X(regeneratorRuntime.mark((function t(){var e,r,n,i,s,u,a,c,f,h,p=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.posting&&this.state.ready){t.next=2;break}return t.abrupt("return");case 2:if(e=this.props,r=e.wallets,n=e.price,i=e.payCallback,s=e.note,u=e.unitPrice,a=e.dispatch,c=e.feerate,f=this.state.currentAccountIndex,h=r[1][f]){t.next=7;break}return t.abrupt("return");case 7:if(this.setState({posting:!0}),2!==h.token){t.next=14;break}return t.next=11,G({personalWallet:h,usdAmount:u||1,price:n,note:s,dispatch:a,feerate:c}).then((function(t){p.setState({posting:!1}),t.success&&t.data.id?i(!0):o.a.error("Transaction failed. ".concat(t.error))})).catch((function(t){console.log(t)}));case 11:t.sent,t.next=18;break;case 14:if(1!==h.token){t.next=18;break}return t.next=17,R({personalWallet:h,usdAmount:u||1,price:n,note:s,dispatch:a,feerate:c}).then((function(t){p.setState({posting:!1}),t.success&&t.data.id?i(!0):o.a.error("Transaction failed. ".concat(t.error))})).catch((function(t){console.log(t)}));case 17:t.sent;case 18:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.props,r=e.note,o=e.price,s=e.payCallback,u=e.unitPrice,c=e.wallets,f=this.state,l=f.currentAccountIndex,v=f.ready;if(!o||!o.bsv||!v)return a.a.createElement(p.a,null);l<0&&(l=0);var y=c[1][l],_=m.r[y.token],b=h()(u||1).div(o[_.name.toLowerCase()].usd).toFixed(8,1).toString();return a.a.createElement(n.a,{spinning:this.state.posting},a.a.createElement("div",{className:d.a.pay_container},a.a.createElement("div",{className:d.a.title},Object(g.a)("pay_account_title")),a.a.createElement("div",{className:d.a.amount},b," ",_.name," ≈ ",u||1," USD"),a.a.createElement("div",{className:d.a.item},a.a.createElement("div",{className:d.a.label},Object(g.a)("to")),a.a.createElement("div",{className:d.a.value},m.n[y.token])),a.a.createElement("div",{className:d.a.item},a.a.createElement("div",{className:d.a.label},Object(g.a)("amount")),a.a.createElement("div",{className:d.a.value},b," ",_.name)),a.a.createElement("div",{className:d.a.item},a.a.createElement("div",{className:d.a.label},Object(g.a)("note")),a.a.createElement("div",{className:d.a.value},r)),a.a.createElement("div",{className:d.a.item},a.a.createElement("div",{className:d.a.label},Object(g.a)("pay_from_account")),a.a.createElement("div",{className:d.a.value},this.renderAccounts())),a.a.createElement("div",{className:d.a.desc},Object(g.a)("pay_account_desc")),a.a.createElement("div",{className:d.a.btns},a.a.createElement(i.a,{type:"primary",className:d.a.btn,onClick:function(){return t.createTransaction()},loading:!v,disabled:l<0},Object(g.a)("ok")),a.a.createElement("span",{className:d.a.cancel,onClick:function(){return s(!1)}},Object(g.a)("cancel")))))}}])&&J(e.prototype,r),u&&J(e,u),_}(u.Component))||L}}]);